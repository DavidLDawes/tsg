"use strict";(self.webpackChunkstarship_designer=self.webpackChunkstarship_designer||[]).push([[112],{112:(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var n=s(540),i=s(749),a=s(635),o=s(848);const r=({shipDesign:t,mass:e,cost:s,staff:r,combinePilotNavigator:c,noStewards:d,onBackToShipSelect:l})=>{const[h,p]=(0,n.useState)(!1),[y,u]=(0,n.useState)(null),[g,f]=(0,n.useState)(!1),[m,x]=(0,n.useState)(""),[_,j]=(0,n.useState)(!1),[v,q]=(0,n.useState)("");(0,n.useEffect)(()=>{const n=n=>{n.ctrlKey&&"p"===n.key&&(n.preventDefault(),(()=>{const n=window.open("","_blank");if(!n)return;const a=(0,i.Qn)(t.ship.tonnage),o=(0,i.X0)(t.ship.tonnage),r=a&&o?` (hull code ${a}, ${o} sections)`:a?` (${a})`:"",c=`${t.ship.name}, ${t.ship.configuration} configuration, ${t.ship.tonnage} tons${r}, Tech Level ${t.ship.tech_level}`,d=`\n      <!DOCTYPE html>\n      <html>\n        <head>\n          <title>Ship Design - ${t.ship.name}</title>\n          <style>\n            body { font-family: Arial, sans-serif; margin: 20px; }\n            .ship-title { font-size: 18px; font-weight: bold; margin-bottom: 20px; }\n            table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }\n            th, td { padding: 8px 12px; border: 1px solid #ccc; text-align: left; }\n            th { background-color: #f0f0f0; font-weight: bold; }\n            .category-cell { font-weight: bold; }\n            .totals-row { border-top: 2px solid #000; font-weight: bold; }\n            .totals-row td { background-color: #f8f8f8; }\n            @media print {\n              body { margin: 0; }\n              .ship-title { page-break-after: avoid; }\n              table { page-break-inside: avoid; }\n            }\n          </style>\n        </head>\n        <body>\n          <div class="ship-title">${c}</div>\n          <table>\n            <thead>\n              <tr>\n                <th>Category</th>\n                <th>Item</th>\n                <th>Mass</th>\n                <th>Cost</th>\n              </tr>\n            </thead>\n            <tbody>\n              ${(()=>{const n=[],a=(t,e,s,i)=>{const a=t?`<td class="category-cell">${t}</td>`:"<td></td>";n.push(`\n        <tr>\n          ${a}\n          <td>${e}</td>\n          <td>${s.toFixed(1)} tons</td>\n          <td>${i.toFixed(2)} MCr</td>\n        </tr>\n      `)};t.engines.filter(t=>!("maneuver_drive"===t.engine_type&&0===t.performance)).forEach((t,e)=>{const s="power_plant"===t.engine_type?"Power Plant":"jump_drive"===t.engine_type?"Jump Drive":"Maneuver Drive",n="power_plant"===t.engine_type?"P":"jump_drive"===t.engine_type?"J":"M";a(0===e?"Engines":"",`${s} ${n}-${t.performance}`,t.mass,t.cost)});let o=0;const r=t.fittings.some(t=>"bridge"===t.fitting_type),c=t.fittings.some(t=>"half_bridge"===t.fitting_type),d=t.fittings.filter(t=>"launch_tube"===t.fitting_type),l=t.fittings.find(t=>"comms_sensors"===t.fitting_type);if(r||c){const e=r?"Bridge":"Half Bridge",s=t.fittings.find(t=>"bridge"===t.fitting_type||"half_bridge"===t.fitting_type);s&&(a(0===o?"Fittings":"",e,s.mass,s.cost),o++)}if(d.forEach(t=>{a(0===o?"Fittings":"",`Launch Tube (${t.launch_vehicle_mass||1} ton vehicle)`,t.mass,t.cost),o++}),l){const t=i.EH.find(t=>t.type===l.comms_sensors_type);a(0===o?"Fittings":"",`${t?.name||"Standard"} Comms & Sensors`,l.mass,l.cost)}t.weapons.filter(t=>t.quantity>0).forEach((t,e)=>{const s=1===t.quantity?t.weapon_name:`${t.weapon_name} (x${t.quantity})`;a(0===e?"Weapons":"",s,t.mass*t.quantity,t.cost*t.quantity)});let h=0;const p=t.defenses.filter(t=>t.quantity>0),y=t.ship.sand_reloads>0;(p.length>0||y)&&(p.forEach(t=>{const e=i.zv.find(e=>e.type===t.defense_type),s=e?.name||t.defense_type,n=1===t.quantity?s:`${s} (x${t.quantity})`;a(0===h?"Defenses":"",n,t.mass*t.quantity,t.cost*t.quantity),h++}),y&&a(0===h?"Defenses":"","Sand",t.ship.sand_reloads,0)),t.berths.filter(t=>t.quantity>0).forEach((t,e)=>{const s=i.K4.find(e=>e.type===t.berth_type),n=s?.name||t.berth_type,o=1===t.quantity?n:`${n} (x${t.quantity})`;a(0===e?"Berths":"",o,t.mass*t.quantity,t.cost*t.quantity)});const u=t.facilities.filter(t=>t.quantity>0);return u.length>0&&u.sort((t,e)=>"commissary"===t.facility_type?-1:"commissary"===e.facility_type?1:0).forEach((t,e)=>{const s=i.Wv.find(e=>e.type===t.facility_type),n=s?.name||t.facility_type,o=1===t.quantity?n:`${n} (x${t.quantity})`;a(0===e?"Rec/Health":"",o,t.mass*t.quantity,t.cost*t.quantity)}),t.cargo.filter(t=>t.tonnage>0).forEach((t,e)=>{const s=i.bN.find(e=>e.type===t.cargo_type),n=s?.name||t.cargo_type;a(0===e?"Cargo":"",n,t.tonnage,t.cost)}),t.vehicles.filter(t=>t.quantity>0).forEach((t,e)=>{const s=i.rZ.find(e=>e.type===t.vehicle_type);let n=s?.name||t.vehicle_type;n=n.replace(/\b\d+(\.\d+)?\s+ton\s+/gi,"");const o=1===t.quantity?n:`${n} (x${t.quantity})`;a(0===e?"Vehicles":"",o,t.mass*t.quantity,t.cost*t.quantity)}),t.drones.filter(t=>t.quantity>0).forEach((t,e)=>{const s=i.lj.find(e=>e.type===t.drone_type);let n=s?.name||t.drone_type;n=n.replace(/\b\d+(\.\d+)?\s+ton\s+/gi,"");const o=1===t.quantity?n:`${n} (x${t.quantity})`;a(0===e?"Drones":"",o,t.mass*t.quantity,t.cost*t.quantity)}),n.push(`\n      <tr class="totals-row">\n        <td><strong>Total</strong></td>\n        <td></td>\n        <td><strong>${e.used.toFixed(1)} tons</strong></td>\n        <td><strong>${s.total.toFixed(2)} MCr</strong></td>\n      </tr>\n    `),n.join("")})()}\n            </tbody>\n          </table>\n        </body>\n      </html>\n    `;n.document.write(d),n.document.close(),n.focus(),n.print(),n.close()})())};return document.addEventListener("keydown",n),()=>{document.removeEventListener("keydown",n)}},[t,e,s]);const $=(0,i.Qn)(t.ship.tonnage),b=(0,i.X0)(t.ship.tonnage),w=$&&b?` (hull code ${$}, ${b} sections)`:$?` (${$})`:"";return(0,o.jsxs)("div",{className:"panel-content",children:[(0,o.jsx)("div",{className:"ship-title-line",children:(0,o.jsxs)("h3",{children:[t.ship.name,", ",t.ship.configuration," configuration, ",t.ship.tonnage.toLocaleString()," tons",w,", Tech Level ",t.ship.tech_level]})}),(0,o.jsx)("div",{className:"ship-components-table",children:(0,o.jsxs)("table",{children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"Category"}),(0,o.jsx)("th",{children:"Item"}),(0,o.jsx)("th",{children:"Mass"}),(0,o.jsx)("th",{children:"Cost"})]})}),(0,o.jsxs)("tbody",{children:[t.engines.filter(t=>!("maneuver_drive"===t.engine_type&&0===t.performance)).map((t,e)=>{const s="power_plant"===t.engine_type?"Power Plant":"jump_drive"===t.engine_type?"Jump Drive":"Maneuver Drive",n="power_plant"===t.engine_type?"P":"jump_drive"===t.engine_type?"J":"M";return(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:0===e?"Engines":""}),(0,o.jsxs)("td",{children:[s," ",n,"-",t.performance]}),(0,o.jsxs)("td",{children:[t.mass.toFixed(1)," tons"]}),(0,o.jsxs)("td",{children:[t.cost.toFixed(2)," MCr"]})]},t.engine_type)}),(()=>{const e=[];let s=0;const n=t.fittings.some(t=>"bridge"===t.fitting_type),a=t.fittings.some(t=>"half_bridge"===t.fitting_type),r=t.fittings.filter(t=>"launch_tube"===t.fitting_type),c=t.fittings.find(t=>"comms_sensors"===t.fitting_type);if(n||a){const i=n?"Bridge":"Half Bridge",a=t.fittings.find(t=>"bridge"===t.fitting_type||"half_bridge"===t.fitting_type);a&&(e.push((0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:0===s?"Fittings":""}),(0,o.jsx)("td",{children:i}),(0,o.jsxs)("td",{children:[a.mass.toFixed(1)," tons"]}),(0,o.jsxs)("td",{children:[a.cost.toFixed(2)," MCr"]})]},"bridge")),s++)}if(r.forEach((t,n)=>{e.push((0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:0===s?"Fittings":""}),(0,o.jsxs)("td",{children:["Launch Tube (",t.launch_vehicle_mass||1," ton vehicle)"]}),(0,o.jsxs)("td",{children:[t.mass.toFixed(1)," tons"]}),(0,o.jsxs)("td",{children:[t.cost.toFixed(2)," MCr"]})]},`launch_tube_${n}`)),s++}),c){const t=i.EH.find(t=>t.type===c.comms_sensors_type);e.push((0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:0===s?"Fittings":""}),(0,o.jsxs)("td",{children:[t?.name||"Standard"," Comms & Sensors"]}),(0,o.jsxs)("td",{children:[c.mass.toFixed(1)," tons"]}),(0,o.jsxs)("td",{children:[c.cost.toFixed(2)," MCr"]})]},"comms_sensors")),s++}return e})(),(()=>{const e=[];let s=0;const n=t.weapons.filter(t=>t.quantity>0);return n.length>0&&n.forEach(t=>{const n=1===t.quantity?t.weapon_name:`${t.weapon_name} (x${t.quantity})`;e.push((0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:0===s?"Weapons":""}),(0,o.jsx)("td",{children:n}),(0,o.jsxs)("td",{children:[(t.mass*t.quantity).toFixed(1)," tons"]}),(0,o.jsxs)("td",{children:[(t.cost*t.quantity).toFixed(2)," MCr"]})]},`weapon_${t.weapon_name}`)),s++}),e})(),(()=>{const e=[];let s=0;const n=t.defenses.filter(t=>t.quantity>0),a=t.ship.sand_reloads>0;return(n.length>0||a)&&(n.forEach(t=>{const n=i.zv.find(e=>e.type===t.defense_type),a=n?.name||t.defense_type,r=1===t.quantity?a:`${a} (x${t.quantity})`;e.push((0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:0===s?"Defenses":""}),(0,o.jsx)("td",{children:r}),(0,o.jsxs)("td",{children:[(t.mass*t.quantity).toFixed(1)," tons"]}),(0,o.jsxs)("td",{children:[(t.cost*t.quantity).toFixed(2)," MCr"]})]},`defense_${t.defense_type}`)),s++}),a&&(e.push((0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:0===s?"Defenses":""}),(0,o.jsx)("td",{children:"Sand"}),(0,o.jsxs)("td",{children:[t.ship.sand_reloads.toFixed(1)," tons"]}),(0,o.jsx)("td",{})]},"defense_sand")),s++)),e})(),(()=>{const e=[];let s=0;const n=t.berths.filter(t=>t.quantity>0);return n.length>0&&n.forEach(t=>{const n=i.K4.find(e=>e.type===t.berth_type),a=n?.name||t.berth_type,r=1===t.quantity?a:`${a} (x${t.quantity})`;e.push((0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:0===s?"Berths":""}),(0,o.jsx)("td",{children:r}),(0,o.jsxs)("td",{children:[(t.mass*t.quantity).toFixed(1)," tons"]}),(0,o.jsxs)("td",{children:[(t.cost*t.quantity).toFixed(2)," MCr"]})]},`berth_${t.berth_type}`)),s++}),e})(),(()=>{const e=[];let s=0;const n=t.facilities.filter(t=>t.quantity>0);return n.length>0&&n.sort((t,e)=>"commissary"===t.facility_type?-1:"commissary"===e.facility_type?1:0).forEach(t=>{const n=i.Wv.find(e=>e.type===t.facility_type),a=n?.name||t.facility_type,r=1===t.quantity?a:`${a} (x${t.quantity})`;e.push((0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:0===s?"Rec/Health":""}),(0,o.jsx)("td",{children:r}),(0,o.jsxs)("td",{children:[(t.mass*t.quantity).toFixed(1)," tons"]}),(0,o.jsxs)("td",{children:[(t.cost*t.quantity).toFixed(2)," MCr"]})]},`facility_${t.facility_type}`)),s++}),e})(),(()=>{const e=[];let s=0;const n=t.cargo.filter(t=>t.tonnage>0);return n.length>0&&n.forEach(t=>{const n=i.bN.find(e=>e.type===t.cargo_type),a=n?.name||t.cargo_type;e.push((0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:0===s?"Cargo":""}),(0,o.jsx)("td",{children:a}),(0,o.jsxs)("td",{children:[t.tonnage.toFixed(1)," tons"]}),(0,o.jsxs)("td",{children:[t.cost.toFixed(2)," MCr"]})]},`cargo_${t.cargo_type}`)),s++}),e})(),(()=>{const e=[];let s=0;const n=t.vehicles.filter(t=>t.quantity>0);return n.length>0&&n.forEach(t=>{const n=i.rZ.find(e=>e.type===t.vehicle_type);let a=n?.name||t.vehicle_type;a=a.replace(/\b\d+(\.\d+)?\s+ton\s+/gi,"");const r=1===t.quantity?a:`${a} (x${t.quantity})`;e.push((0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:0===s?"Vehicles":""}),(0,o.jsx)("td",{children:r}),(0,o.jsxs)("td",{children:[(t.mass*t.quantity).toFixed(1)," tons"]}),(0,o.jsxs)("td",{children:[(t.cost*t.quantity).toFixed(2)," MCr"]})]},`vehicle_${t.vehicle_type}`)),s++}),e})(),(()=>{const e=[];let s=0;const n=t.drones.filter(t=>t.quantity>0);return n.length>0&&n.forEach(t=>{const n=i.lj.find(e=>e.type===t.drone_type);let a=n?.name||t.drone_type;a=a.replace(/\b\d+(\.\d+)?\s+ton\s+/gi,"");const r=1===t.quantity?a:`${a} (x${t.quantity})`;e.push((0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:0===s?"Drones":""}),(0,o.jsx)("td",{children:r}),(0,o.jsxs)("td",{children:[(t.mass*t.quantity).toFixed(1)," tons"]}),(0,o.jsxs)("td",{children:[(t.cost*t.quantity).toFixed(2)," MCr"]})]},`drone_${t.drone_type}`)),s++}),e})(),(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{}),(0,o.jsx)("td",{children:(0,o.jsx)("strong",{children:"Total"})}),(0,o.jsx)("td",{children:(0,o.jsxs)("strong",{children:[e.used.toFixed(1)," tons"]})}),(0,o.jsx)("td",{children:(0,o.jsxs)("strong",{children:[s.total.toFixed(2)," MCr"]})})]})]})]})}),(0,o.jsxs)("div",{className:"summary-section",children:[(0,o.jsx)("h4",{children:"Crew"}),c?(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Pilot/Navigator:"})," 1"]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Pilot:"})," ",r.pilot]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Navigator:"})," ",r.navigator]})]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Engineers:"})," ",r.engineers]}),r.gunners>0&&(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Gunners:"})," ",r.gunners]}),r.service>0&&(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Service Staff:"})," ",r.service]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Stewards:"})," ",d?0:r.stewards]}),r.nurses>0&&(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Nurses:"})," ",r.nurses]}),r.surgeons>0&&(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Surgeons:"})," ",r.surgeons]}),r.techs>0&&(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Medical Techs:"})," ",r.techs]}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Total:"})," ",c&&d?r.total-1-r.stewards:c?r.total-1:d?r.total-r.stewards:r.total]})]}),y&&(0,o.jsx)("div",{className:"save-message "+(y.includes("successfully")?"success":"error"),children:y}),(0,o.jsxs)("div",{className:"summary-actions",children:[(0,o.jsx)("button",{className:"save-btn",onClick:async()=>{if(!t.ship.name.trim())return u("Please enter a ship name before saving."),void setTimeout(()=>u(null),3e3);try{p(!0),u(null),await a.v.initialize(),await a.v.saveShip(t),u("Ship design saved successfully!"),setTimeout(()=>u(null),3e3)}catch(e){console.error("Error saving ship:",e);const s=e instanceof Error?e.message:"Failed to save ship design. Please try again.";s.includes("already exists")?(q(t.ship.name),j(!0)):(u(s),setTimeout(()=>u(null),5e3))}finally{p(!1)}},disabled:h,children:h?"Saving...":"Save Design"}),(0,o.jsx)("button",{className:"load-btn",onClick:()=>{const n=(()=>{const n=[],a=(0,i.Qn)(t.ship.tonnage),o=(0,i.X0)(t.ship.tonnage),r=a&&o?` (hull code ${a}, ${o} sections)`:a?` (${a})`:"",c=`${t.ship.name}, ${t.ship.configuration} configuration, ${t.ship.tonnage} tons${r}, Tech Level ${t.ship.tech_level}`;n.push(c),n.push("Category,Item,Mass,Cost");const d=[];t.engines.filter(t=>!("maneuver_drive"===t.engine_type&&0===t.performance)).forEach((t,e)=>{const s="power_plant"===t.engine_type?"Power Plant":"jump_drive"===t.engine_type?"Jump Drive":"Maneuver Drive",n="power_plant"===t.engine_type?"P":"jump_drive"===t.engine_type?"J":"M";d.push({category:0===e?"Engines":"",item:`${s} ${n}-${t.performance}`,mass:t.mass,cost:t.cost})});let l=0;const h=t.fittings.some(t=>"bridge"===t.fitting_type),p=t.fittings.some(t=>"half_bridge"===t.fitting_type),y=t.fittings.filter(t=>"launch_tube"===t.fitting_type),u=t.fittings.find(t=>"comms_sensors"===t.fitting_type);if(h||p){const e=h?"Bridge":"Half Bridge",s=t.fittings.find(t=>"bridge"===t.fitting_type||"half_bridge"===t.fitting_type);s&&(d.push({category:0===l?"Fittings":"",item:e,mass:s.mass,cost:s.cost}),l++)}if(y.forEach(t=>{d.push({category:0===l?"Fittings":"",item:`Launch Tube (${t.launch_vehicle_mass||1} ton vehicle)`,mass:t.mass,cost:t.cost}),l++}),u){const t=i.EH.find(t=>t.type===u.comms_sensors_type);d.push({category:0===l?"Fittings":"",item:`${t?.name||"Standard"} Comms & Sensors`,mass:u.mass,cost:u.cost})}t.weapons.filter(t=>t.quantity>0).forEach((t,e)=>{const s=1===t.quantity?t.weapon_name:`${t.weapon_name} (x${t.quantity})`;d.push({category:0===e?"Weapons":"",item:s,mass:t.mass*t.quantity,cost:t.cost*t.quantity})});let g=0;const f=t.defenses.filter(t=>t.quantity>0),m=t.ship.sand_reloads>0;(f.length>0||m)&&(f.forEach(t=>{const e=i.zv.find(e=>e.type===t.defense_type),s=e?.name||t.defense_type,n=1===t.quantity?s:`${s} (x${t.quantity})`;d.push({category:0===g?"Defenses":"",item:n,mass:t.mass*t.quantity,cost:t.cost*t.quantity}),g++}),m&&d.push({category:0===g?"Defenses":"",item:"Sand",mass:t.ship.sand_reloads,cost:0})),t.berths.filter(t=>t.quantity>0).forEach((t,e)=>{const s=i.K4.find(e=>e.type===t.berth_type),n=s?.name||t.berth_type,a=1===t.quantity?n:`${n} (x${t.quantity})`;d.push({category:0===e?"Berths":"",item:a,mass:t.mass*t.quantity,cost:t.cost*t.quantity})});const x=t.facilities.filter(t=>t.quantity>0);return x.length>0&&x.sort((t,e)=>"commissary"===t.facility_type?-1:"commissary"===e.facility_type?1:0).forEach((t,e)=>{const s=i.Wv.find(e=>e.type===t.facility_type),n=s?.name||t.facility_type,a=1===t.quantity?n:`${n} (x${t.quantity})`;d.push({category:0===e?"Rec/Health":"",item:a,mass:t.mass*t.quantity,cost:t.cost*t.quantity})}),t.cargo.filter(t=>t.tonnage>0).forEach((t,e)=>{const s=i.bN.find(e=>e.type===t.cargo_type),n=s?.name||t.cargo_type;d.push({category:0===e?"Cargo":"",item:n,mass:t.tonnage,cost:t.cost})}),t.vehicles.filter(t=>t.quantity>0).forEach((t,e)=>{const s=i.rZ.find(e=>e.type===t.vehicle_type);let n=s?.name||t.vehicle_type;n=n.replace(/\b\d+(\.\d+)?\s+ton\s+/gi,"");const a=1===t.quantity?n:`${n} (x${t.quantity})`;d.push({category:0===e?"Vehicles":"",item:a,mass:t.mass*t.quantity,cost:t.cost*t.quantity})}),t.drones.filter(t=>t.quantity>0).forEach((t,e)=>{const s=i.lj.find(e=>e.type===t.drone_type);let n=s?.name||t.drone_type;n=n.replace(/\b\d+(\.\d+)?\s+ton\s+/gi,"");const a=1===t.quantity?n:`${n} (x${t.quantity})`;d.push({category:0===e?"Drones":"",item:a,mass:t.mass*t.quantity,cost:t.cost*t.quantity})}),d.forEach(t=>{n.push(`${t.category},${t.item},${t.mass.toFixed(1)},${t.cost.toFixed(2)}`)}),n.push(`Total,,${e.used.toFixed(1)},${s.total.toFixed(2)}`),n.join("\n")})();x(n),f(!0)},children:"CSV"}),l&&(0,o.jsx)("button",{className:"load-btn",onClick:l,children:"Load Different Ship"})]}),g&&(0,o.jsx)("div",{className:"ship-name-conflict-dialog",children:(0,o.jsxs)("div",{className:"conflict-dialog-content",children:[(0,o.jsx)("h3",{children:"CSV Export"}),(0,o.jsx)("textarea",{value:m,readOnly:!0,style:{width:"100%",height:"400px",fontFamily:"monospace",fontSize:"12px",padding:"10px",border:"1px solid #ccc",borderRadius:"4px"}}),(0,o.jsx)("div",{className:"conflict-dialog-actions",children:(0,o.jsx)("button",{className:"change-name-btn",onClick:()=>f(!1),children:"Close"})})]})}),_&&(0,o.jsx)("div",{className:"ship-name-conflict-dialog",children:(0,o.jsxs)("div",{className:"conflict-dialog-content",children:[(0,o.jsx)("h3",{children:"Ship Name Conflict"}),(0,o.jsxs)("p",{children:['A ship named "',v,'" already exists. Do you want to overwrite it?']}),(0,o.jsxs)("div",{className:"conflict-dialog-actions",children:[(0,o.jsx)("button",{className:"overwrite-btn",onClick:async()=>{try{p(!0),j(!1),u(null),await a.v.initialize(),await a.v.saveOrUpdateShipByName(t),u("Ship design saved successfully!"),setTimeout(()=>u(null),3e3)}catch(t){console.error("Error overwriting ship:",t);const e=t instanceof Error?t.message:"Failed to save ship design. Please try again.";u(e),setTimeout(()=>u(null),5e3)}finally{p(!1),q("")}},disabled:h,children:h?"Overwriting...":"Overwrite"}),(0,o.jsx)("button",{className:"change-name-btn",onClick:()=>{j(!1),q(""),p(!1)},disabled:h,children:"Cancel"})]})]})})]})}}}]);
//# sourceMappingURL=112.22595273fb291f9a0240.js.map