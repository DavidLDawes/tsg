"use strict";(self.webpackChunkstarship_designer=self.webpackChunkstarship_designer||[]).push([[548],{548:(e,n,s)=>{s.r(n),s.d(n,{default:()=>o}),s(540);var r=s(749);function t(e,n){return 1+Math.floor(e/n*100)}var a=s(848);const o=({cargo:e,remainingMass:n,shipTonnage:s,onUpdate:o})=>{const c=(n,s)=>{const r=[...e],t=r.findIndex(e=>e.cargo_type===n.type);if(0===s)t>=0&&r.splice(t,1);else{const e={cargo_type:n.type,tonnage:s,cost:n.costPerTon*s};t>=0?r[t]=e:r.push(e)}o(r)},i=n=>{const s=e.find(e=>e.cargo_type===n);return s?.tonnage||0},l=()=>{const n=e.find(e=>"spares"===e.cargo_type);return n?.tonnage||0};return(0,a.jsxs)("div",{className:"panel-content",children:[(0,a.jsxs)("p",{children:["Configure cargo storage. Remaining mass: ",n.toFixed(1)," tons"]}),(0,a.jsxs)("p",{children:["Total cargo: ",e.reduce((e,n)=>e+n.tonnage,0)," tons"]}),(0,a.jsxs)("div",{className:"cargo-grouped-layout",children:[(0,a.jsx)("div",{className:"cargo-group-row",children:r.bN.slice(0,3).map(e=>{const r=i(e.type),o=Math.floor(n+r);if("spares"===e.type){const n=function(e,n){const s=t(e,n)+1,r=Math.ceil((s-1)*n/100);return Math.max(1,r-e)}(r,s);return(0,a.jsxs)("div",{className:"component-item",children:[(0,a.jsxs)("div",{className:"component-info",children:[(0,a.jsx)("h4",{children:e.name}),(0,a.jsxs)("p",{children:[e.costPerTon," MCr per ton"]}),r>0&&(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Total:"})," ",r," tons, ",(e.costPerTon*r).toFixed(2)," MCr"]})]}),(0,a.jsxs)("div",{className:"quantity-control",children:[(0,a.jsx)("button",{onClick:()=>c(e,Math.max(0,r-n)),disabled:0===r,children:"-"}),(0,a.jsxs)("span",{children:[r," tons"]}),(0,a.jsx)("button",{onClick:()=>c(e,Math.min(o,r+n)),disabled:r+n>o,children:"+"})]})]},e.type)}return(0,a.jsxs)("div",{className:"component-item",children:[(0,a.jsxs)("div",{className:"component-info",children:[(0,a.jsx)("h4",{children:e.name}),(0,a.jsxs)("p",{children:[e.costPerTon," MCr per ton"]}),r>0&&(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Total:"})," ",r," tons, ",(e.costPerTon*r).toFixed(2)," MCr"]})]}),(0,a.jsx)("div",{className:"tonnage-control",children:(0,a.jsxs)("label",{children:["Tonnage:",(0,a.jsx)("input",{type:"number",min:"0",max:o,value:r,onChange:n=>c(e,Math.max(0,Math.min(o,parseInt(n.target.value)||0))),style:{width:"60px",marginLeft:"0.5rem"}}),(0,a.jsxs)("small",{children:["/",o]})]})})]},e.type)})}),(0,a.jsx)("div",{className:"cargo-group-row",children:r.bN.slice(3,6).map(e=>{const s=i(e.type),r=Math.floor(n+s);return(0,a.jsxs)("div",{className:"component-item",children:[(0,a.jsxs)("div",{className:"component-info",children:[(0,a.jsx)("h4",{children:e.name}),(0,a.jsxs)("p",{children:[e.costPerTon," MCr per ton"]}),s>0&&(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Total:"})," ",s," tons, ",(e.costPerTon*s).toFixed(2)," MCr"]})]}),(0,a.jsx)("div",{className:"tonnage-control",children:(0,a.jsxs)("label",{children:["Tonnage:",(0,a.jsx)("input",{type:"number",min:"0",max:r,value:s,onChange:n=>c(e,Math.max(0,Math.min(r,parseInt(n.target.value)||0))),style:{width:"60px",marginLeft:"0.5rem"}}),(0,a.jsxs)("small",{children:["/",r]})]})})]},e.type)})}),(0,a.jsx)("div",{className:"cargo-group-row",children:r.bN.slice(6,8).map(e=>{const s=i(e.type),r=Math.floor(n+s);return(0,a.jsxs)("div",{className:"component-item",children:[(0,a.jsxs)("div",{className:"component-info",children:[(0,a.jsx)("h4",{children:e.name}),(0,a.jsxs)("p",{children:[e.costPerTon," MCr per ton"]}),s>0&&(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Total:"})," ",s," tons, ",(e.costPerTon*s).toFixed(2)," MCr"]})]}),(0,a.jsx)("div",{className:"tonnage-control",children:(0,a.jsxs)("label",{children:["Tonnage:",(0,a.jsx)("input",{type:"number",min:"0",max:r,value:s,onChange:n=>c(e,Math.max(0,Math.min(r,parseInt(n.target.value)||0))),style:{width:"60px",marginLeft:"0.5rem"}}),(0,a.jsxs)("small",{children:["/",r]})]})})]},e.type)})})]}),(0,a.jsxs)("div",{className:"cargo-summary",children:[(0,a.jsx)("h3",{children:"Cargo Summary"}),0===e.length?(0,a.jsx)("p",{children:"No cargo configured."}):(0,a.jsxs)("table",{children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Cargo Type"}),(0,a.jsx)("th",{children:"Tonnage"}),(0,a.jsx)("th",{children:"Cost per Ton"}),(0,a.jsx)("th",{children:"Total Cost (MCr)"})]})}),(0,a.jsx)("tbody",{children:e.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:r.bN.find(n=>n.type===e.cargo_type)?.name||e.cargo_type}),(0,a.jsx)("td",{children:e.tonnage}),(0,a.jsx)("td",{children:r.bN.find(n=>n.type===e.cargo_type)?.costPerTon||0}),(0,a.jsx)("td",{children:e.cost.toFixed(2)})]},e.cargo_type))})]})]}),(0,a.jsxs)("div",{className:"service-interval",children:[(0,a.jsx)("h3",{children:"Maintenance Schedule"}),(0,a.jsxs)("div",{className:"service-info",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Months Between Service:"})," ",t(l(),s)]}),(0,a.jsxs)("p",{className:"service-calculation",children:["Based on: 1 + ",l()," spares รท ",s," ship tons ร 100 = 1 + ",Math.floor(l()/s*100)]})]})]})]})}}}]);
//# sourceMappingURL=548.e878be66bd9c5fad9f0c.js.map