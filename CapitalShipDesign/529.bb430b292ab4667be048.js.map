{"version":3,"file":"529.bb430b292ab4667be048.js","mappings":"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","sources":["webpack://starship-designer/./src/components/WeaponsPanel.tsx"],"sourcesContent":["import React from 'react';\nimport type { Weapon, Engine } from '../types/ship';\nimport { WEAPON_TYPES, BAY_WEAPON_TYPES, getWeaponMountLimit, getAvailableSpinalWeapons, getSpinalWeaponMountUsage, getMaxBayWeapons, getAvailableBayWeapons } from '../data/constants';\n\ninterface WeaponsPanelProps {\n  weapons: Weapon[];\n  shipTonnage: number;\n  shipTechLevel: string;\n  engines: Engine[];\n  spinalWeapon: string | undefined;\n  missileReloads: number;\n  remainingMass: number;\n  onUpdate: (weapons: Weapon[]) => void;\n  onSpinalWeaponUpdate: (spinalWeapon: string | undefined) => void;\n  onMissileReloadsUpdate: (reloads: number) => void;\n}\n\nconst WeaponsPanel: React.FC<WeaponsPanelProps> = ({\n  weapons,\n  shipTonnage,\n  shipTechLevel,\n  engines,\n  spinalWeapon,\n  missileReloads,\n  remainingMass,\n  onUpdate,\n  onSpinalWeaponUpdate,\n  onMissileReloadsUpdate\n}) => {\n  const mountLimit = getWeaponMountLimit(shipTonnage);\n  const spinalMountUsage = getSpinalWeaponMountUsage(spinalWeapon, shipTechLevel);\n\n  // Separate bay weapons from turret/barbette weapons\n  const bayWeaponNames = BAY_WEAPON_TYPES.map(b => b.name);\n  const turretWeapons = weapons.filter(w => !bayWeaponNames.includes(w.weapon_name));\n  const bayWeapons = weapons.filter(w => bayWeaponNames.includes(w.weapon_name));\n\n  // Bay weapons also consume weapon mount slots (1 slot per bay weapon)\n  const usedBayWeapons = bayWeapons.reduce((sum, weapon) => sum + weapon.quantity, 0);\n  const usedMounts = turretWeapons.reduce((sum, weapon) => sum + weapon.quantity, 0) + usedBayWeapons + spinalMountUsage;\n\n  // Calculate bay weapon limits (power/tonnage AND weapon mount slots)\n  const powerPlant = engines.find(e => e.engine_type === 'power_plant');\n  const powerPlantPerformance = powerPlant?.performance || 0;\n  const maxBayWeaponsByPower = getMaxBayWeapons(powerPlantPerformance, shipTonnage);\n  const availableMountSlots = mountLimit - usedMounts;\n  // Bay weapons are limited by the LOWER of: power/tonnage limit OR available mount slots\n  const maxBayWeapons = Math.min(maxBayWeaponsByPower, availableMountSlots + usedBayWeapons);\n  \n  // Check if any missile launchers are installed\n  const hasMissileLaunchers = weapons.some(weapon => \n    weapon.weapon_name.toLowerCase().includes('missile launcher') && weapon.quantity > 0\n  );\n  \n  // Calculate maximum missile reloads based on remaining mass\n  const maxMissileReloads = Math.floor(remainingMass - missileReloads);\n\n  const updateWeaponQuantity = (weaponType: typeof WEAPON_TYPES[0], requestedQuantity: number) => {\n    const validQuantity = Math.max(0, Math.floor(requestedQuantity));\n    const existingWeapon = weapons.find(w => w.weapon_name === weaponType.name);\n    const currentQuantity = existingWeapon?.quantity || 0;\n    const quantityChange = validQuantity - currentQuantity;\n\n    // Get current hard points\n    const hardPointWeapon = weapons.find(w => w.weapon_name === 'Hard Point');\n    const currentHardPoints = hardPointWeapon?.quantity || 0;\n\n    // Calculate available slots\n    const usedMountsExcludingCurrent = weapons.reduce((sum, w) =>\n      w.weapon_name === weaponType.name ? sum : sum + w.quantity, 0\n    );\n    const availableSlots = mountLimit - usedMountsExcludingCurrent;\n\n    // If we're adding weapons (quantityChange > 0)\n    if (quantityChange > 0) {\n      // Calculate how many can fit in available slots + hard points\n      const maxPossible = weaponType.name === 'Hard Point' ? availableSlots : availableSlots + currentHardPoints;\n      const actualQuantity = currentQuantity + Math.min(quantityChange, maxPossible);\n\n      // Calculate how many hard points to convert (if this isn't a hard point itself)\n      let hardPointsToConvert = 0;\n      if (weaponType.name !== 'Hard Point') {\n        const slotsNeeded = actualQuantity - currentQuantity;\n        const availableFreeSlots = availableSlots - currentHardPoints;\n        if (slotsNeeded > availableFreeSlots) {\n          hardPointsToConvert = Math.min(slotsNeeded - availableFreeSlots, currentHardPoints);\n        }\n      }\n\n      // Update weapons\n      let newWeapons = weapons;\n\n      // Remove hard points if needed\n      if (hardPointsToConvert > 0) {\n        newWeapons = newWeapons.map(w =>\n          w.weapon_name === 'Hard Point'\n            ? { ...w, quantity: currentHardPoints - hardPointsToConvert }\n            : w\n        ).filter(w => w.quantity > 0);\n      }\n\n      // Update or add the weapon\n      if (actualQuantity === 0) {\n        newWeapons = newWeapons.filter(w => w.weapon_name !== weaponType.name);\n      } else if (existingWeapon) {\n        newWeapons = newWeapons.map(w =>\n          w.weapon_name === weaponType.name\n            ? { ...w, quantity: actualQuantity }\n            : w\n        );\n      } else {\n        newWeapons = [...newWeapons, {\n          weapon_name: weaponType.name,\n          mass: weaponType.mass,\n          cost: weaponType.cost,\n          quantity: actualQuantity\n        }];\n      }\n\n      onUpdate(newWeapons);\n    } else {\n      // Removing weapons - simple case\n      if (validQuantity === 0) {\n        onUpdate(weapons.filter(w => w.weapon_name !== weaponType.name));\n      } else if (existingWeapon) {\n        const newWeapons = weapons.map(w =>\n          w.weapon_name === weaponType.name\n            ? { ...w, quantity: validQuantity }\n            : w\n        );\n        onUpdate(newWeapons);\n      }\n    }\n  };\n\n  const maxOutHardPoints = () => {\n    const availableSlots = mountLimit - usedMounts;\n    if (availableSlots > 0) {\n      const hardPointType = WEAPON_TYPES.find(w => w.name === 'Hard Point');\n      if (hardPointType) {\n        updateWeaponQuantity(hardPointType, availableSlots);\n      }\n    }\n  };\n\n  const updateBayWeaponQuantity = (bayWeaponType: typeof BAY_WEAPON_TYPES[0], requestedQuantity: number) => {\n    const validQuantity = Math.max(0, Math.floor(requestedQuantity));\n\n    // Don't allow exceeding max bay weapons\n    const otherBayWeapons = bayWeapons.filter(w => w.weapon_name !== bayWeaponType.name);\n    const otherBayWeaponsCount = otherBayWeapons.reduce((sum, w) => sum + w.quantity, 0);\n    const maxAllowed = maxBayWeapons - otherBayWeaponsCount;\n    const clampedQuantity = Math.min(validQuantity, maxAllowed);\n\n    let newWeapons = weapons.filter(w => w.weapon_name !== bayWeaponType.name);\n\n    if (clampedQuantity > 0) {\n      newWeapons.push({\n        weapon_name: bayWeaponType.name,\n        mass: bayWeaponType.mass,\n        cost: bayWeaponType.cost,\n        quantity: clampedQuantity\n      });\n    }\n\n    onUpdate(newWeapons);\n  };\n\n  const hardPointWeapon = weapons.find(w => w.weapon_name === 'Hard Point');\n  const currentHardPoints = hardPointWeapon?.quantity || 0;\n  const availableSlots = mountLimit - usedMounts;\n\n  return (\n    <div className=\"panel-content\">\n      <p>\n        Available weapon mounts: {mountLimit} (Used: {usedMounts}, Remaining: {availableSlots})\n        {spinalMountUsage > 0 && <span> | Spinal weapon: {spinalMountUsage} mounts</span>}\n        {usedBayWeapons > 0 && <span> | Bay weapons: {usedBayWeapons} mounts</span>}\n        {currentHardPoints > 0 && <span> | Hard Points: {currentHardPoints}</span>}\n      </p>\n      <div style={{ marginBottom: '10px' }}>\n        <button\n          onClick={maxOutHardPoints}\n          disabled={availableSlots === 0}\n          style={{ padding: '5px 10px' }}\n        >\n          Max Hard Points ({availableSlots} available)\n        </button>\n      </div>\n\n      <div className=\"weapons-grouped-layout\">\n        {/* Pulse Laser Group */}\n        <div className=\"weapon-group-row\">\n          {WEAPON_TYPES.filter(w => w.name.includes('Pulse Laser')).map(weaponType => {\n            const currentWeapon = weapons.find(w => w.weapon_name === weaponType.name);\n            const quantity = currentWeapon?.quantity || 0;\n\n            return (\n              <div key={weaponType.name} className=\"component-item\">\n                <div className=\"component-info\">\n                  <h4>{weaponType.name}, {weaponType.mass} tons, {weaponType.cost} MCr</h4>\n                </div>\n                <div className=\"quantity-control\">\n                  <label>\n                    Quantity:\n                    <input\n                      type=\"number\"\n                      min=\"0\"\n                      value={quantity}\n                      onChange={(e) => updateWeaponQuantity(weaponType, parseInt(e.target.value) || 0)}\n                      style={{ width: '60px', marginLeft: '0.5rem' }}\n                    />\n                  </label>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n\n        {/* Beam Laser Group */}\n        <div className=\"weapon-group-row\">\n          {WEAPON_TYPES.filter(w => w.name.includes('Beam Laser')).map(weaponType => {\n            const currentWeapon = weapons.find(w => w.weapon_name === weaponType.name);\n            const quantity = currentWeapon?.quantity || 0;\n\n            return (\n              <div key={weaponType.name} className=\"component-item\">\n                <div className=\"component-info\">\n                  <h4>{weaponType.name}, {weaponType.mass} tons, {weaponType.cost} MCr</h4>\n                </div>\n                <div className=\"quantity-control\">\n                  <label>\n                    Quantity:\n                    <input\n                      type=\"number\"\n                      min=\"0\"\n                      value={quantity}\n                      onChange={(e) => updateWeaponQuantity(weaponType, parseInt(e.target.value) || 0)}\n                      style={{ width: '60px', marginLeft: '0.5rem' }}\n                    />\n                  </label>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n\n        {/* Plasma Beam Group */}\n        <div className=\"weapon-group-row\">\n          {WEAPON_TYPES.filter(w => w.name.includes('Plasma Beam')).map(weaponType => {\n            const currentWeapon = weapons.find(w => w.weapon_name === weaponType.name);\n            const quantity = currentWeapon?.quantity || 0;\n\n            return (\n              <div key={weaponType.name} className=\"component-item\">\n                <div className=\"component-info\">\n                  <h4>{weaponType.name}, {weaponType.mass} tons, {weaponType.cost} MCr</h4>\n                </div>\n                <div className=\"quantity-control\">\n                  <label>\n                    Quantity:\n                    <input\n                      type=\"number\"\n                      min=\"0\"\n                      value={quantity}\n                      onChange={(e) => updateWeaponQuantity(weaponType, parseInt(e.target.value) || 0)}\n                      style={{ width: '60px', marginLeft: '0.5rem' }}\n                    />\n                  </label>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n\n        {/* Fusion Gun Group */}\n        <div className=\"weapon-group-row\">\n          {WEAPON_TYPES.filter(w => w.name.includes('Fusion Gun')).map(weaponType => {\n            const currentWeapon = weapons.find(w => w.weapon_name === weaponType.name);\n            const quantity = currentWeapon?.quantity || 0;\n\n            return (\n              <div key={weaponType.name} className=\"component-item\">\n                <div className=\"component-info\">\n                  <h4>{weaponType.name}, {weaponType.mass} tons, {weaponType.cost} MCr</h4>\n                </div>\n                <div className=\"quantity-control\">\n                  <label>\n                    Quantity:\n                    <input\n                      type=\"number\"\n                      min=\"0\"\n                      value={quantity}\n                      onChange={(e) => updateWeaponQuantity(weaponType, parseInt(e.target.value) || 0)}\n                      style={{ width: '60px', marginLeft: '0.5rem' }}\n                    />\n                  </label>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n\n        {/* Missile Launcher Group */}\n        <div className=\"weapon-group-row\">\n          {WEAPON_TYPES.filter(w => w.name.includes('Missile Launcher')).map(weaponType => {\n            const currentWeapon = weapons.find(w => w.weapon_name === weaponType.name);\n            const quantity = currentWeapon?.quantity || 0;\n\n            return (\n              <div key={weaponType.name} className=\"component-item\">\n                <div className=\"component-info\">\n                  <h4>{weaponType.name}, {weaponType.mass} tons, {weaponType.cost} MCr</h4>\n                </div>\n                <div className=\"quantity-control\">\n                  <label>\n                    Quantity:\n                    <input\n                      type=\"number\"\n                      min=\"0\"\n                      value={quantity}\n                      onChange={(e) => updateWeaponQuantity(weaponType, parseInt(e.target.value) || 0)}\n                      style={{ width: '60px', marginLeft: '0.5rem' }}\n                    />\n                  </label>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n\n        {/* Hard Point and Particle Beam Group */}\n        <div className=\"weapon-group-row\">\n          {WEAPON_TYPES.filter(w => w.name === 'Hard Point' || w.name === 'Particle Beam Barbette').map(weaponType => {\n            const currentWeapon = weapons.find(w => w.weapon_name === weaponType.name);\n            const quantity = currentWeapon?.quantity || 0;\n\n            return (\n              <div key={weaponType.name} className=\"component-item\">\n                <div className=\"component-info\">\n                  <h4>{weaponType.name}, {weaponType.mass} tons, {weaponType.cost} MCr</h4>\n                </div>\n                <div className=\"quantity-control\">\n                  <label>\n                    Quantity:\n                    <input\n                      type=\"number\"\n                      min=\"0\"\n                      value={quantity}\n                      onChange={(e) => updateWeaponQuantity(weaponType, parseInt(e.target.value) || 0)}\n                      style={{ width: '60px', marginLeft: '0.5rem' }}\n                    />\n                  </label>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n\n      <div className=\"bay-weapons-section\">\n        <h3>Bay Weapons</h3>\n        {powerPlantPerformance < 1 ? (\n          <p className=\"info-message\">Bay weapons require a Power Plant with P-1 or higher performance.</p>\n        ) : (\n          <>\n            <p>\n              Available bay weapon slots: <strong>{maxBayWeapons}</strong> (Used: {usedBayWeapons}, Remaining: {maxBayWeapons - usedBayWeapons})\n              <br />\n              <small>\n                Power/Tonnage limit: {maxBayWeaponsByPower} (P-{powerPlantPerformance} × {shipTonnage.toLocaleString()} tons ÷ 1,000)\n                {availableMountSlots + usedBayWeapons < maxBayWeaponsByPower && (\n                  <span> • Weapon mount limit: {availableMountSlots + usedBayWeapons} <strong>(limiting factor)</strong></span>\n                )}\n              </small>\n              <br />\n              <small>Each bay weapon: 50 tons, 1 weapon mount, 2 gunners</small>\n            </p>\n\n            <div className=\"weapons-grouped-layout\">\n              <div className=\"weapon-group-row\">\n                {getAvailableBayWeapons(shipTechLevel).map(bayWeaponType => {\n                  const currentBayWeapon = bayWeapons.find(w => w.weapon_name === bayWeaponType.name);\n                  const quantity = currentBayWeapon?.quantity || 0;\n\n                  return (\n                    <div key={bayWeaponType.name} className=\"component-item\">\n                      <div className=\"component-info\">\n                        <h4>{bayWeaponType.name}</h4>\n                        <p>{bayWeaponType.mass} tons, {bayWeaponType.cost} MCr{bayWeaponType.minTechLevel ? `, TL-${bayWeaponType.minTechLevel}+` : ''}</p>\n                        {quantity > 0 && (\n                          <p><strong>Total:</strong> {(bayWeaponType.mass * quantity).toFixed(1)} tons, {(bayWeaponType.cost * quantity).toFixed(1)} MCr, {quantity * 2} gunners</p>\n                        )}\n                      </div>\n                      <div className=\"quantity-control\">\n                        <label>\n                          Quantity:\n                          <input\n                            type=\"number\"\n                            min=\"0\"\n                            max={maxBayWeapons}\n                            value={quantity}\n                            onChange={(e) => updateBayWeaponQuantity(bayWeaponType, parseInt(e.target.value) || 0)}\n                            style={{ width: '60px', marginLeft: '0.5rem' }}\n                          />\n                        </label>\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n          </>\n        )}\n      </div>\n\n      <div className=\"spinal-weapon-section\">\n        <h3>Spinal Weapon</h3>\n        {(() => {\n          const powerPlant = engines.find(e => e.engine_type === 'power_plant');\n          const powerPlantPerformance = powerPlant?.performance || 0;\n          const availableSpinalWeapons = getAvailableSpinalWeapons(shipTechLevel, powerPlantPerformance);\n\n          if (powerPlantPerformance < 2) {\n            return <p className=\"info-message\">Spinal weapons require a Power Plant with P-2 or higher performance.</p>;\n          }\n\n          if (availableSpinalWeapons.length === 0) {\n            return <p className=\"info-message\">No spinal weapons available at Tech Level {shipTechLevel} with P-{powerPlantPerformance} power plant.</p>;\n          }\n\n          return (\n            <>\n              <p>Select a spinal weapon for your ship. Only one spinal weapon can be installed.</p>\n              <div className=\"form-group\">\n                <label htmlFor=\"spinal-weapon\">Spinal Weapon Selection</label>\n                <select\n                  id=\"spinal-weapon\"\n                  value={spinalWeapon || ''}\n                  onChange={(e) => onSpinalWeaponUpdate(e.target.value || undefined)}\n                >\n                  <option value=\"\">None</option>\n                  {availableSpinalWeapons.map(weapon => (\n                    <option key={weapon.name} value={weapon.name}>\n                      {weapon.name} - {weapon.mass.toLocaleString()}t, Damage {weapon.damage}, {weapon.cost.toLocaleString()} MCr{weapon.tlBonus ? ` (${weapon.tlBonus})` : ''}\n                    </option>\n                  ))}\n                </select>\n                {spinalWeapon && (() => {\n                  const selectedWeapon = availableSpinalWeapons.find(w => w.name === spinalWeapon);\n                  if (selectedWeapon) {\n                    return (\n                      <small>\n                        Mass: {selectedWeapon.mass.toLocaleString()} tons,\n                        Damage: {selectedWeapon.damage},\n                        Cost: {selectedWeapon.cost.toLocaleString()} MCr\n                        {selectedWeapon.tlBonus && <span> ({selectedWeapon.tlBonus} bonus applied)</span>}\n                      </small>\n                    );\n                  }\n                  return null;\n                })()}\n              </div>\n            </>\n          );\n        })()}\n      </div>\n\n      {hasMissileLaunchers && (\n        <div className=\"missile-reloads-section\">\n          <h3>Missile Reloads</h3>\n          <p>Missile launchers detected. You can allocate tonnage for missile reloads.</p>\n          <div className=\"form-group\">\n            <label htmlFor=\"missile-reloads\">Missile Reload Tonnage</label>\n            <input\n              id=\"missile-reloads\"\n              type=\"number\"\n              min=\"0\"\n              max={maxMissileReloads + missileReloads}\n              value={missileReloads}\n              onChange={(e) => onMissileReloadsUpdate(Math.max(0, parseInt(e.target.value) || 0))}\n            />\n            <small>\n              0 - {maxMissileReloads + missileReloads} tons available. \n              Cost: {missileReloads} MCr (1 MCr per ton)\n            </small>\n          </div>\n          \n          {missileReloads > 0 && (\n            <div className=\"missile-summary\">\n              <p><strong>Missile Reloads:</strong> {missileReloads} tons ({missileReloads} MCr)</p>\n              <p><small>Provides additional missile ammunition for extended operations</small></p>\n            </div>\n          )}\n        </div>\n      )}\n\n    </div>\n  );\n};\n\nexport default WeaponsPanel;"],"names":["WeaponsPanel","weapons","shipTonnage","shipTechLevel","engines","spinalWeapon","missileReloads","remainingMass","onUpdate","onSpinalWeaponUpdate","onMissileReloadsUpdate","mountLimit","getWeaponMountLimit","spinalMountUsage","getSpinalWeaponMountUsage","bayWeaponNames","BAY_WEAPON_TYPES","map","b","name","turretWeapons","filter","w","includes","weapon_name","bayWeapons","usedBayWeapons","reduce","sum","weapon","quantity","usedMounts","powerPlant","find","e","engine_type","powerPlantPerformance","performance","maxBayWeaponsByPower","getMaxBayWeapons","availableMountSlots","maxBayWeapons","Math","min","hasMissileLaunchers","some","toLowerCase","maxMissileReloads","floor","updateWeaponQuantity","weaponType","requestedQuantity","validQuantity","max","existingWeapon","currentQuantity","quantityChange","hardPointWeapon","currentHardPoints","usedMountsExcludingCurrent","availableSlots","maxPossible","actualQuantity","hardPointsToConvert","slotsNeeded","availableFreeSlots","newWeapons","mass","cost","_jsxs","className","children","_jsx","style","marginBottom","onClick","maxOutHardPoints","hardPointType","WEAPON_TYPES","disabled","padding","currentWeapon","type","value","onChange","parseInt","target","width","marginLeft","_Fragment","toLocaleString","getAvailableBayWeapons","bayWeaponType","currentBayWeapon","minTechLevel","toFixed","updateBayWeaponQuantity","otherBayWeaponsCount","maxAllowed","clampedQuantity","push","availableSpinalWeapons","getAvailableSpinalWeapons","length","htmlFor","id","undefined","damage","tlBonus","selectedWeapon"],"sourceRoot":""}