{"version":3,"file":"879.39c713ce5a5a484d21de.js","mappings":"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","sources":["webpack://starship-designer/./src/components/EnginesPanel.tsx"],"sourcesContent":["import React from 'react';\nimport type { Engine } from '../types/ship';\nimport { getAvailableEngines, calculateJumpFuel, calculateManeuverFuel } from '../data/constants';\n\ninterface EnginesPanelProps {\n  engines: Engine[];\n  shipTonnage: number;\n  shipTechLevel: string;\n  fuelWeeks: number;\n  activeRules: Set<string>;\n  onUpdate: (engines: Engine[]) => void;\n  onFuelWeeksUpdate: (weeks: number) => void;\n}\n\nconst EnginesPanel: React.FC<EnginesPanelProps> = ({ engines, shipTonnage, shipTechLevel, fuelWeeks, activeRules, onUpdate, onFuelWeeksUpdate }) => {\n\n  const getEngine = (type: Engine['engine_type']): Engine => {\n    const defaultEngine = engines.find(e => e.engine_type === type);\n    if (defaultEngine) {\n      return defaultEngine;\n    }\n\n    // For maneuver drive, if not configured, return M-0 performance\n    if (type === 'maneuver_drive') {\n      return {\n        engine_type: type,\n        drive_code: 'M-0',\n        performance: 0,\n        mass: 0,\n        cost: 0\n      };\n    }\n\n    return {\n      engine_type: type,\n      drive_code: '',\n      performance: 1,\n      mass: 0.1,\n      cost: 0\n    };\n  };\n\n  const updateEngine = (type: Engine['engine_type'], updates: Partial<Engine>) => {\n    const newEngines = [...engines];\n    const existingIndex = newEngines.findIndex(e => e.engine_type === type);\n    \n    const updatedEngine = { \n      ...getEngine(type), \n      ...updates, \n      engine_type: type \n    };\n\n    if (existingIndex >= 0) {\n      newEngines[existingIndex] = updatedEngine;\n    } else {\n      newEngines.push(updatedEngine);\n    }\n\n    onUpdate(newEngines);\n  };\n\n  const renderEngineInput = (type: Engine['engine_type'], label: string) => {\n    const engine = getEngine(type);\n    const powerPlant = getEngine('power_plant');\n    // Only apply power plant performance filtering if a specific power plant drive is selected\n    const powerPlantPerformance = (powerPlant.drive_code && powerPlant.performance > 0) ? powerPlant.performance : undefined;\n    const availableEngines = getAvailableEngines(shipTonnage, type, powerPlantPerformance, shipTechLevel);\n\n    return (\n      <div key={type} className=\"engine-group\">\n        <h3>{label}</h3>\n        \n        <div className=\"form-row\">\n          <div className=\"form-group\">\n            <label>Drive Selection {type === 'maneuver_drive' ? '' : '*'}</label>\n            <select\n              value={engine.drive_code}\n              onChange={(e) => {\n                if (e.target.value === 'M-0' && type === 'maneuver_drive') {\n                  updateEngine(type, { \n                    drive_code: 'M-0',\n                    performance: 0,\n                    mass: 0,\n                    cost: 0\n                  });\n                } else {\n                  const selectedEngine = availableEngines.find(eng => eng.code === e.target.value);\n                  if (selectedEngine) {\n                    updateEngine(type, { \n                      drive_code: selectedEngine.code,\n                      performance: selectedEngine.performance,\n                      mass: selectedEngine.mass,\n                      cost: selectedEngine.cost\n                    });\n                  }\n                }\n              }}\n            >\n              <option value=\"\">Select a drive...</option>\n              {type === 'maneuver_drive' && (\n                <option value=\"M-0\">None (M-0 performance, 0 tons, 0 MCr)</option>\n              )}\n              {availableEngines.map(availEngine => (\n                <option key={availEngine.code} value={availEngine.code}>\n                  {availEngine.label}\n                </option>\n              ))}\n            </select>\n            {type === 'jump_drive' && (\n              <small>Limited by Tech Level {shipTechLevel} (max J-{availableEngines.length > 0 ? availableEngines[availableEngines.length - 1].performance : 1}){powerPlantPerformance ? ` and Power Plant P-${powerPlantPerformance}` : ''}</small>\n            )}\n            {type === 'maneuver_drive' && powerPlantPerformance && (\n              <small>Limited by Power Plant P-{powerPlantPerformance}</small>\n            )}\n            {type === 'maneuver_drive' && !powerPlantPerformance && (\n              <small className=\"info\">Select Power Plant first to see power-limited options</small>\n            )}\n          </div>\n\n        </div>\n        \n        {engine.drive_code && (\n          <div className=\"engine-info\">\n            <small>Performance: {engine.performance} ({type === 'jump_drive' ? 'J' : type === 'maneuver_drive' ? 'M' : 'P'}-{engine.performance})</small>\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  const powerPlant = getEngine('power_plant');\n  const jumpDrive = getEngine('jump_drive');\n  const maneuverDrive = getEngine('maneuver_drive');\n  \n  const powerRequirementsMet = \n    (!jumpDrive.drive_code || jumpDrive.performance <= powerPlant.performance) &&\n    (!maneuverDrive.drive_code || maneuverDrive.performance <= powerPlant.performance);\n  \n  // Calculate fuel requirements with antimatter consideration\n  const useAntimatter = activeRules.has('antimatter');\n  const jumpFuel = jumpDrive.performance > 0 ? calculateJumpFuel(shipTonnage, jumpDrive.performance) : 0;\n  const maneuverFuel = maneuverDrive.performance > 0 ? calculateManeuverFuel(shipTonnage, maneuverDrive.performance, fuelWeeks) : 0;\n  \n  // Apply antimatter reduction if active\n  const adjustedJumpFuel = useAntimatter ? jumpFuel * 0.1 : jumpFuel;\n  const adjustedManeuverFuel = useAntimatter ? maneuverFuel * 0.1 : maneuverFuel;\n  const totalFuelMass = adjustedJumpFuel + adjustedManeuverFuel;\n  \n  // Calculate total engine mass\n  const totalEngineMass = engines.reduce((sum, engine) => sum + engine.mass, 0);\n  \n  // Calculate remaining mass available for fuel (assuming we need some buffer)\n  const usedMass = totalEngineMass; // This should include other ship components in a real calculation\n  const remainingMass = shipTonnage - usedMass;\n  const fuelFitsInShip = totalFuelMass <= remainingMass;\n  \n  // Calculate maximum weeks possible given remaining mass\n  const maxPossibleWeeks = maneuverDrive.performance > 0 \n    ? Math.floor(2 * (remainingMass - adjustedJumpFuel) / (shipTonnage * 0.01 * maneuverDrive.performance * (useAntimatter ? 0.1 : 1)))\n    : 12;\n  const effectiveMaxWeeks = Math.min(12, Math.max(2, maxPossibleWeeks));\n  \n  const requiredEnginesConfigured = \n    engines.some(e => e.engine_type === 'power_plant' && e.drive_code && e.performance >= 1) &&\n    engines.some(e => e.engine_type === 'jump_drive' && e.drive_code && e.performance >= 1);\n  \n  const allEnginesConfigured = requiredEnginesConfigured &&\n    powerRequirementsMet &&\n    fuelFitsInShip;\n\n  return (\n    <div className=\"panel-content\">\n      <p>Configure the engine types for your starship. Power Plant and Jump Drive are required. Maneuver Drive is optional (defaults to M-0).</p>\n      <p><small><strong>Note:</strong> Jump and Maneuver drives require a Power Plant with equal or higher performance rating.</small></p>\n      \n      <div className=\"engines-horizontal-layout\">\n        {renderEngineInput('power_plant', 'Power Plant')}\n        {renderEngineInput('maneuver_drive', 'Maneuver Drive')}\n        {renderEngineInput('jump_drive', 'Jump Drive')}\n      </div>\n\n      <div className=\"fuel-section\">\n        <h3>Fuel Requirements</h3>\n        <div className=\"fuel-horizontal-layout\">\n          <div className=\"fuel-selection\">\n            <div className=\"form-group\">\n              <label htmlFor=\"fuel-weeks\">Power Plant Fuel Duration</label>\n              <select\n                id=\"fuel-weeks\"\n                value={fuelWeeks}\n                onChange={(e) => onFuelWeeksUpdate(parseInt(e.target.value))}\n              >\n                {Array.from({length: effectiveMaxWeeks - 1}, (_, i) => i + 2).map(weeks => (\n                  <option key={weeks} value={weeks}>\n                    {weeks} weeks\n                  </option>\n                ))}\n              </select>\n              <small>Maximum {effectiveMaxWeeks} weeks based on available mass</small>\n            </div>\n          </div>\n\n          <div className=\"fuel-summary\">\n            <h4>Fuel Mass Breakdown{useAntimatter ? ' (Antimatter)' : ''}:</h4>\n            <table>\n              <tbody>\n                <tr>\n                  <td>Jump Fuel (per jump):</td>\n                  <td>{adjustedJumpFuel.toFixed(1)} tons</td>\n                  <td><small>({jumpDrive.performance > 0 ? `J-${jumpDrive.performance}` : 'No Jump Drive'} × 0.1 × {shipTonnage}t{useAntimatter ? ' × 0.1 antimatter' : ''})</small></td>\n                </tr>\n                <tr>\n                  <td>Maneuver Fuel ({fuelWeeks} weeks):</td>\n                  <td>{adjustedManeuverFuel.toFixed(1)} tons</td>\n                  <td><small>({maneuverDrive.performance > 0 ? `M-${maneuverDrive.performance}` : 'No Maneuver Drive'} × 0.01 × {shipTonnage}t × {fuelWeeks/2}{useAntimatter ? ' × 0.1 antimatter' : ''})</small></td>\n                </tr>\n                {useAntimatter && (\n                  <tr className=\"antimatter-savings\">\n                    <td><em>Antimatter Fuel Savings:</em></td>\n                    <td><em>{((jumpFuel + maneuverFuel) * 0.9).toFixed(1)} tons saved</em></td>\n                    <td><small><em>90% reduction from standard fuel</em></small></td>\n                  </tr>\n                )}\n                <tr className=\"total-row\">\n                  <td><strong>Total Fuel Mass:</strong></td>\n                  <td><strong>{totalFuelMass.toFixed(1)} tons</strong></td>\n                  <td><small>{((totalFuelMass / shipTonnage) * 100).toFixed(1)}% of ship mass</small></td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"validation-info\">\n        <h3>Requirements:</h3>\n        <ul>\n          <li className={engines.some(e => e.engine_type === 'power_plant') ? 'valid' : 'invalid'}>\n            ✓ Power Plant configured\n          </li>\n          <li className={'valid'}>\n            ✓ Maneuver Drive configured (M-0 if none selected)\n          </li>\n          <li className={engines.some(e => e.engine_type === 'jump_drive') ? 'valid' : 'invalid'}>\n            ✓ Jump Drive configured\n          </li>\n          <li className={powerRequirementsMet ? 'valid' : 'invalid'}>\n            ✓ Power Plant provides sufficient power for Jump and Maneuver drives\n          </li>\n          <li className={fuelFitsInShip ? 'valid' : 'invalid'}>\n            ✓ Fuel requirements fit within available ship mass\n          </li>\n          <li className={allEnginesConfigured ? 'valid' : 'invalid'}>\n            ✓ Required engines have valid drive selection with automatic mass and cost\n          </li>\n        </ul>\n      </div>\n\n      <div className=\"engine-summary\">\n        <h3>Engine Summary:</h3>\n        <table>\n          <thead>\n            <tr>\n              <th>Engine Type</th>\n              <th>Drive</th>\n              <th>Performance</th>\n              <th>Mass (tons)</th>\n              <th>Cost (MCr)</th>\n            </tr>\n          </thead>\n          <tbody>\n            {/* Always show all three engine types */}\n            {['power_plant', 'maneuver_drive', 'jump_drive'].map(engineType => {\n              const engine = getEngine(engineType as Engine['engine_type']);\n              return (\n                <tr key={engineType}>\n                  <td>{engineType.replace('_', ' ').replace(/\\b\\w/g, l => l.toUpperCase())}</td>\n                  <td>{engine.drive_code || '-'}</td>\n                  <td>{engine.performance} ({engineType === 'jump_drive' ? 'J' : engineType === 'maneuver_drive' ? 'M' : 'P'}-{engine.performance})</td>\n                  <td>{engine.mass.toFixed(1)}</td>\n                  <td>{engine.cost.toFixed(2)}</td>\n                </tr>\n              );\n            })}\n          </tbody>\n        </table>\n      </div>\n\n    </div>\n  );\n};\n\nexport default EnginesPanel;"],"names":["EnginesPanel","engines","shipTonnage","shipTechLevel","fuelWeeks","activeRules","onUpdate","onFuelWeeksUpdate","getEngine","type","find","e","engine_type","drive_code","performance","mass","cost","updateEngine","updates","newEngines","existingIndex","findIndex","updatedEngine","push","renderEngineInput","label","engine","powerPlant","powerPlantPerformance","undefined","availableEngines","getAvailableEngines","_jsxs","className","children","_jsx","value","onChange","target","selectedEngine","eng","code","map","availEngine","length","jumpDrive","maneuverDrive","powerRequirementsMet","useAntimatter","has","jumpFuel","calculateJumpFuel","maneuverFuel","calculateManeuverFuel","adjustedJumpFuel","adjustedManeuverFuel","totalFuelMass","totalEngineMass","reduce","sum","remainingMass","fuelFitsInShip","maxPossibleWeeks","Math","floor","effectiveMaxWeeks","min","max","allEnginesConfigured","some","htmlFor","id","parseInt","Array","from","_","i","weeks","toFixed","engineType","replace","l","toUpperCase"],"sourceRoot":""}