{"version":3,"file":"843.c0e26e44bc59d1c9684a.js","mappings":"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","sources":["webpack://starship-designer/./src/components/VehiclesPanel.tsx"],"sourcesContent":["import React from 'react';\nimport type { Vehicle } from '../types/ship';\nimport { getAvailableVehicles, calculateVehicleServiceStaff } from '../data/constants';\n\ninterface VehiclesPanelProps {\n  vehicles: Vehicle[];\n  shipTechLevel: string;\n  onUpdate: (vehicles: Vehicle[]) => void;\n}\n\nconst VehiclesPanel: React.FC<VehiclesPanelProps> = ({ vehicles, shipTechLevel, onUpdate }) => {\n  const availableVehicles = getAvailableVehicles(shipTechLevel);\n  const totalServiceStaff = calculateVehicleServiceStaff(vehicles);\n\n  const updateVehicleQuantity = (vehicleType: typeof availableVehicles[0], quantity: number) => {\n    const validQuantity = Math.max(0, Math.floor(quantity));\n    const existingVehicle = vehicles.find(v => v.vehicle_type === vehicleType.type);\n\n    if (validQuantity === 0) {\n      onUpdate(vehicles.filter(v => v.vehicle_type !== vehicleType.type));\n    } else if (existingVehicle) {\n      const newVehicles = vehicles.map(v =>\n        v.vehicle_type === vehicleType.type\n          ? { ...v, quantity: validQuantity }\n          : v\n      );\n      onUpdate(newVehicles);\n    } else {\n      onUpdate([...vehicles, {\n        vehicle_type: vehicleType.type as Vehicle['vehicle_type'],\n        quantity: validQuantity,\n        mass: vehicleType.mass,\n        cost: vehicleType.cost\n      }]);\n    }\n  };\n\n  const groupedVehicles = [];\n  for (let i = 0; i < availableVehicles.length; i += 3) {\n    groupedVehicles.push(availableVehicles.slice(i, i + 3));\n  }\n\n  return (\n    <div className=\"panel-content\">\n      <p>Configure vehicles carried by the starship. Only vehicles compatible with TL-{shipTechLevel} are available.</p>\n      <p><strong>Total Service Staff Required:</strong> {totalServiceStaff}</p>\n      \n      <div className=\"vehicles-grouped-layout\">\n        {groupedVehicles.map((vehicleGroup, groupIndex) => (\n          <div key={groupIndex} className=\"vehicle-group-row\">\n            {vehicleGroup.map(vehicleType => {\n              const currentVehicle = vehicles.find(v => v.vehicle_type === vehicleType.type);\n              const quantity = currentVehicle?.quantity || 0;\n\n              return (\n                <div key={vehicleType.type} className=\"component-item\">\n                  <div className=\"component-info\">\n                    <h4>{vehicleType.name}</h4>\n                    <p>{vehicleType.mass} tons, {vehicleType.cost} MCr</p>\n                    {quantity > 0 && (\n                      <p><strong>Total:</strong> {(vehicleType.mass * quantity).toFixed(1)} tons, {(vehicleType.cost * quantity).toFixed(3)} MCr</p>\n                    )}\n                  </div>\n                  <div className=\"quantity-control\">\n                    <label>\n                      Quantity:\n                      <input\n                        type=\"number\"\n                        min=\"0\"\n                        value={quantity}\n                        onChange={(e) => updateVehicleQuantity(vehicleType, parseInt(e.target.value) || 0)}\n                        style={{ width: '60px', marginLeft: '0.5rem' }}\n                      />\n                    </label>\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        ))}\n      </div>\n\n      <div className=\"vehicle-summary\">\n        <h3>Vehicle Summary</h3>\n        {vehicles.length === 0 ? (\n          <p>No vehicles configured.</p>\n        ) : (\n          <table>\n            <thead>\n              <tr>\n                <th>Vehicle Type</th>\n                <th>Quantity</th>\n                <th>Mass (t)</th>\n                <th>Cost (MCr)</th>\n                <th>Service Staff</th>\n              </tr>\n            </thead>\n            <tbody>\n              {vehicles.map(vehicle => {\n                const vehicleType = availableVehicles.find(vt => vt.type === vehicle.vehicle_type);\n                let serviceStaff = 0;\n                if (vehicleType) {\n                  if (vehicleType.serviceStaff === 0.25) {\n                    serviceStaff = Math.ceil(vehicle.quantity * vehicleType.serviceStaff);\n                  } else if (vehicleType.serviceStaff === 0.5) {\n                    serviceStaff = Math.ceil(vehicle.quantity * vehicleType.serviceStaff);\n                  } else {\n                    serviceStaff = vehicle.quantity * vehicleType.serviceStaff;\n                  }\n                }\n                \n                return (\n                  <tr key={vehicle.vehicle_type}>\n                    <td>{vehicleType?.name || vehicle.vehicle_type}</td>\n                    <td>{vehicle.quantity}</td>\n                    <td>{(vehicle.mass * vehicle.quantity).toFixed(1)}</td>\n                    <td>{(vehicle.cost * vehicle.quantity).toFixed(3)}</td>\n                    <td>{serviceStaff}</td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n        )}\n      </div>\n\n      <div className=\"vehicle-attribution\">\n        <p>\n          <a \n            href=\"https://drive.google.com/drive/folders/1DKuxqeL2wTd8Hh9rsScdXkm2WdMubYps\" \n            target=\"_blank\" \n            rel=\"noopener noreferrer\"\n          >\n            Vehicles from the MgT2 collection, jut used their data.\n          </a>\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default VehiclesPanel;"],"names":["VehiclesPanel","vehicles","shipTechLevel","onUpdate","availableVehicles","getAvailableVehicles","totalServiceStaff","calculateVehicleServiceStaff","groupedVehicles","i","length","push","slice","_jsxs","className","children","_jsx","map","vehicleGroup","groupIndex","vehicleType","currentVehicle","find","v","vehicle_type","type","quantity","name","mass","cost","toFixed","min","value","onChange","e","updateVehicleQuantity","validQuantity","Math","max","floor","existingVehicle","filter","newVehicles","parseInt","target","style","width","marginLeft","vehicle","vt","serviceStaff","ceil","href","rel"],"sourceRoot":""}