{"version":3,"file":"811.6ef7ef24b10ee7d8e019.js","mappings":"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","sources":["webpack://starship-designer/./src/components/FacilitiesPanel.tsx"],"sourcesContent":["import React from 'react';\nimport type { Facility } from '../types/ship';\nimport { FACILITY_TYPES } from '../data/constants';\n\ninterface FacilitiesPanelProps {\n  facilities: Facility[];\n  onUpdate: (facilities: Facility[]) => void;\n}\n\nconst FacilitiesPanel: React.FC<FacilitiesPanelProps> = ({ facilities, onUpdate }) => {\n  const hasCommissary = facilities.some(f => f.facility_type === 'commissary');\n\n  // Auto-add commissary if it doesn't exist\n  React.useEffect(() => {\n    if (!hasCommissary) {\n      const commissaryFacility: Facility = {\n        facility_type: 'commissary',\n        quantity: 1,\n        mass: 2,\n        cost: 0.2\n      };\n      const newFacilities = [...facilities, commissaryFacility];\n      onUpdate(newFacilities);\n    }\n  }, [hasCommissary, facilities, onUpdate]);\n\n  const addFacility = (facilityType: typeof FACILITY_TYPES[0]) => {\n    const existingFacility = facilities.find(f => f.facility_type === facilityType.type);\n    if (existingFacility) {\n      const newFacilities = facilities.map(f =>\n        f.facility_type === facilityType.type\n          ? { ...f, quantity: f.quantity + 1 }\n          : f\n      );\n      onUpdate(newFacilities);\n    } else {\n      onUpdate([...facilities, {\n        facility_type: facilityType.type as Facility['facility_type'],\n        quantity: 1,\n        mass: facilityType.mass,\n        cost: facilityType.cost\n      }]);\n    }\n  };\n\n  const removeFacility = (facilityType: string) => {\n    const newFacilities = facilities.map(f =>\n      f.facility_type === facilityType\n        ? { ...f, quantity: Math.max(0, f.quantity - 1) }\n        : f\n    ).filter(f => f.quantity > 0);\n    onUpdate(newFacilities);\n  };\n\n  return (\n    <div className=\"panel-content\">\n      <p>Recreation and health facilities. Commissary is required.</p>\n      \n      \n      <div className=\"facilities-grouped-layout\">\n        {/* Row 1: Recreation Facilities */}\n        <div className=\"facility-group-row\">\n          {FACILITY_TYPES.filter(f => ['gym', 'spa', 'garden'].includes(f.type)).map(facilityType => {\n            const currentFacility = facilities.find(f => f.facility_type === facilityType.type);\n            const quantity = currentFacility?.quantity || 0;\n\n            return (\n              <div key={facilityType.type} className=\"component-item\">\n                <div className=\"component-info\">\n                  <h4>{facilityType.name}, {facilityType.mass} tons, {facilityType.cost} MCr</h4>\n                </div>\n                <div className=\"quantity-control\">\n                  <button \n                    onClick={() => removeFacility(facilityType.type)}\n                    disabled={quantity === 0}\n                  >\n                    -\n                  </button>\n                  <span>{quantity}</span>\n                  <button \n                    onClick={() => addFacility(facilityType)}\n                  >\n                    +\n                  </button>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n\n        {/* Row 2: Food & Social Facilities */}\n        <div className=\"facility-group-row\">\n          {FACILITY_TYPES.filter(f => ['commissary', 'kitchens', 'officers_mess_bar'].includes(f.type)).map(facilityType => {\n            const currentFacility = facilities.find(f => f.facility_type === facilityType.type);\n            const quantity = currentFacility?.quantity || 0;\n\n            return (\n              <div key={facilityType.type} className=\"component-item\">\n                <div className=\"component-info\">\n                  <h4>{facilityType.name}, {facilityType.mass} tons, {facilityType.cost} MCr</h4>\n                </div>\n                <div className=\"quantity-control\">\n                  <button \n                    onClick={() => removeFacility(facilityType.type)}\n                    disabled={quantity === 0}\n                  >\n                    -\n                  </button>\n                  <span>{quantity}</span>\n                  <button \n                    onClick={() => addFacility(facilityType)}\n                  >\n                    +\n                  </button>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n\n        {/* Row 3: Medical Facilities */}\n        <div className=\"facility-group-row\">\n          {FACILITY_TYPES.filter(f => ['first_aid_station', 'autodoc', 'medical_bay', 'surgical_bay', 'medical_garden'].includes(f.type)).map(facilityType => {\n            const currentFacility = facilities.find(f => f.facility_type === facilityType.type);\n            const quantity = currentFacility?.quantity || 0;\n\n            return (\n              <div key={facilityType.type} className=\"component-item\">\n                <div className=\"component-info\">\n                  <h4>{facilityType.name}, {facilityType.mass} tons, {facilityType.cost} MCr</h4>\n                </div>\n                <div className=\"quantity-control\">\n                  <button \n                    onClick={() => removeFacility(facilityType.type)}\n                    disabled={quantity === 0}\n                  >\n                    -\n                  </button>\n                  <span>{quantity}</span>\n                  <button \n                    onClick={() => addFacility(facilityType)}\n                  >\n                    +\n                  </button>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n\n        {/* Remaining Facilities */}\n        <div className=\"facility-group-row\">\n          {FACILITY_TYPES.filter(f => !['gym', 'spa', 'garden', 'commissary', 'kitchens', 'officers_mess_bar', 'first_aid_station', 'autodoc', 'medical_bay', 'surgical_bay', 'medical_garden'].includes(f.type)).map(facilityType => {\n            const currentFacility = facilities.find(f => f.facility_type === facilityType.type);\n            const quantity = currentFacility?.quantity || 0;\n\n            return (\n              <div key={facilityType.type} className=\"component-item\">\n                <div className=\"component-info\">\n                  <h4>{facilityType.name}, {facilityType.mass} tons, {facilityType.cost} MCr</h4>\n                </div>\n                <div className=\"quantity-control\">\n                  <button \n                    onClick={() => removeFacility(facilityType.type)}\n                    disabled={quantity === 0}\n                  >\n                    -\n                  </button>\n                  <span>{quantity}</span>\n                  <button \n                    onClick={() => addFacility(facilityType)}\n                  >\n                    +\n                  </button>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n      \n      <div className=\"validation-info\">\n        <h3>Requirements:</h3>\n        <ul>\n          <li className={hasCommissary ? 'valid' : 'invalid'}>\n            âœ“ Commissary is required\n          </li>\n        </ul>\n      </div>\n\n    </div>\n  );\n};\n\nexport default FacilitiesPanel;"],"names":["FacilitiesPanel","facilities","onUpdate","hasCommissary","some","f","facility_type","React","commissaryFacility","quantity","mass","cost","newFacilities","addFacility","facilityType","find","type","map","removeFacility","Math","max","filter","_jsxs","className","children","_jsx","FACILITY_TYPES","includes","currentFacility","name","onClick","disabled"],"sourceRoot":""}