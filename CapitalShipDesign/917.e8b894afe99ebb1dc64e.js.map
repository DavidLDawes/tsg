{"version":3,"file":"917.e8b894afe99ebb1dc64e.js","mappings":"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","sources":["webpack://starship-designer/./src/components/DronesPanel.tsx"],"sourcesContent":["import React from 'react';\nimport type { Drone } from '../types/ship';\nimport { DRONE_TYPES } from '../data/constants';\n\ninterface DronesPanelProps {\n  drones: Drone[];\n  onUpdate: (drones: Drone[]) => void;\n}\n\nconst DronesPanel: React.FC<DronesPanelProps> = ({ drones, onUpdate }) => {\n  const updateDroneQuantity = (droneType: typeof DRONE_TYPES[0], quantity: number) => {\n    const validQuantity = Math.max(0, quantity);\n    const existingDrone = drones.find(d => d.drone_type === droneType.type);\n\n    if (validQuantity === 0) {\n      // Remove the drone if quantity is 0\n      onUpdate(drones.filter(d => d.drone_type !== droneType.type));\n    } else if (existingDrone) {\n      // Update existing drone\n      const newDrones = drones.map(d =>\n        d.drone_type === droneType.type\n          ? { ...d, quantity: validQuantity }\n          : d\n      );\n      onUpdate(newDrones);\n    } else {\n      // Add new drone\n      onUpdate([...drones, {\n        drone_type: droneType.type as Drone['drone_type'],\n        quantity: validQuantity,\n        mass: droneType.mass,\n        cost: droneType.cost\n      }]);\n    }\n  };\n\n  const groupedDrones = [];\n  for (let i = 0; i < DRONE_TYPES.length; i += 3) {\n    groupedDrones.push(DRONE_TYPES.slice(i, i + 3));\n  }\n\n  return (\n    <div className=\"panel-content\">\n      <p>Configure drones and robotic units carried by the starship.</p>\n      \n      <div className=\"drones-grouped-layout\">\n        {groupedDrones.map((droneGroup, groupIndex) => (\n          <div key={groupIndex} className=\"drone-group-row\">\n            {droneGroup.map(droneType => {\n              const currentDrone = drones.find(d => d.drone_type === droneType.type);\n              const quantity = currentDrone?.quantity || 0;\n\n              return (\n                <div key={droneType.type} className=\"component-item\">\n                  <div className=\"component-info\">\n                    <h4>{droneType.name}</h4>\n                    <p>{droneType.mass} tons, {droneType.cost} MCr</p>\n                    {quantity > 0 && (\n                      <p><strong>Total:</strong> {(droneType.mass * quantity).toFixed(1)} tons, {(droneType.cost * quantity).toFixed(3)} MCr</p>\n                    )}\n                  </div>\n                  <div className=\"quantity-control\">\n                    <label>\n                      Quantity:\n                      <input\n                        type=\"number\"\n                        min=\"0\"\n                        value={quantity}\n                        onChange={(e) => updateDroneQuantity(droneType, parseInt(e.target.value) || 0)}\n                        style={{ width: '60px', marginLeft: '0.5rem' }}\n                      />\n                    </label>\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        ))}\n      </div>\n\n      <div className=\"drone-summary\">\n        <h3>Drone Summary</h3>\n        {drones.length === 0 ? (\n          <p>No drones configured.</p>\n        ) : (\n          <table>\n            <thead>\n              <tr>\n                <th>Drone Type</th>\n                <th>Quantity</th>\n                <th>Mass (t)</th>\n                <th>Cost (MCr)</th>\n              </tr>\n            </thead>\n            <tbody>\n              {drones.map(drone => {\n                const droneType = DRONE_TYPES.find(dt => dt.type === drone.drone_type);\n                \n                return (\n                  <tr key={drone.drone_type}>\n                    <td>{droneType?.name || drone.drone_type}</td>\n                    <td>{drone.quantity}</td>\n                    <td>{(drone.mass * drone.quantity).toFixed(1)}</td>\n                    <td>{(drone.cost * drone.quantity).toFixed(3)}</td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n        )}\n      </div>\n\n    </div>\n  );\n};\n\nexport default DronesPanel;"],"names":["DronesPanel","drones","onUpdate","groupedDrones","i","DRONE_TYPES","length","push","slice","_jsxs","className","children","_jsx","map","droneGroup","groupIndex","droneType","currentDrone","find","d","drone_type","type","quantity","name","mass","cost","toFixed","min","value","onChange","e","updateDroneQuantity","validQuantity","Math","max","existingDrone","filter","newDrones","parseInt","target","style","width","marginLeft","drone","dt"],"sourceRoot":""}