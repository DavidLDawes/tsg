{"version":3,"file":"main.92647cb00e4e22f96ec0.js","mappings":"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","sources":["webpack://starship-designer/./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js","webpack://starship-designer/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://starship-designer/./node_modules/style-loader/dist/runtime/styleTagTransform.js","webpack://starship-designer/./node_modules/style-loader/dist/runtime/insertStyleElement.js","webpack://starship-designer/./node_modules/css-loader/dist/runtime/api.js","webpack://starship-designer/./node_modules/css-loader/dist/runtime/sourceMaps.js","webpack://starship-designer/./src/components/FileMenu.css","webpack://starship-designer/./src/components/RulesMenu.css","webpack://starship-designer/./src/index.css","webpack://starship-designer/./src/index.css?cfe4","webpack://starship-designer/./src/services/initialDataService.ts","webpack://starship-designer/./src/components/SelectShipPanel.tsx","webpack://starship-designer/./src/components/MassSidebar.tsx","webpack://starship-designer/./src/components/FileMenu.css?5220","webpack://starship-designer/./src/components/FileMenu.tsx","webpack://starship-designer/./src/components/RulesMenu.css?0264","webpack://starship-designer/./src/components/RulesMenu.tsx","webpack://starship-designer/./src/App.css?d9cd","webpack://starship-designer/./src/App.tsx","webpack://starship-designer/./src/main.tsx","webpack://starship-designer/./src/App.css","webpack://starship-designer/./src/services/database.ts","webpack://starship-designer/./node_modules/style-loader/dist/runtime/insertBySelector.js","webpack://starship-designer/./src/data/constants.ts","webpack://starship-designer/./node_modules/style-loader/dist/runtime/styleDomAPI.js"],"sourcesContent":["\"use strict\";\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce = typeof __webpack_nonce__ !== \"undefined\" ? __webpack_nonce__ : null;\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\nmodule.exports = setAttributesWithoutAttributes;","\"use strict\";\n\nvar stylesInDOM = [];\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n  return result;\n}\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n    identifiers.push(identifier);\n  }\n  return identifiers;\n}\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n  return updater;\n}\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n    var newLastIdentifiers = modulesToDom(newList, options);\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n      var _index = getIndexByIdentifier(_identifier);\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\nmodule.exports = styleTagTransform;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\nmodule.exports = insertStyleElement;","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};","\"use strict\";\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n  if (!cssMapping) {\n    return content;\n  }\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    return [content].concat([sourceMapping]).join(\"\\n\");\n  }\n  return [content].join(\"\\n\");\n};","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.file-menu {\n  position: relative;\n  display: inline-block;\n}\n\n.file-menu-button {\n  background-color: #34495e;\n  color: white;\n  border: none;\n  padding: 0.5rem 1rem;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 0.9rem;\n  font-weight: 500;\n  transition: background-color 0.2s;\n}\n\n.file-menu-button:hover {\n  background-color: #4a6741;\n}\n\n.file-menu-button:focus {\n  outline: none;\n  box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.5);\n}\n\n.file-menu-dropdown {\n  position: absolute;\n  top: 100%;\n  left: 0;\n  background-color: white;\n  border: 1px solid #dee2e6;\n  border-radius: 4px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n  z-index: 1000;\n  min-width: 200px;\n  padding: 0.25rem 0;\n  margin-top: 2px;\n}\n\n.file-menu-item {\n  width: 100%;\n  background: none;\n  border: none;\n  padding: 0.75rem 1rem;\n  text-align: left;\n  cursor: pointer;\n  font-size: 0.9rem;\n  color: #2c3e50;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  transition: background-color 0.2s;\n}\n\n.file-menu-item:hover:not(:disabled) {\n  background-color: #f8f9fa;\n}\n\n.file-menu-item:disabled {\n  color: #6c757d;\n  cursor: not-allowed;\n  opacity: 0.6;\n}\n\n.file-menu-item:focus {\n  outline: none;\n  background-color: #e9ecef;\n}\n\n.menu-item-text {\n  flex: 1;\n}\n\n.menu-item-shortcut {\n  font-size: 0.8rem;\n  color: #6c757d;\n  margin-left: 1rem;\n}\n\n.file-menu-separator {\n  height: 1px;\n  background-color: #dee2e6;\n  margin: 0.25rem 0;\n}\n\n.file-menu-dialog-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 2000;\n}\n\n.file-menu-dialog {\n  background-color: white;\n  border-radius: 8px;\n  padding: 2rem;\n  max-width: 400px;\n  width: 90%;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n}\n\n.file-menu-dialog h3 {\n  margin: 0 0 1.5rem 0;\n  color: #2c3e50;\n  border-bottom: 2px solid #3498db;\n  padding-bottom: 0.5rem;\n}\n\n.file-menu-dialog .form-group {\n  margin-bottom: 1.5rem;\n}\n\n.file-menu-dialog .form-group label {\n  display: block;\n  margin-bottom: 0.5rem;\n  font-weight: 600;\n  color: #2c3e50;\n}\n\n.file-menu-dialog .form-group input {\n  width: 100%;\n  padding: 0.75rem;\n  border: 2px solid #bdc3c7;\n  border-radius: 4px;\n  font-size: 1rem;\n  transition: border-color 0.2s;\n}\n\n.file-menu-dialog .form-group input:focus {\n  outline: none;\n  border-color: #3498db;\n}\n\n.file-menu-dialog-actions {\n  display: flex;\n  gap: 1rem;\n  justify-content: flex-end;\n}\n\n.file-menu-dialog-actions button {\n  padding: 0.75rem 1.5rem;\n  border: none;\n  border-radius: 4px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: background-color 0.2s;\n  min-width: 80px;\n}\n\n.file-menu-dialog-actions .save-btn {\n  background-color: #007bff;\n  color: white;\n}\n\n.file-menu-dialog-actions .save-btn:hover:not(:disabled) {\n  background-color: #0056b3;\n}\n\n.file-menu-dialog-actions .save-btn:disabled {\n  background-color: #bdc3c7;\n  cursor: not-allowed;\n  opacity: 0.6;\n}\n\n.file-menu-dialog-actions .cancel-btn {\n  background-color: #6c757d;\n  color: white;\n}\n\n.file-menu-dialog-actions .cancel-btn:hover:not(:disabled) {\n  background-color: #5a6268;\n}\n\n.file-menu-message {\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  padding: 1rem;\n  border-radius: 4px;\n  font-weight: 500;\n  z-index: 1500;\n  max-width: 300px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n}\n\n.file-menu-message.success {\n  background-color: #d4edda;\n  color: #155724;\n  border: 1px solid #c3e6cb;\n}\n\n.file-menu-message.error {\n  background-color: #f8d7da;\n  color: #721c24;\n  border: 1px solid #f5c6cb;\n}\n\n/* Animation for dropdown */\n.file-menu-dropdown {\n  animation: fadeIn 0.15s ease-out;\n  transform-origin: top left;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n    transform: translateY(-10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n/* Animation for dialog */\n.file-menu-dialog-overlay {\n  animation: overlayFadeIn 0.2s ease-out;\n}\n\n.file-menu-dialog {\n  animation: dialogSlideIn 0.2s ease-out;\n}\n\n@keyframes overlayFadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n@keyframes dialogSlideIn {\n  from {\n    opacity: 0;\n    transform: translateY(-20px) scale(0.95);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0) scale(1);\n  }\n}\n\n/* Responsive adjustments */\n@media (max-width: 768px) {\n  .file-menu-dialog {\n    width: 95%;\n    margin: 0 auto;\n  }\n  \n  .file-menu-message {\n    position: fixed;\n    top: 10px;\n    left: 10px;\n    right: 10px;\n    max-width: none;\n  }\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/FileMenu.css\"],\"names\":[],\"mappings\":\"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\",\"sourcesContent\":[\".file-menu {\\n  position: relative;\\n  display: inline-block;\\n}\\n\\n.file-menu-button {\\n  background-color: #34495e;\\n  color: white;\\n  border: none;\\n  padding: 0.5rem 1rem;\\n  border-radius: 4px;\\n  cursor: pointer;\\n  font-size: 0.9rem;\\n  font-weight: 500;\\n  transition: background-color 0.2s;\\n}\\n\\n.file-menu-button:hover {\\n  background-color: #4a6741;\\n}\\n\\n.file-menu-button:focus {\\n  outline: none;\\n  box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.5);\\n}\\n\\n.file-menu-dropdown {\\n  position: absolute;\\n  top: 100%;\\n  left: 0;\\n  background-color: white;\\n  border: 1px solid #dee2e6;\\n  border-radius: 4px;\\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\\n  z-index: 1000;\\n  min-width: 200px;\\n  padding: 0.25rem 0;\\n  margin-top: 2px;\\n}\\n\\n.file-menu-item {\\n  width: 100%;\\n  background: none;\\n  border: none;\\n  padding: 0.75rem 1rem;\\n  text-align: left;\\n  cursor: pointer;\\n  font-size: 0.9rem;\\n  color: #2c3e50;\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  transition: background-color 0.2s;\\n}\\n\\n.file-menu-item:hover:not(:disabled) {\\n  background-color: #f8f9fa;\\n}\\n\\n.file-menu-item:disabled {\\n  color: #6c757d;\\n  cursor: not-allowed;\\n  opacity: 0.6;\\n}\\n\\n.file-menu-item:focus {\\n  outline: none;\\n  background-color: #e9ecef;\\n}\\n\\n.menu-item-text {\\n  flex: 1;\\n}\\n\\n.menu-item-shortcut {\\n  font-size: 0.8rem;\\n  color: #6c757d;\\n  margin-left: 1rem;\\n}\\n\\n.file-menu-separator {\\n  height: 1px;\\n  background-color: #dee2e6;\\n  margin: 0.25rem 0;\\n}\\n\\n.file-menu-dialog-overlay {\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  background-color: rgba(0, 0, 0, 0.5);\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  z-index: 2000;\\n}\\n\\n.file-menu-dialog {\\n  background-color: white;\\n  border-radius: 8px;\\n  padding: 2rem;\\n  max-width: 400px;\\n  width: 90%;\\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\\n}\\n\\n.file-menu-dialog h3 {\\n  margin: 0 0 1.5rem 0;\\n  color: #2c3e50;\\n  border-bottom: 2px solid #3498db;\\n  padding-bottom: 0.5rem;\\n}\\n\\n.file-menu-dialog .form-group {\\n  margin-bottom: 1.5rem;\\n}\\n\\n.file-menu-dialog .form-group label {\\n  display: block;\\n  margin-bottom: 0.5rem;\\n  font-weight: 600;\\n  color: #2c3e50;\\n}\\n\\n.file-menu-dialog .form-group input {\\n  width: 100%;\\n  padding: 0.75rem;\\n  border: 2px solid #bdc3c7;\\n  border-radius: 4px;\\n  font-size: 1rem;\\n  transition: border-color 0.2s;\\n}\\n\\n.file-menu-dialog .form-group input:focus {\\n  outline: none;\\n  border-color: #3498db;\\n}\\n\\n.file-menu-dialog-actions {\\n  display: flex;\\n  gap: 1rem;\\n  justify-content: flex-end;\\n}\\n\\n.file-menu-dialog-actions button {\\n  padding: 0.75rem 1.5rem;\\n  border: none;\\n  border-radius: 4px;\\n  font-weight: 600;\\n  cursor: pointer;\\n  transition: background-color 0.2s;\\n  min-width: 80px;\\n}\\n\\n.file-menu-dialog-actions .save-btn {\\n  background-color: #007bff;\\n  color: white;\\n}\\n\\n.file-menu-dialog-actions .save-btn:hover:not(:disabled) {\\n  background-color: #0056b3;\\n}\\n\\n.file-menu-dialog-actions .save-btn:disabled {\\n  background-color: #bdc3c7;\\n  cursor: not-allowed;\\n  opacity: 0.6;\\n}\\n\\n.file-menu-dialog-actions .cancel-btn {\\n  background-color: #6c757d;\\n  color: white;\\n}\\n\\n.file-menu-dialog-actions .cancel-btn:hover:not(:disabled) {\\n  background-color: #5a6268;\\n}\\n\\n.file-menu-message {\\n  position: fixed;\\n  top: 20px;\\n  right: 20px;\\n  padding: 1rem;\\n  border-radius: 4px;\\n  font-weight: 500;\\n  z-index: 1500;\\n  max-width: 300px;\\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\\n}\\n\\n.file-menu-message.success {\\n  background-color: #d4edda;\\n  color: #155724;\\n  border: 1px solid #c3e6cb;\\n}\\n\\n.file-menu-message.error {\\n  background-color: #f8d7da;\\n  color: #721c24;\\n  border: 1px solid #f5c6cb;\\n}\\n\\n/* Animation for dropdown */\\n.file-menu-dropdown {\\n  animation: fadeIn 0.15s ease-out;\\n  transform-origin: top left;\\n}\\n\\n@keyframes fadeIn {\\n  from {\\n    opacity: 0;\\n    transform: translateY(-10px);\\n  }\\n  to {\\n    opacity: 1;\\n    transform: translateY(0);\\n  }\\n}\\n\\n/* Animation for dialog */\\n.file-menu-dialog-overlay {\\n  animation: overlayFadeIn 0.2s ease-out;\\n}\\n\\n.file-menu-dialog {\\n  animation: dialogSlideIn 0.2s ease-out;\\n}\\n\\n@keyframes overlayFadeIn {\\n  from {\\n    opacity: 0;\\n  }\\n  to {\\n    opacity: 1;\\n  }\\n}\\n\\n@keyframes dialogSlideIn {\\n  from {\\n    opacity: 0;\\n    transform: translateY(-20px) scale(0.95);\\n  }\\n  to {\\n    opacity: 1;\\n    transform: translateY(0) scale(1);\\n  }\\n}\\n\\n/* Responsive adjustments */\\n@media (max-width: 768px) {\\n  .file-menu-dialog {\\n    width: 95%;\\n    margin: 0 auto;\\n  }\\n  \\n  .file-menu-message {\\n    position: fixed;\\n    top: 10px;\\n    left: 10px;\\n    right: 10px;\\n    max-width: none;\\n  }\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.rules-menu {\n  position: relative;\n  display: inline-block;\n  margin-left: 0.5rem;\n}\n\n.rules-menu-button {\n  background-color: #34495e;\n  color: white;\n  border: none;\n  padding: 0.5rem 1rem;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 0.9rem;\n  font-weight: 500;\n  transition: background-color 0.2s;\n}\n\n.rules-menu-button:hover {\n  background-color: #4a6741;\n}\n\n.rules-menu-button:focus {\n  outline: none;\n  box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.5);\n}\n\n.rules-menu-dropdown {\n  position: absolute;\n  top: 100%;\n  left: 0;\n  background-color: white;\n  border: 1px solid #dee2e6;\n  border-radius: 4px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n  z-index: 1000;\n  min-width: 280px;\n  padding: 0.25rem 0;\n  margin-top: 2px;\n  animation: fadeIn 0.15s ease-out;\n  transform-origin: top left;\n}\n\n.rules-menu-item {\n  width: 100%;\n  background: none;\n  border: none;\n  padding: 0.75rem 1rem;\n  text-align: left;\n  cursor: pointer;\n  font-size: 0.9rem;\n  color: #2c3e50;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  transition: background-color 0.2s;\n}\n\n.rules-menu-item:hover:not(:disabled) {\n  background-color: #f8f9fa;\n}\n\n.rules-menu-item:focus {\n  outline: none;\n  background-color: #e9ecef;\n}\n\n.rules-menu-item.disabled {\n  color: #9ca3af;\n  cursor: not-allowed;\n  opacity: 0.6;\n}\n\n.rules-menu-item.disabled:hover {\n  background-color: transparent;\n}\n\n.menu-item-text {\n  flex: 1;\n  text-align: left;\n}\n\n.rule-status {\n  font-weight: bold;\n  font-size: 1rem;\n  width: 16px;\n  height: 16px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-left: 0.5rem;\n}\n\n.rule-status.enabled {\n  color: #28a745;\n}\n\n.rule-status.disabled {\n  color: #dc3545;\n}\n\n.rules-menu-item.disabled .rule-status {\n  color: #9ca3af;\n}\n\n/* Animation for dropdown */\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n    transform: translateY(-10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n/* Responsive adjustments */\n@media (max-width: 768px) {\n  .rules-menu-dropdown {\n    min-width: 250px;\n  }\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/RulesMenu.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,kBAAkB;EAClB,qBAAqB;EACrB,mBAAmB;AACrB;;AAEA;EACE,yBAAyB;EACzB,YAAY;EACZ,YAAY;EACZ,oBAAoB;EACpB,kBAAkB;EAClB,eAAe;EACf,iBAAiB;EACjB,gBAAgB;EAChB,iCAAiC;AACnC;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,aAAa;EACb,6CAA6C;AAC/C;;AAEA;EACE,kBAAkB;EAClB,SAAS;EACT,OAAO;EACP,uBAAuB;EACvB,yBAAyB;EACzB,kBAAkB;EAClB,0CAA0C;EAC1C,aAAa;EACb,gBAAgB;EAChB,kBAAkB;EAClB,eAAe;EACf,gCAAgC;EAChC,0BAA0B;AAC5B;;AAEA;EACE,WAAW;EACX,gBAAgB;EAChB,YAAY;EACZ,qBAAqB;EACrB,gBAAgB;EAChB,eAAe;EACf,iBAAiB;EACjB,cAAc;EACd,aAAa;EACb,8BAA8B;EAC9B,mBAAmB;EACnB,iCAAiC;AACnC;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,aAAa;EACb,yBAAyB;AAC3B;;AAEA;EACE,cAAc;EACd,mBAAmB;EACnB,YAAY;AACd;;AAEA;EACE,6BAA6B;AAC/B;;AAEA;EACE,OAAO;EACP,gBAAgB;AAClB;;AAEA;EACE,iBAAiB;EACjB,eAAe;EACf,WAAW;EACX,YAAY;EACZ,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,mBAAmB;AACrB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,cAAc;AAChB;;AAEA,2BAA2B;AAC3B;EACE;IACE,UAAU;IACV,4BAA4B;EAC9B;EACA;IACE,UAAU;IACV,wBAAwB;EAC1B;AACF;;AAEA,2BAA2B;AAC3B;EACE;IACE,gBAAgB;EAClB;AACF\",\"sourcesContent\":[\".rules-menu {\\n  position: relative;\\n  display: inline-block;\\n  margin-left: 0.5rem;\\n}\\n\\n.rules-menu-button {\\n  background-color: #34495e;\\n  color: white;\\n  border: none;\\n  padding: 0.5rem 1rem;\\n  border-radius: 4px;\\n  cursor: pointer;\\n  font-size: 0.9rem;\\n  font-weight: 500;\\n  transition: background-color 0.2s;\\n}\\n\\n.rules-menu-button:hover {\\n  background-color: #4a6741;\\n}\\n\\n.rules-menu-button:focus {\\n  outline: none;\\n  box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.5);\\n}\\n\\n.rules-menu-dropdown {\\n  position: absolute;\\n  top: 100%;\\n  left: 0;\\n  background-color: white;\\n  border: 1px solid #dee2e6;\\n  border-radius: 4px;\\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\\n  z-index: 1000;\\n  min-width: 280px;\\n  padding: 0.25rem 0;\\n  margin-top: 2px;\\n  animation: fadeIn 0.15s ease-out;\\n  transform-origin: top left;\\n}\\n\\n.rules-menu-item {\\n  width: 100%;\\n  background: none;\\n  border: none;\\n  padding: 0.75rem 1rem;\\n  text-align: left;\\n  cursor: pointer;\\n  font-size: 0.9rem;\\n  color: #2c3e50;\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  transition: background-color 0.2s;\\n}\\n\\n.rules-menu-item:hover:not(:disabled) {\\n  background-color: #f8f9fa;\\n}\\n\\n.rules-menu-item:focus {\\n  outline: none;\\n  background-color: #e9ecef;\\n}\\n\\n.rules-menu-item.disabled {\\n  color: #9ca3af;\\n  cursor: not-allowed;\\n  opacity: 0.6;\\n}\\n\\n.rules-menu-item.disabled:hover {\\n  background-color: transparent;\\n}\\n\\n.menu-item-text {\\n  flex: 1;\\n  text-align: left;\\n}\\n\\n.rule-status {\\n  font-weight: bold;\\n  font-size: 1rem;\\n  width: 16px;\\n  height: 16px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  margin-left: 0.5rem;\\n}\\n\\n.rule-status.enabled {\\n  color: #28a745;\\n}\\n\\n.rule-status.disabled {\\n  color: #dc3545;\\n}\\n\\n.rules-menu-item.disabled .rule-status {\\n  color: #9ca3af;\\n}\\n\\n/* Animation for dropdown */\\n@keyframes fadeIn {\\n  from {\\n    opacity: 0;\\n    transform: translateY(-10px);\\n  }\\n  to {\\n    opacity: 1;\\n    transform: translateY(0);\\n  }\\n}\\n\\n/* Responsive adjustments */\\n@media (max-width: 768px) {\\n  .rules-menu-dropdown {\\n    min-width: 250px;\\n  }\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nbody {\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n  line-height: 1.6;\n  color: #333;\n  background-color: #f5f5f5;\n}\n\n#root {\n  width: 100%;\n  min-height: 100vh;\n}\n\nbutton {\n  font-family: inherit;\n  cursor: pointer;\n}\n\ninput, select, textarea {\n  font-family: inherit;\n}\n\na {\n  color: #3498db;\n  text-decoration: none;\n}\n\na:hover {\n  text-decoration: underline;\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/index.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,SAAS;EACT,UAAU;EACV,sBAAsB;AACxB;;AAEA;EACE,4DAA4D;EAC5D,gBAAgB;EAChB,WAAW;EACX,yBAAyB;AAC3B;;AAEA;EACE,WAAW;EACX,iBAAiB;AACnB;;AAEA;EACE,oBAAoB;EACpB,eAAe;AACjB;;AAEA;EACE,oBAAoB;AACtB;;AAEA;EACE,cAAc;EACd,qBAAqB;AACvB;;AAEA;EACE,0BAA0B;AAC5B\",\"sourcesContent\":[\"* {\\n  margin: 0;\\n  padding: 0;\\n  box-sizing: border-box;\\n}\\n\\nbody {\\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\\n  line-height: 1.6;\\n  color: #333;\\n  background-color: #f5f5f5;\\n}\\n\\n#root {\\n  width: 100%;\\n  min-height: 100vh;\\n}\\n\\nbutton {\\n  font-family: inherit;\\n  cursor: pointer;\\n}\\n\\ninput, select, textarea {\\n  font-family: inherit;\\n}\\n\\na {\\n  color: #3498db;\\n  text-decoration: none;\\n}\\n\\na:hover {\\n  text-decoration: underline;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/css-loader/dist/cjs.js!./index.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/css-loader/dist/cjs.js!./index.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { databaseService } from './database';\nimport type { ShipDesign } from '../types/ship';\nimport { cleanInvalidCargo } from '../data/constants';\n\ninterface InitialDataExport {\n  exportDate: string;\n  version: string;\n  ships: Array<ShipDesign & { _metadata?: any }>;\n}\n\nclass InitialDataService {\n  private static readonly INITIAL_DATA_PATH = '/initial-ships.json';\n\n  async loadInitialDataIfNeeded(): Promise<boolean> {\n    try {\n      // Check if database is empty\n      await databaseService.initialize();\n      const hasShips = await databaseService.hasAnyShips();\n      \n      if (hasShips) {\n        // Database already has ships, no need to preload\n        return false;\n      }\n\n      // Try to load initial data\n      const initialData = await this.loadInitialData();\n      if (!initialData || !initialData.ships || initialData.ships.length === 0) {\n        // No initial data available\n        return false;\n      }\n\n      // Preload the initial ships\n      console.log(` Preloading ${initialData.ships.length} initial ships...`);\n      let loaded = 0;\n      let errors = 0;\n\n      for (const shipData of initialData.ships) {\n        try {\n          // Remove metadata before saving and clean invalid cargo entries\n          const { _metadata, ...shipDesign } = shipData;\n          shipDesign.cargo = cleanInvalidCargo(shipDesign.cargo);\n          await databaseService.saveOrUpdateShipByName(shipDesign);\n          loaded++;\n          console.log(` Loaded: ${shipDesign.ship.name}`);\n        } catch (error) {\n          console.error(` Failed to load ship \"${shipData.ship?.name || 'Unknown'}\":`, error);\n          errors++;\n        }\n      }\n\n      console.log(` Initial data preload complete: ${loaded} loaded, ${errors} errors`);\n      return loaded > 0;\n      \n    } catch (error) {\n      console.error('Error during initial data preload:', error);\n      return false;\n    }\n  }\n\n  private async loadInitialData(): Promise<InitialDataExport | null> {\n    try {\n      // Try to fetch the initial data file\n      const response = await fetch(InitialDataService.INITIAL_DATA_PATH);\n      if (!response.ok) {\n        // Initial data file doesn't exist\n        return null;\n      }\n\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      // Initial data file doesn't exist or couldn't be loaded\n      return null;\n    }\n  }\n\n  async hasInitialData(): Promise<boolean> {\n    try {\n      const data = await this.loadInitialData();\n      return !!(data && data.ships && data.ships.length > 0);\n    } catch {\n      return false;\n    }\n  }\n}\n\nexport const initialDataService = new InitialDataService();","import { useState, useEffect } from 'react';\nimport { databaseService, type StoredShipDesign } from '../services/database';\nimport { initialDataService } from '../services/initialDataService';\nimport type { ShipDesign } from '../types/ship';\n\ninterface SelectShipPanelProps {\n  onNewShip: () => void;\n  onLoadShip: (shipDesign: ShipDesign) => void;\n}\n\nexport default function SelectShipPanel({ onNewShip, onLoadShip }: SelectShipPanelProps) {\n  const [ships, setShips] = useState<StoredShipDesign[]>([]);\n  const [selectedShipId, setSelectedShipId] = useState<number | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    loadShips();\n  }, []);\n\n  const createDefaultShips = () => {\n    // Fallback: create default ships in memory if all loading fails\n    const defaultFreeTrader = {\n      id: -1, // Temporary ID\n      ship: {\n        name:'Free Trader',\n        tech_level: 'C' as const,\n        tonnage: 400,\n        configuration: 'standard' as const,\n        fuel_weeks: 4,\n        missile_reloads: 0,\n        sand_reloads: 0,\n        description:'Merchant vessel' as const\n      },\n      engines: [\n        {engine_type: 'power_plant' as const, drive_code: 'D', performance: 2, mass: 13, cost: 32},\n        {engine_type: 'jump_drive' as const, drive_code: 'D', performance: 2, mass: 25, cost: 40},\n        {engine_type: 'maneuver_drive' as const, drive_code: 'D', performance: 2, mass: 7, cost: 16}\n      ],\n      fittings: [\n        { fitting_type: 'bridge' as const, mass: 10, cost: 2 },\n        { fitting_type: 'comms_sensors' as const, comms_sensors_type: 'standard' as const, mass: 0, cost: 0 }\n      ],\n      weapons: [{weapon_name: 'Hard Point' as const, mass: 1, cost: 1, quantity: 4}],\n      defenses: [],\n      berths: [],\n      facilities: [{facility_type:'commissary' as const, quantity: 1, mass: 2, cost: 0.2}],\n      cargo: [\n        {cargo_type: 'cargo_bay' as const, tonnage:132, cost: 0},\n        {cargo_type: 'spares' as const, tonnage: 4,'cost': 2},\n        {cargo_type: 'cold_storage_bay' as const, tonnage: 2, cost: 0.4},\n        {cargo_type: 'secure_storage_bay' as const, tonnage: 1, cost: 0.7}\n      ],\n      vehicles: [{vehicle_type:'air_raft_truck' as const, quantity:1, mass: 5, cost: 0.55}],\n      drones: [],\n      createdAt: new Date(),\n      updatedAt: new Date()\n    }\n\n    const defaultScout = {\n      id: -2, // Temporary ID\n      ship: {\n        name: 'Scout',\n        tech_level: 'E' as const,\n        tonnage: 100,\n        configuration: 'standard' as const,\n        fuel_weeks: 4,\n        missile_reloads: 0,\n        sand_reloads: 0,\n        description: 'Fast long ranged ship, low crew overhead'\n      },\n      engines: [\n        {engine_type: 'power_plant' as const, drive_code: 'B', performance: 4, mass: 7, cost: 16 },\n        {engine_type: 'jump_drive' as const, drive_code: 'B', performance: 4, mass: 15, cost: 20 },\n        {engine_type: 'maneuver_drive' as const, drive_code: 'B', performance: 4, mass: 3, cost: 8 }\n      ],\n      fittings: [\n        { fitting_type: 'bridge' as const, mass: 10, cost: 2 },\n        { fitting_type: 'comms_sensors' as const, comms_sensors_type: 'standard' as const, mass: 0, cost: 0 }\n      ],\n      weapons: [],\n      defenses: [],\n      berths: [],\n      facilities: [],\n      cargo: [{ cargo_type: 'cargo_bay' as const, tonnage: 3, cost: 0 }],\n      vehicles: [],\n      drones: [],\n      createdAt: new Date(),\n      updatedAt: new Date()\n    }\n  \n    const defaultFatTrader = {\n      id: -3, // Temporary ID\n      ship: {name: 'Fat Trader', tech_level: 'C', tonnage: 600, configuration:'standard' as const, fuel_weeks: 4,\n        missile_reloads: 0, sand_reloads: 0, description:'A larger merchant vessel'},\n      engines:[\n        {engine_type: 'power_plant' as const, drive_code: 'D', performance:2, mass: 13, cost: 32},\n        {engine_type: 'jump_drive' as const, drive_code: 'D', performance: 2, mass: 25, cost: 40},\n        {engine_type: 'maneuver_drive' as const, drive_code: 'D', performance: 2, mass: 7, cost: 16}\n      ],\n      fittings: [\n        { fitting_type: 'bridge' as const, mass: 10, cost: 2 },\n        { fitting_type: 'comms_sensors' as const, comms_sensors_type: 'standard' as const, mass: 0, cost: 0 }\n      ],\n      weapons: [\n        {weapon_name: 'Hard Point', mass: 1, cost: 1, quantity:6}\n      ],\n      defenses: [],\n      berths: [],\n      facilities: [],\n      cargo: [],\n      vehicles: [],\n      drones: [],\n      createdAt: new Date(),\n      updatedAt: new Date()\n    }\n    \n    return [defaultScout, defaultFreeTrader, defaultFatTrader];\n  };\n\n  const loadShips = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      await databaseService.initialize();\n      let savedShips = await databaseService.getAllShips();\n      console.log('SelectShipPanel loaded ships from database:', savedShips.length);\n      \n      // If no ships exist, try to load initial data\n      if (savedShips.length === 0) {\n        console.log('No ships in database, attempting to load initial ships...');\n        const loaded = await initialDataService.loadInitialDataIfNeeded();\n        console.log('Initial data loading result:', loaded);\n        \n        if (loaded) {\n          // Try to get ships again after loading\n          savedShips = await databaseService.getAllShips();\n          console.log('After loading initial data, ships count:', savedShips.length);\n        }\n        \n        // Final fallback: if still no ships, use hardcoded defaults\n        if (savedShips.length === 0) {\n          console.log(' All ship loading methods failed, using hardcoded default ships');\n          savedShips = createDefaultShips();\n        }\n      }\n      \n      setShips(savedShips);\n      console.log('Final ships array set:', savedShips.length, savedShips.map(s => s.ship.name));\n    } catch (err) {\n      console.error('SelectShipPanel error during ship loading:', err);\n      // Final emergency fallback\n      console.log(' Emergency fallback: using hardcoded ships due to error');\n      const defaultShips = createDefaultShips();\n      setShips(defaultShips);\n      setError(null); // Clear error since we have fallback ships\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleLoadSelectedShip = async () => {\n    if (!selectedShipId) return;\n\n    try {\n      // Check if this is a hardcoded ship (negative ID)\n      if (selectedShipId < 0) {\n        const ship = ships.find(s => s.id === selectedShipId);\n        if (ship) {\n          console.log('Loading hardcoded ship:', ship.ship.name);\n          // Remove database-specific fields before passing to parent\n          const { id: _id, createdAt: _createdAt, updatedAt: _updatedAt, ...shipDesign } = ship;\n          onLoadShip(shipDesign);\n          return;\n        }\n      }\n\n      // Regular database ship loading\n      const ship = await databaseService.getShipById(selectedShipId);\n      if (ship) {\n        console.log('Loading database ship:', ship.ship.name);\n        // Remove database-specific fields before passing to parent\n        const { id: _id, createdAt: _createdAt, updatedAt: _updatedAt, ...shipDesign } = ship;\n        onLoadShip(shipDesign);\n      }\n    } catch (err) {\n      setError('Failed to load selected ship');\n      console.error('Load ship error:', err);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"select-ship-panel\">\n        <p>Loading ships...</p>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"select-ship-panel\">\n        <div className=\"error-message\">\n          <p>Error: {error}</p>\n          <button onClick={loadShips}>Retry</button>\n        </div>\n        <div className=\"panel-actions\">\n          <button onClick={onNewShip} className=\"new-ship-button\">\n            New Ship\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  if (ships.length === 0) {\n    return (\n      <div className=\"select-ship-panel\">\n        <p>No saved ships found. Create your first ship design!</p>\n        <div className=\"panel-actions\">\n          <button onClick={onNewShip} className=\"new-ship-button\">\n            New Ship\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"select-ship-panel\">\n      <div className=\"ship-selection\">\n        <label htmlFor=\"ship-select\">Select a ship to load:</label>\n        <select\n          id=\"ship-select\"\n          value={selectedShipId || ''}\n          onChange={(e) => setSelectedShipId(e.target.value ? Number(e.target.value) : null)}\n          className=\"ship-dropdown\"\n        >\n          <option value=\"\">-- Select a ship --</option>\n          {ships.map((ship) => (\n            <option key={ship.id} value={ship.id}>\n              {ship.ship.name} ({ship.ship.tonnage} tons, TL{ship.ship.tech_level})\n            </option>\n          ))}\n        </select>\n      </div>\n\n      {selectedShipId && (\n        <div className=\"ship-preview\">\n          <h3>Ship Details</h3>\n          {(() => {\n            const selectedShip = ships.find(s => s.id === selectedShipId);\n            if (!selectedShip) return null;\n            \n            return (\n              <div className=\"ship-details\">\n                <p><strong>Name:</strong> {selectedShip.ship.name}</p>\n                <p><strong>Tech Level:</strong> {selectedShip.ship.tech_level}</p>\n                <p><strong>Tonnage:</strong> {selectedShip.ship.tonnage}</p>\n                <p><strong>Configuration:</strong> {selectedShip.ship.configuration}</p>\n                <p><strong>Created:</strong> {selectedShip.createdAt.toLocaleDateString()}</p>\n                <p><strong>Last Modified:</strong> {selectedShip.updatedAt.toLocaleDateString()}</p>\n                {selectedShip.ship.description && (\n                  <p><strong>Description:</strong> {selectedShip.ship.description}</p>\n                )}\n              </div>\n            );\n          })()}\n        </div>\n      )}\n\n      <div className=\"panel-actions\">\n        <button \n          onClick={handleLoadSelectedShip} \n          disabled={!selectedShipId}\n          className=\"load-ship-button\"\n        >\n          Load Selected Ship\n        </button>\n        \n        <button onClick={onNewShip} className=\"new-ship-button\">\n          New Ship\n        </button>\n      </div>\n    </div>\n  );\n}","import React, { useState } from 'react';\nimport type { MassCalculation, CostCalculation, ShipDesign } from '../types/ship';\nimport { calculateTotalFuelMass } from '../data/constants';\n\ninterface MassSidebarProps {\n  mass: MassCalculation;\n  cost: CostCalculation;\n  shipDesign: ShipDesign;\n  activeRules: Set<string>;\n}\n\nconst MassSidebar: React.FC<MassSidebarProps> = ({ mass, cost, shipDesign, activeRules }) => {\n  const [expandedSections, setExpandedSections] = useState<Set<string>>(new Set());\n\n  const toggleSection = (sectionName: string) => {\n    const newExpanded = new Set(expandedSections);\n    if (newExpanded.has(sectionName)) {\n      newExpanded.delete(sectionName);\n    } else {\n      newExpanded.add(sectionName);\n    }\n    setExpandedSections(newExpanded);\n  };\n\n  // Calculate masses for each category\n  const enginesMass = shipDesign.engines.reduce((sum, engine) => sum + engine.mass, 0);\n  const fittingsMass = shipDesign.fittings.reduce((sum, fitting) => sum + fitting.mass, 0);\n  const weaponsMass = shipDesign.weapons.reduce((sum, weapon) => sum + (weapon.mass * weapon.quantity), 0);\n  const defensesMass = shipDesign.defenses.reduce((sum, defense) => sum + (defense.mass * defense.quantity), 0);\n  const facilitiesMass = shipDesign.facilities.reduce((sum, facility) => sum + (facility.mass * facility.quantity), 0);\n  const cargoMass = shipDesign.cargo.reduce((sum, cargo) => sum + cargo.tonnage, 0);\n  const vehiclesMass = shipDesign.vehicles.reduce((sum, vehicle) => sum + (vehicle.mass * vehicle.quantity), 0);\n  const dronesMass = shipDesign.drones.reduce((sum, drone) => sum + (drone.mass * drone.quantity), 0);\n  const berthsMass = shipDesign.berths.reduce((sum, berth) => sum + (berth.mass * berth.quantity), 0);\n\n  // Calculate fuel mass\n  const jumpDrive = shipDesign.engines.find(e => e.engine_type === 'jump_drive');\n  const maneuverDrive = shipDesign.engines.find(e => e.engine_type === 'maneuver_drive');\n  const jumpPerformance = jumpDrive?.performance || 0;\n  const maneuverPerformance = maneuverDrive?.performance || 0;\n  const useAntimatter = activeRules.has('antimatter');\n  const fuelMass = calculateTotalFuelMass(shipDesign.ship.tonnage, jumpPerformance, maneuverPerformance, shipDesign.ship.fuel_weeks, useAntimatter);\n\n  // Calculate reload masses\n  const missileReloadMass = shipDesign.ship.missile_reloads;\n  const sandReloadMass = shipDesign.ship.sand_reloads;\n\n  // Categories with their masses and visibility logic\n  const categories = [\n    {\n      name: 'Engines',\n      mass: enginesMass,\n      alwaysVisible: true,\n      items: shipDesign.engines.map(engine => ({\n        name: `${engine.drive_code} ${engine.engine_type.replace('_', ' ')}`,\n        mass: engine.mass\n      }))\n    },\n    {\n      name: 'Fittings',\n      mass: fittingsMass,\n      alwaysVisible: true,\n      items: shipDesign.fittings.map(fitting => ({\n        name: fitting.fitting_type.replace('_', ' '),\n        mass: fitting.mass\n      }))\n    },\n    {\n      name: 'Weapons',\n      mass: weaponsMass,\n      alwaysVisible: false,\n      items: shipDesign.weapons.filter(w => w.quantity > 0).map(weapon => ({\n        name: `${weapon.weapon_name} (${weapon.quantity})`,\n        mass: weapon.mass * weapon.quantity\n      }))\n    },\n    {\n      name: 'Defenses',\n      mass: defensesMass,\n      alwaysVisible: false,\n      items: shipDesign.defenses.filter(d => d.quantity > 0).map(defense => ({\n        name: `${defense.defense_type.replace('_', ' ')} (${defense.quantity})`,\n        mass: defense.mass * defense.quantity\n      }))\n    },\n    {\n      name: 'Rec/Health',\n      mass: facilitiesMass,\n      alwaysVisible: false,\n      items: shipDesign.facilities.filter(f => f.quantity > 0).map(facility => ({\n        name: `${facility.facility_type.replace('_', ' ')} (${facility.quantity})`,\n        mass: facility.mass * facility.quantity\n      }))\n    },\n    {\n      name: 'Cargo',\n      mass: cargoMass,\n      alwaysVisible: false,\n      items: shipDesign.cargo.map(cargo => ({\n        name: cargo.cargo_type.replace('_', ' '),\n        mass: cargo.tonnage\n      }))\n    },\n    {\n      name: 'Vehicles',\n      mass: vehiclesMass,\n      alwaysVisible: false,\n      items: shipDesign.vehicles.filter(v => v.quantity > 0).map(vehicle => ({\n        name: `${vehicle.vehicle_type.replace('_', ' ')} (${vehicle.quantity})`,\n        mass: vehicle.mass * vehicle.quantity\n      }))\n    },\n    {\n      name: 'Drones',\n      mass: dronesMass,\n      alwaysVisible: false,\n      items: shipDesign.drones.filter(d => d.quantity > 0).map(drone => ({\n        name: `${drone.drone_type.replace('_', ' ')} (${drone.quantity})`,\n        mass: drone.mass * drone.quantity\n      }))\n    },\n    {\n      name: 'Berths',\n      mass: berthsMass,\n      alwaysVisible: true,\n      items: shipDesign.berths.filter(b => b.quantity > 0).map(berth => ({\n        name: `${berth.berth_type.replace('_', ' ')} (${berth.quantity})`,\n        mass: berth.mass * berth.quantity\n      }))\n    }\n  ];\n\n  // Add fuel and reload categories if they have mass\n  if (fuelMass > 0) {\n    categories.push({\n      name: 'Fuel',\n      mass: fuelMass,\n      alwaysVisible: false,\n      items: [\n        {\n          name: `Jump & Maneuver Fuel${useAntimatter ? ' (Antimatter)' : ''} (${shipDesign.ship.fuel_weeks} weeks)`,\n          mass: fuelMass\n        }\n      ]\n    });\n  }\n\n  if (missileReloadMass > 0) {\n    categories.push({\n      name: 'Missile Reloads',\n      mass: missileReloadMass,\n      alwaysVisible: false,\n      items: [\n        {\n          name: 'Missile Reloads',\n          mass: missileReloadMass\n        }\n      ]\n    });\n  }\n\n  if (sandReloadMass > 0) {\n    categories.push({\n      name: 'Sand Reloads',\n      mass: sandReloadMass,\n      alwaysVisible: false,\n      items: [\n        {\n          name: 'Sand Reloads',\n          mass: sandReloadMass\n        }\n      ]\n    });\n  }\n\n  return (\n    <aside className=\"mass-sidebar\">\n      <div className=\"mass-tracker\">\n        <h3>Mass Tracker</h3>\n        \n        {/* Category breakdowns */}\n        {categories.map(category => {\n          const shouldShow = category.alwaysVisible || category.mass > 0;\n          if (!shouldShow) return null;\n          \n          const isExpanded = expandedSections.has(category.name);\n          \n          return (\n            <div key={category.name} className=\"mass-category\">\n              <div \n                className=\"mass-category-header\"\n                onClick={() => toggleSection(category.name)}\n                style={{ cursor: 'pointer', display: 'flex', alignItems: 'center', gap: '5px' }}\n              >\n                <span style={{ transform: isExpanded ? 'rotate(90deg)' : 'rotate(0deg)', transition: 'transform 0.2s' }}>\n                  \n                </span>\n                <span>{category.name}:</span>\n                <span>{category.mass.toFixed(1)} tons</span>\n              </div>\n              \n              {isExpanded && category.items.length > 0 && (\n                <div className=\"mass-category-details\" style={{ marginLeft: '20px', fontSize: '0.9em' }}>\n                  {category.items.map((item, index) => (\n                    <div key={index} className=\"mass-item-detail\">\n                      <span>{item.name}:</span>\n                      <span>{item.mass.toFixed(1)} tons</span>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          );\n        })}\n\n        {/* Total section */}\n        <div className=\"mass-totals\" style={{ borderTop: '1px solid #ccc', paddingTop: '10px', marginTop: '10px' }}>\n          <div className=\"mass-item\">\n            <span>Total:</span>\n            <span>{mass.total.toFixed(1)} tons</span>\n          </div>\n          <div className=\"mass-item\">\n            <span>Used:</span>\n            <span>{mass.used.toFixed(1)} tons</span>\n          </div>\n          <div className={`mass-item ${mass.isOverweight ? 'overweight' : ''}`}>\n            <span>Remaining:</span>\n            <span>{mass.remaining.toFixed(1)} tons</span>\n          </div>\n        </div>\n        \n        {mass.isOverweight && (\n          <div className=\"warning\">\n             Ship is overweight! Remove components.\n          </div>\n        )}\n      </div>\n\n      <div className=\"cost-tracker\">\n        <h3>Cost Tracker</h3>\n        <div className=\"cost-item\">\n          <span>Total Cost:</span>\n          <span>{Math.round(cost.total)} MCr</span>\n        </div>\n      </div>\n    </aside>\n  );\n};\n\nexport default MassSidebar;","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!./FileMenu.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!./FileMenu.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, { useState, useRef, useEffect } from 'react';\nimport type { ShipDesign, MassCalculation, CostCalculation, StaffRequirements } from '../types/ship';\nimport { databaseService } from '../services/database';\nimport './FileMenu.css';\n\ninterface FileMenuProps {\n  shipDesign: ShipDesign;\n  mass?: MassCalculation;\n  cost?: CostCalculation;\n  staff?: StaffRequirements;\n  combinePilotNavigator?: boolean;\n  noStewards?: boolean;\n  onPrint: () => void;\n  onSave?: () => void;\n  onSaveAs?: (newName: string) => void;\n}\n\nconst FileMenu: React.FC<FileMenuProps> = ({\n  shipDesign,\n  onPrint,\n  onSave,\n  onSaveAs\n}) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [showSaveAsDialog, setShowSaveAsDialog] = useState(false);\n  const [saveAsName, setSaveAsName] = useState('');\n  const [saving, setSaving] = useState(false);\n  const [saveMessage, setSaveMessage] = useState<string | null>(null);\n  const menuRef = useRef<HTMLDivElement>(null);\n\n  // Handle Save functionality\n  const handleSave = async () => {\n    if (onSave) {\n      onSave();\n    } else {\n      // Fallback implementation\n      if (!shipDesign.ship.name.trim()) {\n        setSaveMessage('Please enter a ship name before saving.');\n        setTimeout(() => setSaveMessage(null), 3000);\n        return;\n      }\n\n      try {\n        setSaving(true);\n        setSaveMessage(null);\n        await databaseService.initialize();\n        await databaseService.saveShip(shipDesign);\n        setSaveMessage('Ship design saved successfully!');\n        setTimeout(() => setSaveMessage(null), 3000);\n      } catch (error) {\n        console.error('Error saving ship:', error);\n        const errorMessage = error instanceof Error ? error.message : 'Failed to save ship design. Please try again.';\n        setSaveMessage(errorMessage);\n        setTimeout(() => setSaveMessage(null), 5000);\n      } finally {\n        setSaving(false);\n      }\n    }\n    setIsOpen(false);\n  };\n\n  // Handle Save As functionality\n  const handleSaveAs = () => {\n    setSaveAsName(shipDesign.ship.name);\n    setShowSaveAsDialog(true);\n    setIsOpen(false);\n  };\n\n  const handleSaveAsConfirm = async () => {\n    if (!saveAsName.trim()) {\n      setSaveMessage('Please enter a ship name.');\n      setTimeout(() => setSaveMessage(null), 3000);\n      return;\n    }\n\n    if (onSaveAs) {\n      onSaveAs(saveAsName);\n    } else {\n      // Fallback implementation\n      try {\n        setSaving(true);\n        setSaveMessage(null);\n        const modifiedShipDesign = {\n          ...shipDesign,\n          ship: { ...shipDesign.ship, name: saveAsName }\n        };\n        await databaseService.initialize();\n        await databaseService.saveShip(modifiedShipDesign);\n        setSaveMessage('Ship design saved successfully!');\n        setTimeout(() => setSaveMessage(null), 3000);\n      } catch (error) {\n        console.error('Error saving ship:', error);\n        const errorMessage = error instanceof Error ? error.message : 'Failed to save ship design. Please try again.';\n        setSaveMessage(errorMessage);\n        setTimeout(() => setSaveMessage(null), 5000);\n      } finally {\n        setSaving(false);\n      }\n    }\n    setShowSaveAsDialog(false);\n    setSaveAsName('');\n  };\n\n  // Handle Print functionality\n  const handlePrint = () => {\n    onPrint();\n    setIsOpen(false);\n  };\n\n  // Close menu when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (menuRef.current && !menuRef.current.contains(event.target as Node)) {\n        setIsOpen(false);\n      }\n    };\n\n    if (isOpen) {\n      document.addEventListener('mousedown', handleClickOutside);\n    }\n\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [isOpen]);\n\n  // Close menu on escape key\n  useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (event.key === 'Escape' && isOpen) {\n        setIsOpen(false);\n      }\n    };\n\n    document.addEventListener('keydown', handleKeyDown);\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [isOpen]);\n\n  return (\n    <>\n      <div className=\"file-menu\" ref={menuRef}>\n        <button \n          className=\"file-menu-button\"\n          onClick={() => setIsOpen(!isOpen)}\n          aria-haspopup=\"true\"\n          aria-expanded={isOpen}\n        >\n          File\n        </button>\n        \n        {isOpen && (\n          <div className=\"file-menu-dropdown\">\n            <button \n              className=\"file-menu-item\" \n              onClick={handleSave}\n              disabled={saving}\n            >\n              <span className=\"menu-item-text\">Save</span>\n              <span className=\"menu-item-shortcut\">Ctrl+S</span>\n            </button>\n            <button \n              className=\"file-menu-item\" \n              onClick={handleSaveAs}\n              disabled={saving}\n            >\n              <span className=\"menu-item-text\">Save As...</span>\n              <span className=\"menu-item-shortcut\">Ctrl+Shift+S</span>\n            </button>\n            <div className=\"file-menu-separator\"></div>\n            <button \n              className=\"file-menu-item\" \n              onClick={handlePrint}\n            >\n              <span className=\"menu-item-text\">Print</span>\n              <span className=\"menu-item-shortcut\">Ctrl+P</span>\n            </button>\n          </div>\n        )}\n      </div>\n\n      {/* Save As Dialog */}\n      {showSaveAsDialog && (\n        <div className=\"file-menu-dialog-overlay\">\n          <div className=\"file-menu-dialog\">\n            <h3>Save Ship As</h3>\n            <div className=\"form-group\">\n              <label htmlFor=\"saveAsName\">Ship Name:</label>\n              <input\n                id=\"saveAsName\"\n                type=\"text\"\n                value={saveAsName}\n                onChange={(e) => setSaveAsName(e.target.value)}\n                placeholder=\"Enter ship name\"\n                maxLength={32}\n                autoFocus\n              />\n            </div>\n            <div className=\"file-menu-dialog-actions\">\n              <button \n                className=\"save-btn\"\n                onClick={handleSaveAsConfirm}\n                disabled={saving || !saveAsName.trim()}\n              >\n                {saving ? 'Saving...' : 'Save'}\n              </button>\n              <button \n                className=\"cancel-btn\"\n                onClick={() => {\n                  setShowSaveAsDialog(false);\n                  setSaveAsName('');\n                }}\n                disabled={saving}\n              >\n                Cancel\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Save Message */}\n      {saveMessage && (\n        <div className={`file-menu-message ${saveMessage.includes('successfully') ? 'success' : 'error'}`}>\n          {saveMessage}\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default FileMenu;","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!./RulesMenu.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!./RulesMenu.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, { useState, useRef, useEffect } from 'react';\nimport { isTechLevelAtLeast } from '../data/constants';\nimport type { ShipDesign } from '../types/ship';\nimport './RulesMenu.css';\n\ninterface RuleItem {\n  id: string;\n  name: string;\n  enabled: boolean;\n  disabled: boolean;\n}\n\ninterface RulesMenuProps {\n  shipDesign: ShipDesign;\n  onRuleChange?: (ruleId: string, enabled: boolean) => void;\n}\n\nconst RulesMenu: React.FC<RulesMenuProps> = ({ shipDesign, onRuleChange }) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const menuRef = useRef<HTMLDivElement>(null);\n  \n  // Calculate tech level restrictions dynamically\n  const currentTechLevel = shipDesign.ship.tech_level;\n  const canUseAntimatter = isTechLevelAtLeast(currentTechLevel, 'H');\n  const canUseLongerJumps = isTechLevelAtLeast(currentTechLevel, 'G');\n  \n  const [rules, setRules] = useState<RuleItem[]>([\n    {\n      id: 'spacecraft_design_srd',\n      name: 'Spacecraft Design SRD',\n      enabled: true,\n      disabled: false\n    },\n    {\n      id: 'high_guard_capital_ships',\n      name: 'High Guard Capital Ship Design SRD',\n      enabled: false,\n      disabled: true // greyed out and can't be selected\n    },\n    {\n      id: 'antimatter',\n      name: 'Antimatter',\n      enabled: false,\n      disabled: !canUseAntimatter\n    },\n    {\n      id: 'longer_jumps',\n      name: 'Longer Jumps',\n      enabled: false,\n      disabled: !canUseLongerJumps\n    }\n  ]);\n  \n  // Update rules when tech level changes\n  useEffect(() => {\n    setRules(prevRules => prevRules.map(rule => {\n      if (rule.id === 'antimatter') {\n        return { \n          ...rule, \n          disabled: !canUseAntimatter,\n          enabled: rule.enabled && canUseAntimatter // Turn off if no longer available\n        };\n      } else if (rule.id === 'longer_jumps') {\n        return { \n          ...rule, \n          disabled: !canUseLongerJumps,\n          enabled: rule.enabled && canUseLongerJumps // Turn off if no longer available\n        };\n      }\n      return rule;\n    }));\n  }, [canUseAntimatter, canUseLongerJumps]);\n\n  const toggleRule = (ruleId: string) => {\n    const rule = rules.find(r => r.id === ruleId);\n    if (!rule || rule.disabled) return;\n\n    // Don't allow disabling the Spacecraft Design SRD (it's always selected)\n    if (ruleId === 'spacecraft_design_srd') return;\n\n    setRules(prevRules => \n      prevRules.map(r => \n        r.id === ruleId \n          ? { ...r, enabled: !r.enabled }\n          : r\n      )\n    );\n\n    if (onRuleChange) {\n      onRuleChange(ruleId, !rule.enabled);\n    }\n  };\n\n  const getStatusIcon = (rule: RuleItem) => {\n    if (rule.disabled) {\n      // Show special indicators for tech-level restricted rules\n      if (rule.id === 'antimatter' && !canUseAntimatter) {\n        return <span className=\"rule-status disabled\" title={`Requires Tech Level H (current: ${currentTechLevel})`}></span>;\n      } else if (rule.id === 'longer_jumps' && !canUseLongerJumps) {\n        return <span className=\"rule-status disabled\" title={`Requires Tech Level G+ (current: ${currentTechLevel})`}></span>;\n      }\n      return <span className=\"rule-status disabled\"></span>;\n    }\n    return rule.enabled \n      ? <span className=\"rule-status enabled\"></span>\n      : <span className=\"rule-status disabled\"></span>;\n  };\n\n  // Close menu when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (menuRef.current && !menuRef.current.contains(event.target as Node)) {\n        setIsOpen(false);\n      }\n    };\n\n    if (isOpen) {\n      document.addEventListener('mousedown', handleClickOutside);\n    }\n\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [isOpen]);\n\n  // Close menu on escape key\n  useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (event.key === 'Escape' && isOpen) {\n        setIsOpen(false);\n      }\n    };\n\n    document.addEventListener('keydown', handleKeyDown);\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [isOpen]);\n\n  return (\n    <div className=\"rules-menu\" ref={menuRef}>\n      <button \n        className=\"rules-menu-button\"\n        onClick={() => setIsOpen(!isOpen)}\n        aria-haspopup=\"true\"\n        aria-expanded={isOpen}\n      >\n        Rules\n      </button>\n      \n      {isOpen && (\n        <div className=\"rules-menu-dropdown\">\n          {rules.map(rule => (\n            <button \n              key={rule.id}\n              className={`rules-menu-item ${rule.disabled ? 'disabled' : ''} ${rule.enabled ? 'enabled' : ''}`}\n              onClick={() => toggleRule(rule.id)}\n              disabled={rule.disabled}\n            >\n              <span className=\"menu-item-text\">{rule.name}</span>\n              {getStatusIcon(rule)}\n            </button>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default RulesMenu;","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/css-loader/dist/cjs.js!./App.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/css-loader/dist/cjs.js!./App.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { useState, useEffect, useCallback, lazy, Suspense } from 'react';\nimport type { ShipDesign, MassCalculation, CostCalculation, StaffRequirements } from './types/ship';\nimport { calculateTotalFuelMass, calculateVehicleServiceStaff, calculateDroneServiceStaff, calculateMedicalStaff, WEAPON_TYPES, BAY_WEAPON_TYPES, getTonnageCode, getAvailableSpinalWeapons, getNumberOfSections, getMinimumComputer, COMPUTER_TYPES } from './data/constants';\nimport { databaseService } from './services/database';\n// Eagerly load only the ship selection panel (first screen)\nimport SelectShipPanel from './components/SelectShipPanel';\n// Lazy load all design panels to reduce initial bundle size\nconst ShipPanel = lazy(() => import('./components/ShipPanel'));\nconst EnginesPanel = lazy(() => import('./components/EnginesPanel'));\nconst FittingsPanel = lazy(() => import('./components/FittingsPanel'));\nconst WeaponsPanel = lazy(() => import('./components/WeaponsPanel'));\nconst DefensesPanel = lazy(() => import('./components/DefensesPanel'));\nconst BerthsPanel = lazy(() => import('./components/BerthsPanel'));\nconst FacilitiesPanel = lazy(() => import('./components/FacilitiesPanel'));\nconst CargoPanel = lazy(() => import('./components/CargoPanel'));\nconst VehiclesPanel = lazy(() => import('./components/VehiclesPanel'));\nconst DronesPanel = lazy(() => import('./components/DronesPanel'));\nconst StaffPanel = lazy(() => import('./components/StaffPanel'));\nconst SummaryPanel = lazy(() => import('./components/SummaryPanel'));\n// Keep UI components eagerly loaded as they're small and always visible\nimport MassSidebar from './components/MassSidebar';\nimport FileMenu from './components/FileMenu';\nimport RulesMenu from './components/RulesMenu';\nimport './App.css';\n\nfunction App() {\n  const [showSelectShip, setShowSelectShip] = useState(true);\n  const [currentPanel, setCurrentPanel] = useState(0);\n  const [combinePilotNavigator, setCombinePilotNavigator] = useState(false);\n  const [noStewards, setNoStewards] = useState(false);\n  const [activeRules, setActiveRules] = useState<Set<string>>(new Set(['spacecraft_design_srd']));\n  const [shipDesign, setShipDesign] = useState<ShipDesign>({\n    ship: { name: '', tech_level: 'A', tonnage: 5000, configuration: 'standard', fuel_weeks: 2, missile_reloads: 0, sand_reloads: 0, sections: 2, description: '' },\n    engines: [],\n    fittings: [\n      {\n        fitting_type: 'comms_sensors',\n        comms_sensors_type: 'standard',\n        mass: 0,\n        cost: 0\n      }\n    ],\n    weapons: [],\n    defenses: [],\n    berths: [],\n    facilities: [],\n    cargo: [],\n    vehicles: [],\n    drones: []\n  });\n\n  const panels = [\n    'Ship', 'Engines', 'Fittings', 'Weapons', 'Defenses', \n    'Rec/Health', 'Cargo', 'Vehicles', 'Drones', 'Berths',\n    'Staff', 'Ship Design'\n  ];\n\n  useEffect(() => {\n    checkExistingShips();\n  }, []);\n\n  const checkExistingShips = async () => {\n    try {\n      await databaseService.initialize();\n      const hasShips = await databaseService.hasAnyShips();\n      console.log('App.tsx initial database check - has ships:', hasShips);\n      \n      // Always show SelectShipPanel - it will handle loading initial data if needed\n      setShowSelectShip(true);\n    } catch (error) {\n      console.error('Error checking existing ships:', error);\n      // If there's an error, still show SelectShipPanel and let it handle the loading\n      setShowSelectShip(true);\n    }\n  };\n\n  const handleFileSave = useCallback(async () => {\n    if (!shipDesign.ship.name.trim()) {\n      alert('Please enter a ship name before saving.');\n      return;\n    }\n\n    try {\n      await databaseService.initialize();\n      await databaseService.saveShip(shipDesign);\n      // Could add a toast notification here\n    } catch (error) {\n      console.error('Error saving ship:', error);\n      alert(error instanceof Error ? error.message : 'Failed to save ship design. Please try again.');\n    }\n  }, [shipDesign]);\n\n  const handleFileSaveWithName = useCallback(async (newName: string) => {\n    try {\n      const modifiedShipDesign = {\n        ...shipDesign,\n        ship: { ...shipDesign.ship, name: newName }\n      };\n      await databaseService.initialize();\n      await databaseService.saveShip(modifiedShipDesign);\n      setShipDesign(modifiedShipDesign);\n      // Could add a toast notification here\n    } catch (error) {\n      console.error('Error saving ship:', error);\n      alert(error instanceof Error ? error.message : 'Failed to save ship design. Please try again.');\n    }\n  }, [shipDesign]);\n\n  const handleFileSaveAs = useCallback(() => {\n    const newName = prompt('Enter new ship name:', shipDesign.ship.name);\n    if (newName && newName.trim() !== '') {\n      handleFileSaveWithName(newName.trim());\n    }\n  }, [shipDesign.ship.name, handleFileSaveWithName]);\n\n  const handleFilePrint = useCallback(() => {\n    const printWindow = window.open('', '_blank');\n    if (!printWindow) return;\n\n    const mass = calculateMass();\n    const cost = calculateCost();\n    const staff = calculateStaffRequirements();\n    const tonnageCode = getTonnageCode(shipDesign.ship.tonnage);\n    const sections = getNumberOfSections(shipDesign.ship.tonnage);\n    const hullInfo = tonnageCode && sections ? ` (hull code ${tonnageCode}, ${sections} sections)` : tonnageCode ? ` (${tonnageCode})` : '';\n    const shipTitle = `${shipDesign.ship.name}, ${shipDesign.ship.configuration} configuration, ${shipDesign.ship.tonnage.toLocaleString()} tons${hullInfo}, Tech Level ${shipDesign.ship.tech_level}`;\n    \n    // Generate print content using similar logic to SummaryPanel\n    const printContent = generatePrintContent(shipTitle, mass, cost, staff);\n    \n    printWindow.document.write(printContent);\n    printWindow.document.close();\n    printWindow.focus();\n    printWindow.print();\n    printWindow.close();\n  }, [shipDesign]);\n\n  const generatePrintContent = (shipTitle: string, mass: MassCalculation, cost: CostCalculation, staff: StaffRequirements): string => {\n    // Simplified print content generation - would need full implementation\n    return `\n      <!DOCTYPE html>\n      <html>\n        <head>\n          <title>Ship Design - ${shipDesign.ship.name}</title>\n          <style>\n            body { font-family: Arial, sans-serif; margin: 20px; }\n            .ship-title { font-size: 18px; font-weight: bold; margin-bottom: 20px; }\n            table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }\n            th, td { padding: 8px 12px; border: 1px solid #ccc; text-align: left; }\n            th { background-color: #f0f0f0; font-weight: bold; }\n            .category-cell { font-weight: bold; }\n            .totals-row { border-top: 2px solid #000; font-weight: bold; }\n            .totals-row td { background-color: #f8f8f8; }\n            @media print {\n              body { margin: 0; }\n              .ship-title { page-break-after: avoid; }\n              table { page-break-inside: avoid; }\n            }\n          </style>\n        </head>\n        <body>\n          <div class=\"ship-title\">${shipTitle}</div>\n          <p>Print functionality available from File menu on all screens.</p>\n          <p>Mass: ${mass.used.toFixed(1)} / ${mass.total} tons</p>\n          <p>Cost: ${cost.total.toFixed(2)} MCr</p>\n          <p>Total Crew: ${staff.total}</p>\n        </body>\n      </html>\n    `;\n  };\n\n  // Global keyboard shortcuts for file operations\n  useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      // Only handle shortcuts when not in ship select mode and when not focused on an input\n      if (showSelectShip || (event.target as HTMLElement)?.tagName === 'INPUT' || (event.target as HTMLElement)?.tagName === 'TEXTAREA') {\n        return;\n      }\n\n      if (event.ctrlKey && !event.shiftKey && event.key === 's') {\n        event.preventDefault();\n        handleFileSave();\n      } else if (event.ctrlKey && event.shiftKey && event.key === 'S') {\n        event.preventDefault();\n        handleFileSaveAs();\n      } else if (event.ctrlKey && event.key === 'p') {\n        event.preventDefault();\n        handleFilePrint();\n      }\n    };\n\n    document.addEventListener('keydown', handleKeyDown);\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [showSelectShip, handleFileSave, handleFileSaveAs, handleFilePrint]);\n\n  const handleRuleChange = useCallback((ruleId: string, enabled: boolean) => {\n    setActiveRules(prevRules => {\n      const newRules = new Set(prevRules);\n      if (enabled) {\n        newRules.add(ruleId);\n      } else {\n        newRules.delete(ruleId);\n      }\n      console.log('Active rules:', Array.from(newRules));\n      return newRules;\n    });\n  }, []);\n\n  // For development - log active rules when they change\n  useEffect(() => {\n    console.log('Current active rules:', Array.from(activeRules));\n  }, [activeRules]);\n\n  const calculateMass = (): MassCalculation => {\n    let used = 0;\n    \n    // Add engine masses\n    used += shipDesign.engines.reduce((sum, engine) => sum + engine.mass, 0);\n    \n    // Add fitting masses\n    used += shipDesign.fittings.reduce((sum, fitting) => sum + fitting.mass, 0);\n    \n    // Add weapon masses\n    used += shipDesign.weapons.reduce((sum, weapon) => sum + (weapon.mass * weapon.quantity), 0);\n    \n    // Add defense masses (mass is already multiplied by quantity in the defense object)\n    used += shipDesign.defenses.reduce((sum, defense) => sum + defense.mass, 0);\n    \n    // Add berth masses\n    used += shipDesign.berths.reduce((sum, berth) => sum + (berth.mass * berth.quantity), 0);\n    \n    // Add facility masses\n    used += shipDesign.facilities.reduce((sum, facility) => sum + (facility.mass * facility.quantity), 0);\n    \n    // Add cargo masses\n    used += shipDesign.cargo.reduce((sum, cargo) => sum + cargo.tonnage, 0);\n    \n    // Add vehicle masses\n    used += shipDesign.vehicles.reduce((sum, vehicle) => sum + (vehicle.mass * vehicle.quantity), 0);\n    \n    // Add drone masses\n    used += shipDesign.drones.reduce((sum, drone) => sum + (drone.mass * drone.quantity), 0);\n\n    // Add fuel tank mass\n    const jumpDrive = shipDesign.engines.find(e => e.engine_type === 'jump_drive');\n    const maneuverDrive = shipDesign.engines.find(e => e.engine_type === 'maneuver_drive');\n    const jumpPerformance = jumpDrive?.performance || 0;\n    const maneuverPerformance = maneuverDrive?.performance || 0;\n    const useAntimatter = activeRules.has('antimatter');\n    const fuelMass = calculateTotalFuelMass(shipDesign.ship.tonnage, jumpPerformance, maneuverPerformance, shipDesign.ship.fuel_weeks, useAntimatter);\n    used += fuelMass;\n\n    // Add missile reload mass\n    used += shipDesign.ship.missile_reloads;\n\n    // Add sand reload mass\n    used += shipDesign.ship.sand_reloads;\n\n    // Add armor mass\n    if (shipDesign.ship.armor_percentage) {\n      const armorMass = (shipDesign.ship.tonnage * shipDesign.ship.armor_percentage) / 100;\n      used += armorMass;\n    }\n\n    // Add spinal weapon mass (with TL adjustments)\n    if (shipDesign.ship.spinal_weapon) {\n      const powerPlant = shipDesign.engines.find(e => e.engine_type === 'power_plant');\n      const powerPlantPerformance = powerPlant?.performance || 0;\n      const availableSpinalWeapons = getAvailableSpinalWeapons(shipDesign.ship.tech_level, powerPlantPerformance);\n      const spinalWeaponData = availableSpinalWeapons.find(w => w.name === shipDesign.ship.spinal_weapon);\n      if (spinalWeaponData) {\n        used += spinalWeaponData.mass;\n      }\n    }\n\n    const total = shipDesign.ship.tonnage;\n    const remaining = total - used;\n    \n    return {\n      total,\n      used,\n      remaining,\n      isOverweight: remaining < 0\n    };\n  };\n\n  const calculateCost = (): CostCalculation => {\n    let total = 0;\n    \n    // Add engine costs\n    total += shipDesign.engines.reduce((sum, engine) => sum + engine.cost, 0);\n    \n    // Add fitting costs\n    total += shipDesign.fittings.reduce((sum, fitting) => sum + fitting.cost, 0);\n    \n    // Add weapon costs\n    total += shipDesign.weapons.reduce((sum, weapon) => sum + (weapon.cost * weapon.quantity), 0);\n    \n    // Add defense costs (cost is already multiplied by quantity in the defense object)\n    total += shipDesign.defenses.reduce((sum, defense) => sum + defense.cost, 0);\n    \n    // Add berth costs\n    total += shipDesign.berths.reduce((sum, berth) => sum + (berth.cost * berth.quantity), 0);\n    \n    // Add facility costs\n    total += shipDesign.facilities.reduce((sum, facility) => sum + (facility.cost * facility.quantity), 0);\n    \n    // Add cargo costs\n    total += shipDesign.cargo.reduce((sum, cargo) => sum + cargo.cost, 0);\n    \n    // Add vehicle costs\n    total += shipDesign.vehicles.reduce((sum, vehicle) => sum + (vehicle.cost * vehicle.quantity), 0);\n    \n    // Add drone costs\n    total += shipDesign.drones.reduce((sum, drone) => sum + (drone.cost * drone.quantity), 0);\n\n    // Add missile reload costs (1 MCr per ton)\n    total += shipDesign.ship.missile_reloads;\n\n    // Add sand reload costs (0.1 MCr per ton)\n    total += shipDesign.ship.sand_reloads * 0.1;\n\n    // Add armor costs (0.1 MCr per ton)\n    if (shipDesign.ship.armor_percentage) {\n      const armorMass = (shipDesign.ship.tonnage * shipDesign.ship.armor_percentage) / 100;\n      total += armorMass * 0.1;\n    }\n\n    // Add spinal weapon cost (with TL adjustments)\n    if (shipDesign.ship.spinal_weapon) {\n      const powerPlant = shipDesign.engines.find(e => e.engine_type === 'power_plant');\n      const powerPlantPerformance = powerPlant?.performance || 0;\n      const availableSpinalWeapons = getAvailableSpinalWeapons(shipDesign.ship.tech_level, powerPlantPerformance);\n      const spinalWeaponData = availableSpinalWeapons.find(w => w.name === shipDesign.ship.spinal_weapon);\n      if (spinalWeaponData) {\n        total += spinalWeaponData.cost;\n      }\n    }\n\n    return { total };\n  };\n\n  const calculateStaffRequirements = (): StaffRequirements => {\n    const pilot = 1;\n    const navigator = 1;\n    \n    // Engineers: Based on ship tonnage and engine mass\n    let engineers = 0;\n    const shipTonnage = shipDesign.ship.tonnage;\n    \n    if (shipTonnage === 100) {\n      engineers = 1;\n    } else if (shipTonnage === 200 || shipTonnage === 300) {\n      engineers = 2;\n    } else if (shipTonnage >= 400) {\n      // At least one engineer per engine\n      const engineCount = shipDesign.engines.length;\n      engineers = Math.max(engineCount, 1);\n      \n      // Additional engineers for engines larger than 100 tons\n      for (const engine of shipDesign.engines) {\n        if (engine.mass > 100) {\n          engineers += Math.ceil(engine.mass / 100) - 1; // -1 because we already counted 1 engineer per engine\n        }\n      }\n    } else {\n      // For other ship sizes, use original logic as fallback\n      const totalEnginesWeight = shipDesign.engines.reduce((sum, engine) => sum + engine.mass, 0);\n      engineers = Math.ceil(totalEnginesWeight / 100);\n    }\n    \n    // Gunners: 1 per 10 instances of same weapon type (turrets/barbettes), +10 for spinal weapon\n    // Calculate gunners for each weapon type (excluding Hard Points and bay weapons)\n    const bayWeaponNames = BAY_WEAPON_TYPES.map(b => b.name);\n    let turretsAndBarbettesGunners = 0;\n    shipDesign.weapons\n      .filter(weapon => weapon.weapon_name !== 'Hard Point' && !bayWeaponNames.includes(weapon.weapon_name))\n      .forEach(weapon => {\n        // 1 gunner per 10 weapons, rounded up\n        turretsAndBarbettesGunners += Math.ceil(weapon.quantity / 10);\n      });\n\n    // Calculate gunners for defense turrets (sandcasters and point defense)\n    let defenseTurretGunners = 0;\n    shipDesign.defenses\n      .filter(defense => !['nuclear_damper', 'meson_screen', 'black_globe'].includes(defense.defense_type))\n      .forEach(defense => {\n        // 1 gunner per 10 defense turrets, rounded up\n        defenseTurretGunners += Math.ceil(defense.quantity / 10);\n      });\n\n    // Calculate gunners for defensive screens\n    // Each screen type: minimum 4 gunners if installed, or tons/100 rounded up if > 400 tons\n    let screenGunners = 0;\n    const screenTypes = ['nuclear_damper', 'meson_screen', 'black_globe'] as const;\n    screenTypes.forEach(screenType => {\n      const screen = shipDesign.defenses.find(d => d.defense_type === screenType);\n      if (screen && screen.quantity > 0) {\n        const totalTons = screen.mass; // mass is already multiplied by quantity in the defense object\n        if (totalTons > 400) {\n          screenGunners += Math.ceil(totalTons / 100);\n        } else {\n          screenGunners += 4; // minimum 4 gunners per screen type\n        }\n      }\n    });\n\n    const spinalWeaponGunners = shipDesign.ship.spinal_weapon ? 10 : 0;\n\n    // Bay weapons: 2 gunners per bay weapon\n    const bayWeapons = shipDesign.weapons.filter(w => bayWeaponNames.includes(w.weapon_name));\n    const bayWeaponGunners = bayWeapons.reduce((sum, weapon) => sum + (weapon.quantity * 2), 0);\n\n    const gunners = turretsAndBarbettesGunners + defenseTurretGunners + screenGunners + spinalWeaponGunners + bayWeaponGunners;\n    \n    // Service staff: for vehicle and drone maintenance\n    const vehicleService = calculateVehicleServiceStaff(shipDesign.vehicles);\n    const droneService = calculateDroneServiceStaff(shipDesign.drones);\n    const service = vehicleService + droneService;\n    \n    // Stewards: 1 per 8 staterooms (staterooms + luxury staterooms), rounded up\n    const totalStaterooms = shipDesign.berths\n      .filter(berth => berth.berth_type === 'staterooms' || berth.berth_type === 'luxury_staterooms')\n      .reduce((sum, berth) => sum + berth.quantity, 0);\n    const stewards = Math.ceil(totalStaterooms / 8);\n    \n    // Medical staff: based on medical facilities\n    const medicalStaff = calculateMedicalStaff(shipDesign.facilities);\n    const nurses = medicalStaff.nurses;\n    const surgeons = medicalStaff.surgeons;\n    const techs = medicalStaff.techs;\n    \n    const total = pilot + navigator + engineers + gunners + service + stewards + nurses + surgeons + techs;\n    \n    return { pilot, navigator, engineers, gunners, service, stewards, nurses, surgeons, techs, total };\n  };\n\n  const calculateAdjustedCrewCount = (staffRequirements: StaffRequirements): number => {\n    const isSmallShip = shipDesign.ship.tonnage === 100 || shipDesign.ship.tonnage === 200;\n    if (!isSmallShip) return staffRequirements.total;\n    \n    return combinePilotNavigator && noStewards\n      ? staffRequirements.total - 1 - staffRequirements.stewards\n      : combinePilotNavigator \n        ? staffRequirements.total - 1 \n        : noStewards \n          ? staffRequirements.total - staffRequirements.stewards\n          : staffRequirements.total;\n  };\n\n  const isCurrentPanelValid = (): boolean => {\n    switch (currentPanel) {\n      case 0: // Ship\n        return shipDesign.ship.name.trim() !== '' && \n               shipDesign.ship.tech_level !== '' && \n               shipDesign.ship.tonnage >= 100;\n      \n      case 1: // Engines\n        return shipDesign.engines.some(e => e.engine_type === 'power_plant' && e.drive_code && e.performance >= 1) &&\n               shipDesign.engines.some(e => e.engine_type === 'jump_drive' && e.drive_code && e.performance >= 1);\n        // Maneuver drive is optional (defaults to M-0)\n      \n      case 2: // Fittings\n        // Check for bridge\n        const hasBridge = shipDesign.fittings.some(f => f.fitting_type === 'bridge' || f.fitting_type === 'half_bridge');\n        if (!hasBridge) return false;\n\n        // Check for minimum computer requirement\n        const jumpDrive = shipDesign.engines.find(e => e.engine_type === 'jump_drive');\n        const jumpPerformance = jumpDrive?.performance || 0;\n        const minimumComputer = getMinimumComputer(shipDesign.ship.tonnage, jumpPerformance);\n\n        if (minimumComputer) {\n          const computer = shipDesign.fittings.find(f => f.fitting_type === 'computer');\n          if (!computer) return false;\n\n          // Check if installed computer meets minimum requirement\n          const installedComputerIndex = COMPUTER_TYPES.findIndex(c => c.model === computer.computer_model);\n          const minimumComputerIndex = COMPUTER_TYPES.findIndex(c => c.name === minimumComputer.name);\n\n          if (installedComputerIndex < minimumComputerIndex) return false;\n        }\n\n        return true;\n      \n      case 5: // Rec/Health\n        return shipDesign.facilities.some(f => f.facility_type === 'commissary');\n      \n      default:\n        return true;\n    }\n  };\n\n  const canAdvance = (): boolean => {\n    if (!isCurrentPanelValid()) return false;\n    if (currentPanel >= 1) { // After ship panel, check mass\n      const mass = calculateMass();\n      if (mass.isOverweight) return false;\n    }\n    return true;\n  };\n\n  const nextPanel = () => {\n    if (canAdvance() && currentPanel < panels.length - 1) {\n      setCurrentPanel(currentPanel + 1);\n    }\n  };\n\n  const prevPanel = () => {\n    if (currentPanel > 0) {\n      setCurrentPanel(currentPanel - 1);\n    }\n  };\n\n  const updateShipDesign = (updates: Partial<ShipDesign>) => {\n    setShipDesign(prev => {\n      const newDesign = { ...prev, ...updates };\n\n      // Automatically update sections when tonnage changes\n      if (updates.ship?.tonnage !== undefined) {\n        const sections = getNumberOfSections(updates.ship.tonnage);\n        newDesign.ship = {\n          ...newDesign.ship,\n          sections: sections ?? undefined\n        };\n      }\n\n      return newDesign;\n    });\n  };\n\n  const handleNewShip = () => {\n    setShowSelectShip(false);\n    setCurrentPanel(0);\n  };\n\n  const handleLoadShip = async (loadedShipDesign: ShipDesign) => {\n    // Clean up non-standard weapons\n    const knownWeaponNames = WEAPON_TYPES.map(wt => wt.name);\n    const standardWeapons = loadedShipDesign.weapons.filter(weapon =>\n      knownWeaponNames.includes(weapon.weapon_name)\n    );\n    \n    // Check if any weapons were removed\n    const removedWeapons = loadedShipDesign.weapons.filter(weapon =>\n      !knownWeaponNames.includes(weapon.weapon_name)\n    );\n    \n    let cleanedShipDesign = loadedShipDesign;\n    \n    if (removedWeapons.length > 0) {\n      // Create cleaned ship design\n      cleanedShipDesign = {\n        ...loadedShipDesign,\n        weapons: standardWeapons\n      };\n      \n      // Save the cleaned ship back to the database\n      try {\n        await databaseService.initialize();\n        await databaseService.saveOrUpdateShipByName(cleanedShipDesign);\n        console.log(`Removed ${removedWeapons.length} non-standard weapons from ship \"${cleanedShipDesign.ship.name}\" and saved to database:`, removedWeapons.map(w => w.weapon_name));\n      } catch (error) {\n        console.error('Error saving cleaned ship design:', error);\n      }\n    }\n    \n    setShipDesign(cleanedShipDesign);\n    setShowSelectShip(false);\n    setCurrentPanel(0);\n  };\n\n  const handleBackToShipSelect = () => {\n    setShowSelectShip(true);\n    setCurrentPanel(0);\n  };\n\n  const renderCurrentPanel = () => {\n    if (showSelectShip) {\n      return <SelectShipPanel onNewShip={handleNewShip} onLoadShip={handleLoadShip} />;\n    }\n\n    const mass = calculateMass();\n    const cost = calculateCost();\n    const staff = calculateStaffRequirements();\n\n    switch (currentPanel) {\n      case 0:\n        return <ShipPanel \n          ship={shipDesign.ship} \n          onUpdate={(ship) => updateShipDesign({ ship })} \n          onLoadExistingShip={(loadedShipDesign) => setShipDesign(loadedShipDesign)}\n        />;\n      case 1:\n        return <EnginesPanel\n          engines={shipDesign.engines}\n          shipTonnage={shipDesign.ship.tonnage}\n          shipTechLevel={shipDesign.ship.tech_level}\n          fuelWeeks={shipDesign.ship.fuel_weeks}\n          activeRules={activeRules}\n          onUpdate={(engines) => updateShipDesign({ engines })}\n          onFuelWeeksUpdate={(fuel_weeks) => updateShipDesign({ ship: { ...shipDesign.ship, fuel_weeks } })}\n        />;\n      case 2:\n        return <FittingsPanel\n          fittings={shipDesign.fittings}\n          shipTonnage={shipDesign.ship.tonnage}\n          shipTechLevel={shipDesign.ship.tech_level}\n          engines={shipDesign.engines}\n          shipSections={shipDesign.ship.sections}\n          onUpdate={(fittings) => updateShipDesign({ fittings })}\n        />;\n      case 3:\n        return <WeaponsPanel\n          weapons={shipDesign.weapons}\n          shipTonnage={shipDesign.ship.tonnage}\n          shipTechLevel={shipDesign.ship.tech_level}\n          engines={shipDesign.engines}\n          spinalWeapon={shipDesign.ship.spinal_weapon}\n          missileReloads={shipDesign.ship.missile_reloads}\n          remainingMass={mass.remaining + shipDesign.ship.missile_reloads}\n          onUpdate={(weapons) => updateShipDesign({ weapons })}\n          onSpinalWeaponUpdate={(spinal_weapon) => updateShipDesign({ ship: { ...shipDesign.ship, spinal_weapon } })}\n          onMissileReloadsUpdate={(missile_reloads) => updateShipDesign({ ship: { ...shipDesign.ship, missile_reloads } })}\n        />;\n      case 4:\n        return <DefensesPanel\n          defenses={shipDesign.defenses}\n          shipTonnage={shipDesign.ship.tonnage}\n          shipTechLevel={shipDesign.ship.tech_level}\n          weaponsCount={shipDesign.weapons.reduce((sum, weapon) => sum + weapon.quantity, 0)}\n          sandReloads={shipDesign.ship.sand_reloads}\n          armorPercentage={shipDesign.ship.armor_percentage || 0}\n          remainingMass={mass.remaining + shipDesign.ship.sand_reloads}\n          onUpdate={(defenses) => updateShipDesign({ defenses })}\n          onSandReloadsUpdate={(sand_reloads) => updateShipDesign({ ship: { ...shipDesign.ship, sand_reloads } })}\n          onArmorUpdate={(armor_percentage) => updateShipDesign({ ship: { ...shipDesign.ship, armor_percentage } })}\n        />;\n      case 5:\n        return <FacilitiesPanel facilities={shipDesign.facilities} onUpdate={(facilities) => updateShipDesign({ facilities })} />;\n      case 6:\n        return <CargoPanel cargo={shipDesign.cargo} remainingMass={mass.remaining} shipTonnage={shipDesign.ship.tonnage} onUpdate={(cargo) => updateShipDesign({ cargo })} />;\n      case 7:\n        return <VehiclesPanel vehicles={shipDesign.vehicles} shipTechLevel={shipDesign.ship.tech_level} onUpdate={(vehicles) => updateShipDesign({ vehicles })} />;\n      case 8:\n        return <DronesPanel drones={shipDesign.drones} onUpdate={(drones) => updateShipDesign({ drones })} />;\n      case 9:\n        return <BerthsPanel \n          berths={shipDesign.berths} \n          staffRequirements={staff} \n          adjustedCrewCount={calculateAdjustedCrewCount(staff)}\n          onUpdate={(berths) => updateShipDesign({ berths })} \n        />;\n      case 10:\n        return <StaffPanel \n          staffRequirements={staff} \n          berths={shipDesign.berths}\n          shipTonnage={shipDesign.ship.tonnage}\n          combinePilotNavigator={combinePilotNavigator}\n          noStewards={noStewards}\n          onCombinePilotNavigatorChange={setCombinePilotNavigator}\n          onNoStewardsChange={setNoStewards}\n        />;\n      case 11:\n        return <SummaryPanel \n          shipDesign={shipDesign} \n          mass={mass} \n          cost={cost} \n          staff={staff} \n          combinePilotNavigator={combinePilotNavigator}\n          noStewards={noStewards}\n          onBackToShipSelect={handleBackToShipSelect} \n        />;\n      default:\n        return null;\n    }\n  };\n\n  return (\n    <div className=\"app\">\n      <header className=\"app-header\">\n        <div className=\"header-top\">\n          {!showSelectShip && (\n            <>\n              <FileMenu\n                shipDesign={shipDesign}\n                mass={calculateMass()}\n                cost={calculateCost()}\n                staff={calculateStaffRequirements()}\n                combinePilotNavigator={combinePilotNavigator}\n                noStewards={noStewards}\n                onPrint={handleFilePrint}\n                onSave={handleFileSave}\n                onSaveAs={handleFileSaveWithName}\n              />\n              <RulesMenu shipDesign={shipDesign} onRuleChange={handleRuleChange} />\n            </>\n          )}\n          <h1>\n            Traveller Capital Starship Designer\n            {!showSelectShip && currentPanel > 0 && shipDesign.ship.name.trim() && \n              `: ${shipDesign.ship.name}`\n            }\n          </h1>\n        </div>\n        {!showSelectShip && (\n          <nav className=\"panel-nav\">\n            {panels.map((panel, index) => (\n              <button\n                key={panel}\n                className={`nav-button ${index === currentPanel ? 'active' : ''} ${index < currentPanel ? 'completed' : ''}`}\n                onClick={() => setCurrentPanel(index)}\n                disabled={index > currentPanel + 1}\n              >\n                {panel}\n              </button>\n            ))}\n          </nav>\n        )}\n      </header>\n\n      <div className=\"app-content\">\n        <main className=\"main-panel\">\n          <h2>{showSelectShip ? 'Select Ship' : panels[currentPanel]}</h2>\n          <Suspense fallback={<div className=\"loading-panel\">Loading panel...</div>}>\n            {renderCurrentPanel()}\n          </Suspense>\n          \n          {!showSelectShip && (\n            <>\n              <div className=\"panel-controls\">\n                <button onClick={prevPanel} disabled={currentPanel === 0}>\n                  Previous\n                </button>\n                <button onClick={nextPanel} disabled={currentPanel === panels.length - 1 || !canAdvance()}>\n                  Next\n                </button>\n                <button onClick={handleBackToShipSelect} className=\"back-to-select\">\n                  Back to Ship Select\n                </button>\n              </div>\n              \n              <div className=\"panel-attribution\">\n                <p>\n                  <a \n                    href=\"https://www.traveller-srd.com/core-rules/spacecraft-design/\" \n                    target=\"_blank\" \n                    rel=\"noopener noreferrer\"\n                  >\n                    Based on the Traveller SRD Spacecraft Design page, as best as I can.\n                  </a>\n                </p>\n              </div>\n            </>\n          )}\n        </main>\n\n        {!showSelectShip && currentPanel >= 1 && (\n          <MassSidebar mass={calculateMass()} cost={calculateCost()} shipDesign={shipDesign} activeRules={activeRules} />\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default App;","import { StrictMode } from 'react'\nimport { createRoot } from 'react-dom/client'\nimport './index.css'\nimport App from './App'\n\ncreateRoot(document.getElementById('root')!).render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n)\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.app {\n  display: flex;\n  flex-direction: column;\n  min-height: 100vh;\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n}\n\n.app-header {\n  background-color: #2c3e50;\n  color: white;\n  padding: 1rem;\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n}\n\n.header-top {\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n  margin-bottom: 1rem;\n}\n\n.app-header h1 {\n  margin: 0;\n  font-size: 2rem;\n  flex: 1;\n  text-align: center;\n}\n\n.panel-nav {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0.5rem;\n  justify-content: center;\n}\n\n.nav-button {\n  padding: 0.5rem 1rem;\n  border: none;\n  background-color: #34495e;\n  color: white;\n  border-radius: 4px;\n  cursor: pointer;\n  transition: background-color 0.2s;\n  font-size: 0.9rem;\n}\n\n.nav-button:hover:not(:disabled) {\n  background-color: #4a6741;\n}\n\n.nav-button.active {\n  background-color: #3498db;\n}\n\n.nav-button.completed {\n  background-color: #27ae60;\n}\n\n.nav-button:disabled {\n  background-color: #7f8c8d;\n  cursor: not-allowed;\n  opacity: 0.6;\n}\n\n.app-content {\n  display: flex;\n  flex: 1;\n  gap: 1rem;\n  padding: 1rem;\n}\n\n.main-panel {\n  flex: 1;\n  background-color: white;\n  border-radius: 8px;\n  padding: 2rem;\n  box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n}\n\n.main-panel h2 {\n  margin-top: 0;\n  color: #2c3e50;\n  border-bottom: 2px solid #3498db;\n  padding-bottom: 0.5rem;\n}\n\n.panel-content {\n  margin-bottom: 2rem;\n}\n\n.form-group {\n  margin-bottom: 1.5rem;\n}\n\n.form-group label {\n  display: block;\n  margin-bottom: 0.5rem;\n  font-weight: 600;\n  color: #2c3e50;\n}\n\n.form-group input,\n.form-group select,\n.form-group textarea {\n  width: 100%;\n  padding: 0.75rem;\n  border: 2px solid #bdc3c7;\n  border-radius: 4px;\n  font-size: 1rem;\n  transition: border-color 0.2s;\n}\n\n.form-group input:focus,\n.form-group select:focus,\n.form-group textarea:focus {\n  outline: none;\n  border-color: #3498db;\n}\n\n.form-group small {\n  display: block;\n  margin-top: 0.25rem;\n  color: #7f8c8d;\n  font-size: 0.85rem;\n}\n\n.form-row {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 1rem;\n}\n\n.panel-controls {\n  display: flex;\n  justify-content: space-between;\n  gap: 1rem;\n  margin-top: 2rem;\n  padding-top: 2rem;\n  border-top: 1px solid #ecf0f1;\n  flex-wrap: wrap;\n}\n\n.panel-controls button {\n  padding: 0.75rem 2rem;\n  border: none;\n  border-radius: 4px;\n  font-size: 1rem;\n  font-weight: 600;\n  cursor: pointer;\n  transition: background-color 0.2s;\n}\n\n.panel-controls button:first-child {\n  background-color: #95a5a6;\n  color: white;\n}\n\n.panel-controls button:nth-child(2) {\n  background-color: #3498db;\n  color: white;\n}\n\n.panel-controls .back-to-select {\n  background-color: #6c757d;\n  color: white;\n}\n\n.panel-controls button:hover:not(:disabled) {\n  opacity: 0.9;\n}\n\n.panel-controls button:disabled {\n  background-color: #bdc3c7;\n  cursor: not-allowed;\n  opacity: 0.6;\n}\n\n.mass-sidebar {\n  width: 300px;\n  background-color: white;\n  border-radius: 8px;\n  padding: 1.5rem;\n  box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n  height: fit-content;\n  position: sticky;\n  top: 1rem;\n}\n\n.mass-tracker,\n.cost-tracker {\n  margin-bottom: 2rem;\n}\n\n.mass-tracker h3,\n.cost-tracker h3 {\n  margin: 0 0 1rem 0;\n  color: #2c3e50;\n  font-size: 1.2rem;\n  border-bottom: 1px solid #ecf0f1;\n  padding-bottom: 0.5rem;\n}\n\n.mass-item,\n.cost-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0.5rem 0;\n  border-bottom: 1px solid #ecf0f1;\n}\n\n.mass-item:last-child {\n  border-bottom: none;\n  font-weight: 600;\n}\n\n.mass-item.overweight {\n  color: #e74c3c;\n  font-weight: 600;\n}\n\n.warning {\n  background-color: #ffe6e6;\n  color: #c0392b;\n  padding: 0.75rem;\n  border-radius: 4px;\n  border-left: 4px solid #e74c3c;\n  font-weight: 600;\n  margin-top: 1rem;\n}\n\n.validation-info {\n  background-color: #f8f9fa;\n  border: 1px solid #e9ecef;\n  border-radius: 4px;\n  padding: 1.5rem;\n  margin-top: 2rem;\n}\n\n.validation-info h3 {\n  margin: 0 0 1rem 0;\n  color: #2c3e50;\n}\n\n.validation-info ul {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n}\n\n.validation-info li {\n  padding: 0.25rem 0;\n  font-weight: 500;\n}\n\n.validation-info li.valid {\n  color: #27ae60;\n}\n\n.validation-info li.invalid {\n  color: #e74c3c;\n}\n\n.engines-horizontal-layout {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 1rem;\n  margin-bottom: 2rem;\n}\n\n.engine-group {\n  background-color: #f8f9fa;\n  border: 1px solid #e9ecef;\n  border-radius: 4px;\n  padding: 1.5rem;\n  margin-bottom: 0;\n}\n\n.engine-group h3 {\n  margin: 0 0 1rem 0;\n  color: #2c3e50;\n}\n\n.fuel-horizontal-layout {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 2rem;\n  align-items: start;\n}\n\n.fuel-selection {\n  background-color: #f8f9fa;\n  border: 1px solid #e9ecef;\n  border-radius: 4px;\n  padding: 1.5rem;\n}\n\n.fuel-summary {\n  background-color: #f8f9fa;\n  border: 1px solid #e9ecef;\n  border-radius: 4px;\n  padding: 1.5rem;\n}\n\n.fuel-summary h4 {\n  margin: 0 0 1rem 0;\n  color: #2c3e50;\n}\n\n.fuel-summary table {\n  width: 100%;\n  border-collapse: collapse;\n}\n\n.fuel-summary th,\n.fuel-summary td {\n  padding: 0.5rem;\n  text-align: left;\n  border-bottom: 1px solid #dee2e6;\n}\n\n.fuel-summary .total-row {\n  border-top: 2px solid #2c3e50;\n  font-weight: 600;\n}\n\n.ship-basic-info-row {\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr 1fr;\n  gap: 1rem;\n  margin-bottom: 1.5rem;\n}\n\n.ship-description-row {\n  display: grid;\n  grid-template-columns: 1fr;\n  gap: 1rem;\n  margin-bottom: 1.5rem;\n}\n\n.weapons-grouped-layout {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  margin-bottom: 2rem;\n}\n\n.weapon-group-row {\n  display: grid;\n  gap: 1rem;\n}\n\n.weapon-group-row:nth-child(1),\n.weapon-group-row:nth-child(2),\n.weapon-group-row:nth-child(5) {\n  grid-template-columns: repeat(3, 1fr);\n}\n\n.weapon-group-row:nth-child(3),\n.weapon-group-row:nth-child(4),\n.weapon-group-row:nth-child(6) {\n  grid-template-columns: repeat(2, 1fr);\n}\n\n.defenses-grouped-layout {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  margin-bottom: 2rem;\n}\n\n.defense-group-row {\n  display: grid;\n  gap: 1rem;\n}\n\n.defense-group-row:nth-child(1) {\n  grid-template-columns: repeat(3, 1fr);\n}\n\n.defense-group-row:nth-child(2) {\n  grid-template-columns: repeat(2, 1fr);\n}\n\n.facilities-grouped-layout {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  margin-bottom: 2rem;\n}\n\n.facility-group-row {\n  display: grid;\n  gap: 1rem;\n}\n\n.facility-group-row:nth-child(1),\n.facility-group-row:nth-child(2) {\n  grid-template-columns: repeat(3, 1fr);\n}\n\n.facility-group-row:nth-child(3) {\n  grid-template-columns: repeat(5, 1fr);\n}\n\n.facility-group-row:nth-child(4) {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  gap: 1rem;\n}\n\n.cargo-grouped-layout {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  margin-bottom: 2rem;\n}\n\n.cargo-group-row {\n  display: grid;\n  gap: 1rem;\n}\n\n.cargo-group-row:nth-child(1),\n.cargo-group-row:nth-child(2) {\n  grid-template-columns: repeat(3, 1fr);\n}\n\n.cargo-group-row:nth-child(3) {\n  grid-template-columns: repeat(2, 1fr);\n}\n\n.vehicles-grouped-layout {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  margin-bottom: 2rem;\n}\n\n.vehicle-group-row {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 1rem;\n}\n\n.drones-grouped-layout {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  margin-bottom: 2rem;\n}\n\n.drone-group-row {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 1rem;\n}\n\n.berths-grouped-layout {\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n  margin-bottom: 2rem;\n}\n\n.berth-group-row {\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  gap: 1rem;\n}\n\n.tonnage-control {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n\n.tonnage-control label {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  font-size: 0.9rem;\n}\n\n.tonnage-control input {\n  padding: 0.25rem;\n  border: 1px solid #dee2e6;\n  border-radius: 4px;\n  font-size: 0.9rem;\n}\n\n.tonnage-control small {\n  color: #6c757d;\n  font-size: 0.8rem;\n}\n\n.service-interval {\n  background-color: #f8f9fa;\n  border: 1px solid #e9ecef;\n  border-radius: 4px;\n  padding: 1.5rem;\n  margin-top: 1.5rem;\n}\n\n.service-interval h3 {\n  margin: 0 0 1rem 0;\n  color: #2c3e50;\n  border-bottom: 1px solid #dee2e6;\n  padding-bottom: 0.5rem;\n}\n\n.service-info p {\n  margin: 0.5rem 0;\n}\n\n.service-calculation {\n  color: #6c757d;\n  font-size: 0.9rem;\n  font-style: italic;\n}\n\n.ship-name-input-container {\n  position: relative;\n}\n\n.ship-name-input-container input.name-conflict {\n  border-color: #ffc107;\n  background-color: #fff3cd;\n}\n\n.name-check-status {\n  position: absolute;\n  right: 10px;\n  top: 50%;\n  transform: translateY(-50%);\n  font-size: 0.8rem;\n  font-weight: 600;\n  pointer-events: none;\n}\n\n.name-check-status.checking {\n  color: #6c757d;\n}\n\n.name-check-status.conflict {\n  color: #856404;\n}\n\n.ship-name-conflict-dialog {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n}\n\n.conflict-dialog-content {\n  background-color: white;\n  border-radius: 8px;\n  padding: 2rem;\n  max-width: 500px;\n  width: 90%;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n}\n\n.conflict-dialog-content h3 {\n  margin: 0 0 1rem 0;\n  color: #2c3e50;\n  border-bottom: 2px solid #f39c12;\n  padding-bottom: 0.5rem;\n}\n\n.existing-ship-info {\n  background-color: #f8f9fa;\n  border: 1px solid #e9ecef;\n  border-radius: 4px;\n  padding: 1rem;\n  margin: 1rem 0;\n}\n\n.existing-ship-info p {\n  margin: 0 0 0.5rem 0;\n  font-weight: 600;\n  color: #2c3e50;\n}\n\n.existing-ship-info ul {\n  margin: 0;\n  padding-left: 1.5rem;\n}\n\n.existing-ship-info li {\n  margin: 0.25rem 0;\n  color: #495057;\n}\n\n.conflict-dialog-actions {\n  display: flex;\n  gap: 1rem;\n  justify-content: center;\n  flex-wrap: wrap;\n  margin-top: 1.5rem;\n}\n\n.conflict-dialog-actions button {\n  padding: 0.75rem 1.5rem;\n  border: none;\n  border-radius: 4px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s;\n  min-width: 140px;\n}\n\n.load-existing-btn {\n  background-color: #3498db;\n  color: white;\n}\n\n.load-existing-btn:hover:not(:disabled) {\n  background-color: #2980b9;\n}\n\n.load-existing-btn:disabled {\n  background-color: #bdc3c7;\n  cursor: not-allowed;\n  opacity: 0.6;\n}\n\n.change-name-btn {\n  background-color: #27ae60;\n  color: white;\n}\n\n.change-name-btn:hover {\n  background-color: #229954;\n}\n\n.keep-name-btn {\n  background-color: #f39c12;\n  color: white;\n}\n\n.keep-name-btn:hover {\n  background-color: #e67e22;\n}\n\n.overwrite-btn {\n  background-color: #e74c3c;\n  color: white;\n}\n\n.overwrite-btn:hover:not(:disabled) {\n  background-color: #c0392b;\n}\n\n.overwrite-btn:disabled {\n  background-color: #bdc3c7;\n  cursor: not-allowed;\n  opacity: 0.6;\n}\n\n.engine-summary {\n  margin-top: 2rem;\n  background-color: #f8f9fa;\n  border: 1px solid #e9ecef;\n  border-radius: 4px;\n  padding: 1.5rem;\n}\n\n.engine-summary h3 {\n  margin: 0 0 1rem 0;\n  color: #2c3e50;\n}\n\n.engine-summary table {\n  width: 100%;\n  border-collapse: collapse;\n}\n\n.engine-summary th,\n.engine-summary td {\n  padding: 0.75rem;\n  text-align: left;\n  border-bottom: 1px solid #dee2e6;\n}\n\n.engine-summary th {\n  background-color: #e9ecef;\n  font-weight: 600;\n  color: #2c3e50;\n}\n\n.component-list {\n  display: grid;\n  gap: 1rem;\n  margin-bottom: 2rem;\n}\n\n.component-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1rem;\n  background-color: #f8f9fa;\n  border: 1px solid #e9ecef;\n  border-radius: 4px;\n}\n\n.component-info {\n  flex: 1;\n}\n\n.component-info h4 {\n  margin: 0 0 0.5rem 0;\n  color: #2c3e50;\n}\n\n.component-info p {\n  margin: 0;\n  color: #6c757d;\n  font-size: 0.9rem;\n}\n\n.component-controls {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.quantity-control {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.quantity-control button {\n  width: 30px;\n  height: 30px;\n  border: 1px solid #dee2e6;\n  background-color: white;\n  border-radius: 4px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-weight: 600;\n}\n\n.quantity-control button:hover:not(:disabled) {\n  background-color: #f8f9fa;\n}\n\n.quantity-control button:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n.quantity-control span {\n  min-width: 30px;\n  text-align: center;\n  font-weight: 600;\n}\n\n.radio-group {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n\n.radio-group label {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  cursor: pointer;\n  padding: 0.5rem;\n  border: 1px solid #dee2e6;\n  border-radius: 4px;\n  transition: background-color 0.2s;\n}\n\n.radio-group label:hover {\n  background-color: #f8f9fa;\n}\n\n.radio-group input[type=\"radio\"] {\n  width: auto;\n  margin: 0;\n}\n\n.add-btn, .remove-btn, .save-btn, .load-btn {\n  padding: 0.5rem 1rem;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  font-weight: 600;\n  transition: background-color 0.2s;\n}\n\n.add-btn {\n  background-color: #28a745;\n  color: white;\n}\n\n.add-btn:hover {\n  background-color: #218838;\n}\n\n.remove-btn {\n  background-color: #dc3545;\n  color: white;\n}\n\n.remove-btn:hover {\n  background-color: #c82333;\n}\n\n.save-btn {\n  background-color: #007bff;\n  color: white;\n}\n\n.save-btn:hover {\n  background-color: #0056b3;\n}\n\n.load-btn {\n  background-color: #6c757d;\n  color: white;\n}\n\n.load-btn:hover {\n  background-color: #5a6268;\n}\n\n.summary-section {\n  background-color: #f8f9fa;\n  border: 1px solid #e9ecef;\n  border-radius: 4px;\n  padding: 1.5rem;\n  margin-bottom: 1.5rem;\n}\n\n.summary-section h4 {\n  margin: 0 0 1rem 0;\n  color: #2c3e50;\n  border-bottom: 1px solid #dee2e6;\n  padding-bottom: 0.5rem;\n}\n\n.summary-actions {\n  display: flex;\n  gap: 1rem;\n  justify-content: center;\n  margin-top: 2rem;\n}\n\n.staff-breakdown {\n  background-color: #f8f9fa;\n  border: 1px solid #e9ecef;\n  border-radius: 4px;\n  padding: 1rem;\n}\n\n.staff-breakdown p {\n  margin: 0.5rem 0;\n}\n\n@media (max-width: 768px) {\n  .app-content {\n    flex-direction: column;\n  }\n  \n  .mass-sidebar {\n    width: 100%;\n    position: static;\n  }\n  \n  .form-row {\n    grid-template-columns: 1fr;\n  }\n  \n  .panel-nav {\n    flex-direction: column;\n  }\n  \n  .summary-actions {\n    flex-direction: column;\n  }\n  \n  .engines-horizontal-layout {\n    grid-template-columns: 1fr;\n  }\n  \n  .fuel-horizontal-layout {\n    grid-template-columns: 1fr;\n    gap: 1rem;\n  }\n  \n  .ship-basic-info-row {\n    grid-template-columns: 1fr;\n    gap: 1rem;\n  }\n  \n  .ship-description-row {\n    grid-template-columns: 1fr;\n    gap: 1rem;\n  }\n  \n  .weapon-group-row:nth-child(1),\n  .weapon-group-row:nth-child(2),\n  .weapon-group-row:nth-child(3),\n  .weapon-group-row:nth-child(4),\n  .weapon-group-row:nth-child(5),\n  .weapon-group-row:nth-child(6) {\n    grid-template-columns: 1fr;\n  }\n  \n  .defense-group-row:nth-child(1),\n  .defense-group-row:nth-child(2) {\n    grid-template-columns: 1fr;\n  }\n  \n  .facility-group-row:nth-child(1),\n  .facility-group-row:nth-child(2),\n  .facility-group-row:nth-child(3),\n  .facility-group-row:nth-child(4) {\n    grid-template-columns: 1fr;\n  }\n  \n  .cargo-group-row:nth-child(1),\n  .cargo-group-row:nth-child(2),\n  .cargo-group-row:nth-child(3) {\n    grid-template-columns: 1fr;\n  }\n  \n  .vehicle-group-row {\n    grid-template-columns: 1fr;\n  }\n  \n  .drone-group-row {\n    grid-template-columns: 1fr;\n  }\n  \n  .berth-group-row {\n    grid-template-columns: 1fr;\n  }\n}\n\n.select-ship-panel {\n  max-width: 600px;\n  margin: 0 auto;\n}\n\n.ship-selection {\n  margin-bottom: 2rem;\n}\n\n.ship-dropdown {\n  width: 100%;\n  padding: 0.75rem;\n  border: 2px solid #bdc3c7;\n  border-radius: 4px;\n  font-size: 1rem;\n  background-color: white;\n  margin-top: 0.5rem;\n}\n\n.ship-dropdown:focus {\n  outline: none;\n  border-color: #3498db;\n}\n\n.ship-preview {\n  background-color: #f8f9fa;\n  border: 1px solid #e9ecef;\n  border-radius: 4px;\n  padding: 1.5rem;\n  margin-bottom: 2rem;\n}\n\n.ship-preview h3 {\n  margin: 0 0 1rem 0;\n  color: #2c3e50;\n  border-bottom: 1px solid #dee2e6;\n  padding-bottom: 0.5rem;\n}\n\n.ship-details p {\n  margin: 0.5rem 0;\n  color: #495057;\n}\n\n.ship-details strong {\n  color: #2c3e50;\n}\n\n.panel-actions {\n  display: flex;\n  gap: 1rem;\n  justify-content: center;\n  flex-wrap: wrap;\n}\n\n.load-ship-button, .new-ship-button {\n  padding: 1rem 2rem;\n  border: none;\n  border-radius: 6px;\n  font-size: 1rem;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s;\n  min-width: 150px;\n}\n\n.load-ship-button {\n  background-color: #3498db;\n  color: white;\n}\n\n.load-ship-button:hover:not(:disabled) {  \n  background-color: #2980b9;\n  transform: translateY(-1px);\n}\n\n.load-ship-button:disabled {\n  background-color: #bdc3c7;\n  cursor: not-allowed;\n  opacity: 0.6;\n  transform: none;\n}\n\n.new-ship-button {\n  background-color: #27ae60;\n  color: white;\n}\n\n.new-ship-button:hover {\n  background-color: #229954;\n  transform: translateY(-1px);\n}\n\n.error-message {\n  background-color: #f8d7da;\n  color: #721c24;\n  padding: 1rem;\n  border: 1px solid #f5c6cb;\n  border-radius: 4px;\n  margin-bottom: 1rem;\n}\n\n.error-message button {\n  background-color: #dc3545;\n  color: white;\n  border: none;\n  padding: 0.5rem 1rem;\n  border-radius: 4px;\n  cursor: pointer;\n  margin-top: 0.5rem;\n}\n\n.error-message button:hover {\n  background-color: #c82333;\n}\n\n.save-message {\n  padding: 1rem;\n  border-radius: 4px;\n  margin: 1rem 0;\n  font-weight: 500;\n}\n\n.save-message.success {\n  background-color: #d4edda;\n  color: #155724;\n  border: 1px solid #c3e6cb;\n}\n\n.save-message.error {\n  background-color: #f8d7da;\n  color: #721c24;\n  border: 1px solid #f5c6cb;\n}\n\n.vehicle-attribution {\n  margin-top: 2rem;\n  padding-top: 1rem;\n  border-top: 1px solid #e9ecef;\n  text-align: center;\n}\n\n.vehicle-attribution p {\n  margin: 0;\n  font-size: 0.9rem;\n  color: #6c757d;\n}\n\n.vehicle-attribution a {\n  color: #3498db;\n  text-decoration: none;\n  transition: color 0.2s;\n}\n\n.vehicle-attribution a:hover {\n  color: #2980b9;\n  text-decoration: underline;\n}\n\n.panel-attribution {\n  margin-top: 2rem;\n  padding-top: 1rem;\n  border-top: 1px solid #e9ecef;\n  text-align: center;\n}\n\n.panel-attribution p {\n  margin: 0;\n  font-size: 0.9rem;\n  color: #6c757d;\n}\n\n.panel-attribution a {\n  color: #3498db;\n  text-decoration: none;\n  transition: color 0.2s;\n}\n\n.panel-attribution a:hover {\n  color: #2980b9;\n  text-decoration: underline;\n}\n\n.ship-title-line {\n  margin-bottom: 2rem;\n  padding-bottom: 1rem;\n  border-bottom: 2px solid #3498db;\n}\n\n.ship-title-line h3 {\n  margin: 0;\n  color: #2c3e50;\n  font-size: 1.5rem;\n  font-weight: 600;\n}\n\n.ship-components-table {\n  margin-bottom: 2rem;\n}\n\n.ship-components-table table {\n  width: 100%;\n  border-collapse: collapse;\n  background-color: white;\n  border: 1px solid #dee2e6;\n}\n\n.ship-components-table th {\n  background-color: #34495e;\n  color: white;\n  padding: 0.75rem;\n  text-align: left;\n  font-weight: 600;\n  border-bottom: 2px solid #2c3e50;\n  border-right: 1px solid #2c3e50;\n  vertical-align: top;\n}\n\n.ship-components-table th:last-child {\n  border-right: none;\n}\n\n.ship-components-table td {\n  padding: 0.5rem 0.75rem;\n  border-bottom: 1px solid #e9ecef;\n  border-right: 1px solid #e9ecef;\n  color: #2c3e50;\n  vertical-align: top;\n}\n\n.ship-components-table td:last-child {\n  border-right: none;\n}\n\n.ship-components-table tbody tr:hover {\n  background-color: #f8f9fa;\n}\n\n.ship-components-table th:nth-child(1),\n.ship-components-table td:nth-child(1) {\n  width: 15%;\n  font-weight: 600;\n}\n\n.ship-components-table th:nth-child(2),\n.ship-components-table td:nth-child(2) {\n  width: 45%;\n}\n\n.ship-components-table th:nth-child(3),\n.ship-components-table td:nth-child(3) {\n  width: 20%;\n  text-align: right;\n}\n\n.ship-components-table th:nth-child(4),\n.ship-components-table td:nth-child(4) {\n  width: 20%;\n  text-align: right;\n}\n\n.fittings-controls {\n  margin-top: 2rem;\n  padding-top: 2rem;\n  border-top: 1px solid #e9ecef;\n}\n\n.fittings-controls .form-group {\n  margin-bottom: 2rem;\n}\n\n.fittings-controls h3 {\n  color: #2c3e50;\n  margin-bottom: 1rem;\n}\n\n/* Lazy loading fallback */\n.loading-panel {\n  padding: 3rem;\n  text-align: center;\n  color: #7f8c8d;\n  font-style: italic;\n  min-height: 200px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/App.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,aAAa;EACb,sBAAsB;EACtB,iBAAiB;EACjB,4DAA4D;AAC9D;;AAEA;EACE,yBAAyB;EACzB,YAAY;EACZ,aAAa;EACb,qCAAqC;AACvC;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,SAAS;EACT,mBAAmB;AACrB;;AAEA;EACE,SAAS;EACT,eAAe;EACf,OAAO;EACP,kBAAkB;AACpB;;AAEA;EACE,aAAa;EACb,eAAe;EACf,WAAW;EACX,uBAAuB;AACzB;;AAEA;EACE,oBAAoB;EACpB,YAAY;EACZ,yBAAyB;EACzB,YAAY;EACZ,kBAAkB;EAClB,eAAe;EACf,iCAAiC;EACjC,iBAAiB;AACnB;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,yBAAyB;EACzB,mBAAmB;EACnB,YAAY;AACd;;AAEA;EACE,aAAa;EACb,OAAO;EACP,SAAS;EACT,aAAa;AACf;;AAEA;EACE,OAAO;EACP,uBAAuB;EACvB,kBAAkB;EAClB,aAAa;EACb,qCAAqC;AACvC;;AAEA;EACE,aAAa;EACb,cAAc;EACd,gCAAgC;EAChC,sBAAsB;AACxB;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,qBAAqB;AACvB;;AAEA;EACE,cAAc;EACd,qBAAqB;EACrB,gBAAgB;EAChB,cAAc;AAChB;;AAEA;;;EAGE,WAAW;EACX,gBAAgB;EAChB,yBAAyB;EACzB,kBAAkB;EAClB,eAAe;EACf,6BAA6B;AAC/B;;AAEA;;;EAGE,aAAa;EACb,qBAAqB;AACvB;;AAEA;EACE,cAAc;EACd,mBAAmB;EACnB,cAAc;EACd,kBAAkB;AACpB;;AAEA;EACE,aAAa;EACb,2DAA2D;EAC3D,SAAS;AACX;;AAEA;EACE,aAAa;EACb,8BAA8B;EAC9B,SAAS;EACT,gBAAgB;EAChB,iBAAiB;EACjB,6BAA6B;EAC7B,eAAe;AACjB;;AAEA;EACE,qBAAqB;EACrB,YAAY;EACZ,kBAAkB;EAClB,eAAe;EACf,gBAAgB;EAChB,eAAe;EACf,iCAAiC;AACnC;;AAEA;EACE,yBAAyB;EACzB,YAAY;AACd;;AAEA;EACE,yBAAyB;EACzB,YAAY;AACd;;AAEA;EACE,yBAAyB;EACzB,YAAY;AACd;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,yBAAyB;EACzB,mBAAmB;EACnB,YAAY;AACd;;AAEA;EACE,YAAY;EACZ,uBAAuB;EACvB,kBAAkB;EAClB,eAAe;EACf,qCAAqC;EACrC,mBAAmB;EACnB,gBAAgB;EAChB,SAAS;AACX;;AAEA;;EAEE,mBAAmB;AACrB;;AAEA;;EAEE,kBAAkB;EAClB,cAAc;EACd,iBAAiB;EACjB,gCAAgC;EAChC,sBAAsB;AACxB;;AAEA;;EAEE,aAAa;EACb,8BAA8B;EAC9B,mBAAmB;EACnB,iBAAiB;EACjB,gCAAgC;AAClC;;AAEA;EACE,mBAAmB;EACnB,gBAAgB;AAClB;;AAEA;EACE,cAAc;EACd,gBAAgB;AAClB;;AAEA;EACE,yBAAyB;EACzB,cAAc;EACd,gBAAgB;EAChB,kBAAkB;EAClB,8BAA8B;EAC9B,gBAAgB;EAChB,gBAAgB;AAClB;;AAEA;EACE,yBAAyB;EACzB,yBAAyB;EACzB,kBAAkB;EAClB,eAAe;EACf,gBAAgB;AAClB;;AAEA;EACE,kBAAkB;EAClB,cAAc;AAChB;;AAEA;EACE,gBAAgB;EAChB,UAAU;EACV,SAAS;AACX;;AAEA;EACE,kBAAkB;EAClB,gBAAgB;AAClB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,aAAa;EACb,qCAAqC;EACrC,SAAS;EACT,mBAAmB;AACrB;;AAEA;EACE,yBAAyB;EACzB,yBAAyB;EACzB,kBAAkB;EAClB,eAAe;EACf,gBAAgB;AAClB;;AAEA;EACE,kBAAkB;EAClB,cAAc;AAChB;;AAEA;EACE,aAAa;EACb,8BAA8B;EAC9B,SAAS;EACT,kBAAkB;AACpB;;AAEA;EACE,yBAAyB;EACzB,yBAAyB;EACzB,kBAAkB;EAClB,eAAe;AACjB;;AAEA;EACE,yBAAyB;EACzB,yBAAyB;EACzB,kBAAkB;EAClB,eAAe;AACjB;;AAEA;EACE,kBAAkB;EAClB,cAAc;AAChB;;AAEA;EACE,WAAW;EACX,yBAAyB;AAC3B;;AAEA;;EAEE,eAAe;EACf,gBAAgB;EAChB,gCAAgC;AAClC;;AAEA;EACE,6BAA6B;EAC7B,gBAAgB;AAClB;;AAEA;EACE,aAAa;EACb,sCAAsC;EACtC,SAAS;EACT,qBAAqB;AACvB;;AAEA;EACE,aAAa;EACb,0BAA0B;EAC1B,SAAS;EACT,qBAAqB;AACvB;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,SAAS;EACT,mBAAmB;AACrB;;AAEA;EACE,aAAa;EACb,SAAS;AACX;;AAEA;;;EAGE,qCAAqC;AACvC;;AAEA;;;EAGE,qCAAqC;AACvC;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,SAAS;EACT,mBAAmB;AACrB;;AAEA;EACE,aAAa;EACb,SAAS;AACX;;AAEA;EACE,qCAAqC;AACvC;;AAEA;EACE,qCAAqC;AACvC;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,SAAS;EACT,mBAAmB;AACrB;;AAEA;EACE,aAAa;EACb,SAAS;AACX;;AAEA;;EAEE,qCAAqC;AACvC;;AAEA;EACE,qCAAqC;AACvC;;AAEA;EACE,aAAa;EACb,2DAA2D;EAC3D,SAAS;AACX;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,SAAS;EACT,mBAAmB;AACrB;;AAEA;EACE,aAAa;EACb,SAAS;AACX;;AAEA;;EAEE,qCAAqC;AACvC;;AAEA;EACE,qCAAqC;AACvC;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,SAAS;EACT,mBAAmB;AACrB;;AAEA;EACE,aAAa;EACb,qCAAqC;EACrC,SAAS;AACX;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,SAAS;EACT,mBAAmB;AACrB;;AAEA;EACE,aAAa;EACb,qCAAqC;EACrC,SAAS;AACX;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,SAAS;EACT,mBAAmB;AACrB;;AAEA;EACE,aAAa;EACb,qCAAqC;EACrC,SAAS;AACX;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,WAAW;AACb;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,WAAW;EACX,iBAAiB;AACnB;;AAEA;EACE,gBAAgB;EAChB,yBAAyB;EACzB,kBAAkB;EAClB,iBAAiB;AACnB;;AAEA;EACE,cAAc;EACd,iBAAiB;AACnB;;AAEA;EACE,yBAAyB;EACzB,yBAAyB;EACzB,kBAAkB;EAClB,eAAe;EACf,kBAAkB;AACpB;;AAEA;EACE,kBAAkB;EAClB,cAAc;EACd,gCAAgC;EAChC,sBAAsB;AACxB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,cAAc;EACd,iBAAiB;EACjB,kBAAkB;AACpB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,qBAAqB;EACrB,yBAAyB;AAC3B;;AAEA;EACE,kBAAkB;EAClB,WAAW;EACX,QAAQ;EACR,2BAA2B;EAC3B,iBAAiB;EACjB,gBAAgB;EAChB,oBAAoB;AACtB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,eAAe;EACf,MAAM;EACN,OAAO;EACP,QAAQ;EACR,SAAS;EACT,oCAAoC;EACpC,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,aAAa;AACf;;AAEA;EACE,uBAAuB;EACvB,kBAAkB;EAClB,aAAa;EACb,gBAAgB;EAChB,UAAU;EACV,yCAAyC;AAC3C;;AAEA;EACE,kBAAkB;EAClB,cAAc;EACd,gCAAgC;EAChC,sBAAsB;AACxB;;AAEA;EACE,yBAAyB;EACzB,yBAAyB;EACzB,kBAAkB;EAClB,aAAa;EACb,cAAc;AAChB;;AAEA;EACE,oBAAoB;EACpB,gBAAgB;EAChB,cAAc;AAChB;;AAEA;EACE,SAAS;EACT,oBAAoB;AACtB;;AAEA;EACE,iBAAiB;EACjB,cAAc;AAChB;;AAEA;EACE,aAAa;EACb,SAAS;EACT,uBAAuB;EACvB,eAAe;EACf,kBAAkB;AACpB;;AAEA;EACE,uBAAuB;EACvB,YAAY;EACZ,kBAAkB;EAClB,gBAAgB;EAChB,eAAe;EACf,oBAAoB;EACpB,gBAAgB;AAClB;;AAEA;EACE,yBAAyB;EACzB,YAAY;AACd;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,yBAAyB;EACzB,mBAAmB;EACnB,YAAY;AACd;;AAEA;EACE,yBAAyB;EACzB,YAAY;AACd;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,yBAAyB;EACzB,YAAY;AACd;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,yBAAyB;EACzB,YAAY;AACd;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,yBAAyB;EACzB,mBAAmB;EACnB,YAAY;AACd;;AAEA;EACE,gBAAgB;EAChB,yBAAyB;EACzB,yBAAyB;EACzB,kBAAkB;EAClB,eAAe;AACjB;;AAEA;EACE,kBAAkB;EAClB,cAAc;AAChB;;AAEA;EACE,WAAW;EACX,yBAAyB;AAC3B;;AAEA;;EAEE,gBAAgB;EAChB,gBAAgB;EAChB,gCAAgC;AAClC;;AAEA;EACE,yBAAyB;EACzB,gBAAgB;EAChB,cAAc;AAChB;;AAEA;EACE,aAAa;EACb,SAAS;EACT,mBAAmB;AACrB;;AAEA;EACE,aAAa;EACb,8BAA8B;EAC9B,mBAAmB;EACnB,aAAa;EACb,yBAAyB;EACzB,yBAAyB;EACzB,kBAAkB;AACpB;;AAEA;EACE,OAAO;AACT;;AAEA;EACE,oBAAoB;EACpB,cAAc;AAChB;;AAEA;EACE,SAAS;EACT,cAAc;EACd,iBAAiB;AACnB;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,WAAW;AACb;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,WAAW;AACb;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,yBAAyB;EACzB,uBAAuB;EACvB,kBAAkB;EAClB,eAAe;EACf,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,gBAAgB;AAClB;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,YAAY;EACZ,mBAAmB;AACrB;;AAEA;EACE,eAAe;EACf,kBAAkB;EAClB,gBAAgB;AAClB;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,WAAW;AACb;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,WAAW;EACX,eAAe;EACf,eAAe;EACf,yBAAyB;EACzB,kBAAkB;EAClB,iCAAiC;AACnC;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,WAAW;EACX,SAAS;AACX;;AAEA;EACE,oBAAoB;EACpB,YAAY;EACZ,kBAAkB;EAClB,eAAe;EACf,gBAAgB;EAChB,iCAAiC;AACnC;;AAEA;EACE,yBAAyB;EACzB,YAAY;AACd;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,yBAAyB;EACzB,YAAY;AACd;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,yBAAyB;EACzB,YAAY;AACd;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,yBAAyB;EACzB,YAAY;AACd;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,yBAAyB;EACzB,yBAAyB;EACzB,kBAAkB;EAClB,eAAe;EACf,qBAAqB;AACvB;;AAEA;EACE,kBAAkB;EAClB,cAAc;EACd,gCAAgC;EAChC,sBAAsB;AACxB;;AAEA;EACE,aAAa;EACb,SAAS;EACT,uBAAuB;EACvB,gBAAgB;AAClB;;AAEA;EACE,yBAAyB;EACzB,yBAAyB;EACzB,kBAAkB;EAClB,aAAa;AACf;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE;IACE,sBAAsB;EACxB;;EAEA;IACE,WAAW;IACX,gBAAgB;EAClB;;EAEA;IACE,0BAA0B;EAC5B;;EAEA;IACE,sBAAsB;EACxB;;EAEA;IACE,sBAAsB;EACxB;;EAEA;IACE,0BAA0B;EAC5B;;EAEA;IACE,0BAA0B;IAC1B,SAAS;EACX;;EAEA;IACE,0BAA0B;IAC1B,SAAS;EACX;;EAEA;IACE,0BAA0B;IAC1B,SAAS;EACX;;EAEA;;;;;;IAME,0BAA0B;EAC5B;;EAEA;;IAEE,0BAA0B;EAC5B;;EAEA;;;;IAIE,0BAA0B;EAC5B;;EAEA;;;IAGE,0BAA0B;EAC5B;;EAEA;IACE,0BAA0B;EAC5B;;EAEA;IACE,0BAA0B;EAC5B;;EAEA;IACE,0BAA0B;EAC5B;AACF;;AAEA;EACE,gBAAgB;EAChB,cAAc;AAChB;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,WAAW;EACX,gBAAgB;EAChB,yBAAyB;EACzB,kBAAkB;EAClB,eAAe;EACf,uBAAuB;EACvB,kBAAkB;AACpB;;AAEA;EACE,aAAa;EACb,qBAAqB;AACvB;;AAEA;EACE,yBAAyB;EACzB,yBAAyB;EACzB,kBAAkB;EAClB,eAAe;EACf,mBAAmB;AACrB;;AAEA;EACE,kBAAkB;EAClB,cAAc;EACd,gCAAgC;EAChC,sBAAsB;AACxB;;AAEA;EACE,gBAAgB;EAChB,cAAc;AAChB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,aAAa;EACb,SAAS;EACT,uBAAuB;EACvB,eAAe;AACjB;;AAEA;EACE,kBAAkB;EAClB,YAAY;EACZ,kBAAkB;EAClB,eAAe;EACf,gBAAgB;EAChB,eAAe;EACf,oBAAoB;EACpB,gBAAgB;AAClB;;AAEA;EACE,yBAAyB;EACzB,YAAY;AACd;;AAEA;EACE,yBAAyB;EACzB,2BAA2B;AAC7B;;AAEA;EACE,yBAAyB;EACzB,mBAAmB;EACnB,YAAY;EACZ,eAAe;AACjB;;AAEA;EACE,yBAAyB;EACzB,YAAY;AACd;;AAEA;EACE,yBAAyB;EACzB,2BAA2B;AAC7B;;AAEA;EACE,yBAAyB;EACzB,cAAc;EACd,aAAa;EACb,yBAAyB;EACzB,kBAAkB;EAClB,mBAAmB;AACrB;;AAEA;EACE,yBAAyB;EACzB,YAAY;EACZ,YAAY;EACZ,oBAAoB;EACpB,kBAAkB;EAClB,eAAe;EACf,kBAAkB;AACpB;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,aAAa;EACb,kBAAkB;EAClB,cAAc;EACd,gBAAgB;AAClB;;AAEA;EACE,yBAAyB;EACzB,cAAc;EACd,yBAAyB;AAC3B;;AAEA;EACE,yBAAyB;EACzB,cAAc;EACd,yBAAyB;AAC3B;;AAEA;EACE,gBAAgB;EAChB,iBAAiB;EACjB,6BAA6B;EAC7B,kBAAkB;AACpB;;AAEA;EACE,SAAS;EACT,iBAAiB;EACjB,cAAc;AAChB;;AAEA;EACE,cAAc;EACd,qBAAqB;EACrB,sBAAsB;AACxB;;AAEA;EACE,cAAc;EACd,0BAA0B;AAC5B;;AAEA;EACE,gBAAgB;EAChB,iBAAiB;EACjB,6BAA6B;EAC7B,kBAAkB;AACpB;;AAEA;EACE,SAAS;EACT,iBAAiB;EACjB,cAAc;AAChB;;AAEA;EACE,cAAc;EACd,qBAAqB;EACrB,sBAAsB;AACxB;;AAEA;EACE,cAAc;EACd,0BAA0B;AAC5B;;AAEA;EACE,mBAAmB;EACnB,oBAAoB;EACpB,gCAAgC;AAClC;;AAEA;EACE,SAAS;EACT,cAAc;EACd,iBAAiB;EACjB,gBAAgB;AAClB;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,WAAW;EACX,yBAAyB;EACzB,uBAAuB;EACvB,yBAAyB;AAC3B;;AAEA;EACE,yBAAyB;EACzB,YAAY;EACZ,gBAAgB;EAChB,gBAAgB;EAChB,gBAAgB;EAChB,gCAAgC;EAChC,+BAA+B;EAC/B,mBAAmB;AACrB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,uBAAuB;EACvB,gCAAgC;EAChC,+BAA+B;EAC/B,cAAc;EACd,mBAAmB;AACrB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;;EAEE,UAAU;EACV,gBAAgB;AAClB;;AAEA;;EAEE,UAAU;AACZ;;AAEA;;EAEE,UAAU;EACV,iBAAiB;AACnB;;AAEA;;EAEE,UAAU;EACV,iBAAiB;AACnB;;AAEA;EACE,gBAAgB;EAChB,iBAAiB;EACjB,6BAA6B;AAC/B;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,cAAc;EACd,mBAAmB;AACrB;;AAEA,0BAA0B;AAC1B;EACE,aAAa;EACb,kBAAkB;EAClB,cAAc;EACd,kBAAkB;EAClB,iBAAiB;EACjB,aAAa;EACb,mBAAmB;EACnB,uBAAuB;AACzB\",\"sourcesContent\":[\".app {\\n  display: flex;\\n  flex-direction: column;\\n  min-height: 100vh;\\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\\n}\\n\\n.app-header {\\n  background-color: #2c3e50;\\n  color: white;\\n  padding: 1rem;\\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\\n}\\n\\n.header-top {\\n  display: flex;\\n  align-items: center;\\n  gap: 1rem;\\n  margin-bottom: 1rem;\\n}\\n\\n.app-header h1 {\\n  margin: 0;\\n  font-size: 2rem;\\n  flex: 1;\\n  text-align: center;\\n}\\n\\n.panel-nav {\\n  display: flex;\\n  flex-wrap: wrap;\\n  gap: 0.5rem;\\n  justify-content: center;\\n}\\n\\n.nav-button {\\n  padding: 0.5rem 1rem;\\n  border: none;\\n  background-color: #34495e;\\n  color: white;\\n  border-radius: 4px;\\n  cursor: pointer;\\n  transition: background-color 0.2s;\\n  font-size: 0.9rem;\\n}\\n\\n.nav-button:hover:not(:disabled) {\\n  background-color: #4a6741;\\n}\\n\\n.nav-button.active {\\n  background-color: #3498db;\\n}\\n\\n.nav-button.completed {\\n  background-color: #27ae60;\\n}\\n\\n.nav-button:disabled {\\n  background-color: #7f8c8d;\\n  cursor: not-allowed;\\n  opacity: 0.6;\\n}\\n\\n.app-content {\\n  display: flex;\\n  flex: 1;\\n  gap: 1rem;\\n  padding: 1rem;\\n}\\n\\n.main-panel {\\n  flex: 1;\\n  background-color: white;\\n  border-radius: 8px;\\n  padding: 2rem;\\n  box-shadow: 0 2px 8px rgba(0,0,0,0.1);\\n}\\n\\n.main-panel h2 {\\n  margin-top: 0;\\n  color: #2c3e50;\\n  border-bottom: 2px solid #3498db;\\n  padding-bottom: 0.5rem;\\n}\\n\\n.panel-content {\\n  margin-bottom: 2rem;\\n}\\n\\n.form-group {\\n  margin-bottom: 1.5rem;\\n}\\n\\n.form-group label {\\n  display: block;\\n  margin-bottom: 0.5rem;\\n  font-weight: 600;\\n  color: #2c3e50;\\n}\\n\\n.form-group input,\\n.form-group select,\\n.form-group textarea {\\n  width: 100%;\\n  padding: 0.75rem;\\n  border: 2px solid #bdc3c7;\\n  border-radius: 4px;\\n  font-size: 1rem;\\n  transition: border-color 0.2s;\\n}\\n\\n.form-group input:focus,\\n.form-group select:focus,\\n.form-group textarea:focus {\\n  outline: none;\\n  border-color: #3498db;\\n}\\n\\n.form-group small {\\n  display: block;\\n  margin-top: 0.25rem;\\n  color: #7f8c8d;\\n  font-size: 0.85rem;\\n}\\n\\n.form-row {\\n  display: grid;\\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\\n  gap: 1rem;\\n}\\n\\n.panel-controls {\\n  display: flex;\\n  justify-content: space-between;\\n  gap: 1rem;\\n  margin-top: 2rem;\\n  padding-top: 2rem;\\n  border-top: 1px solid #ecf0f1;\\n  flex-wrap: wrap;\\n}\\n\\n.panel-controls button {\\n  padding: 0.75rem 2rem;\\n  border: none;\\n  border-radius: 4px;\\n  font-size: 1rem;\\n  font-weight: 600;\\n  cursor: pointer;\\n  transition: background-color 0.2s;\\n}\\n\\n.panel-controls button:first-child {\\n  background-color: #95a5a6;\\n  color: white;\\n}\\n\\n.panel-controls button:nth-child(2) {\\n  background-color: #3498db;\\n  color: white;\\n}\\n\\n.panel-controls .back-to-select {\\n  background-color: #6c757d;\\n  color: white;\\n}\\n\\n.panel-controls button:hover:not(:disabled) {\\n  opacity: 0.9;\\n}\\n\\n.panel-controls button:disabled {\\n  background-color: #bdc3c7;\\n  cursor: not-allowed;\\n  opacity: 0.6;\\n}\\n\\n.mass-sidebar {\\n  width: 300px;\\n  background-color: white;\\n  border-radius: 8px;\\n  padding: 1.5rem;\\n  box-shadow: 0 2px 8px rgba(0,0,0,0.1);\\n  height: fit-content;\\n  position: sticky;\\n  top: 1rem;\\n}\\n\\n.mass-tracker,\\n.cost-tracker {\\n  margin-bottom: 2rem;\\n}\\n\\n.mass-tracker h3,\\n.cost-tracker h3 {\\n  margin: 0 0 1rem 0;\\n  color: #2c3e50;\\n  font-size: 1.2rem;\\n  border-bottom: 1px solid #ecf0f1;\\n  padding-bottom: 0.5rem;\\n}\\n\\n.mass-item,\\n.cost-item {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  padding: 0.5rem 0;\\n  border-bottom: 1px solid #ecf0f1;\\n}\\n\\n.mass-item:last-child {\\n  border-bottom: none;\\n  font-weight: 600;\\n}\\n\\n.mass-item.overweight {\\n  color: #e74c3c;\\n  font-weight: 600;\\n}\\n\\n.warning {\\n  background-color: #ffe6e6;\\n  color: #c0392b;\\n  padding: 0.75rem;\\n  border-radius: 4px;\\n  border-left: 4px solid #e74c3c;\\n  font-weight: 600;\\n  margin-top: 1rem;\\n}\\n\\n.validation-info {\\n  background-color: #f8f9fa;\\n  border: 1px solid #e9ecef;\\n  border-radius: 4px;\\n  padding: 1.5rem;\\n  margin-top: 2rem;\\n}\\n\\n.validation-info h3 {\\n  margin: 0 0 1rem 0;\\n  color: #2c3e50;\\n}\\n\\n.validation-info ul {\\n  list-style: none;\\n  padding: 0;\\n  margin: 0;\\n}\\n\\n.validation-info li {\\n  padding: 0.25rem 0;\\n  font-weight: 500;\\n}\\n\\n.validation-info li.valid {\\n  color: #27ae60;\\n}\\n\\n.validation-info li.invalid {\\n  color: #e74c3c;\\n}\\n\\n.engines-horizontal-layout {\\n  display: grid;\\n  grid-template-columns: repeat(3, 1fr);\\n  gap: 1rem;\\n  margin-bottom: 2rem;\\n}\\n\\n.engine-group {\\n  background-color: #f8f9fa;\\n  border: 1px solid #e9ecef;\\n  border-radius: 4px;\\n  padding: 1.5rem;\\n  margin-bottom: 0;\\n}\\n\\n.engine-group h3 {\\n  margin: 0 0 1rem 0;\\n  color: #2c3e50;\\n}\\n\\n.fuel-horizontal-layout {\\n  display: grid;\\n  grid-template-columns: 1fr 1fr;\\n  gap: 2rem;\\n  align-items: start;\\n}\\n\\n.fuel-selection {\\n  background-color: #f8f9fa;\\n  border: 1px solid #e9ecef;\\n  border-radius: 4px;\\n  padding: 1.5rem;\\n}\\n\\n.fuel-summary {\\n  background-color: #f8f9fa;\\n  border: 1px solid #e9ecef;\\n  border-radius: 4px;\\n  padding: 1.5rem;\\n}\\n\\n.fuel-summary h4 {\\n  margin: 0 0 1rem 0;\\n  color: #2c3e50;\\n}\\n\\n.fuel-summary table {\\n  width: 100%;\\n  border-collapse: collapse;\\n}\\n\\n.fuel-summary th,\\n.fuel-summary td {\\n  padding: 0.5rem;\\n  text-align: left;\\n  border-bottom: 1px solid #dee2e6;\\n}\\n\\n.fuel-summary .total-row {\\n  border-top: 2px solid #2c3e50;\\n  font-weight: 600;\\n}\\n\\n.ship-basic-info-row {\\n  display: grid;\\n  grid-template-columns: 1fr 1fr 1fr 1fr;\\n  gap: 1rem;\\n  margin-bottom: 1.5rem;\\n}\\n\\n.ship-description-row {\\n  display: grid;\\n  grid-template-columns: 1fr;\\n  gap: 1rem;\\n  margin-bottom: 1.5rem;\\n}\\n\\n.weapons-grouped-layout {\\n  display: flex;\\n  flex-direction: column;\\n  gap: 1rem;\\n  margin-bottom: 2rem;\\n}\\n\\n.weapon-group-row {\\n  display: grid;\\n  gap: 1rem;\\n}\\n\\n.weapon-group-row:nth-child(1),\\n.weapon-group-row:nth-child(2),\\n.weapon-group-row:nth-child(5) {\\n  grid-template-columns: repeat(3, 1fr);\\n}\\n\\n.weapon-group-row:nth-child(3),\\n.weapon-group-row:nth-child(4),\\n.weapon-group-row:nth-child(6) {\\n  grid-template-columns: repeat(2, 1fr);\\n}\\n\\n.defenses-grouped-layout {\\n  display: flex;\\n  flex-direction: column;\\n  gap: 1rem;\\n  margin-bottom: 2rem;\\n}\\n\\n.defense-group-row {\\n  display: grid;\\n  gap: 1rem;\\n}\\n\\n.defense-group-row:nth-child(1) {\\n  grid-template-columns: repeat(3, 1fr);\\n}\\n\\n.defense-group-row:nth-child(2) {\\n  grid-template-columns: repeat(2, 1fr);\\n}\\n\\n.facilities-grouped-layout {\\n  display: flex;\\n  flex-direction: column;\\n  gap: 1rem;\\n  margin-bottom: 2rem;\\n}\\n\\n.facility-group-row {\\n  display: grid;\\n  gap: 1rem;\\n}\\n\\n.facility-group-row:nth-child(1),\\n.facility-group-row:nth-child(2) {\\n  grid-template-columns: repeat(3, 1fr);\\n}\\n\\n.facility-group-row:nth-child(3) {\\n  grid-template-columns: repeat(5, 1fr);\\n}\\n\\n.facility-group-row:nth-child(4) {\\n  display: grid;\\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\\n  gap: 1rem;\\n}\\n\\n.cargo-grouped-layout {\\n  display: flex;\\n  flex-direction: column;\\n  gap: 1rem;\\n  margin-bottom: 2rem;\\n}\\n\\n.cargo-group-row {\\n  display: grid;\\n  gap: 1rem;\\n}\\n\\n.cargo-group-row:nth-child(1),\\n.cargo-group-row:nth-child(2) {\\n  grid-template-columns: repeat(3, 1fr);\\n}\\n\\n.cargo-group-row:nth-child(3) {\\n  grid-template-columns: repeat(2, 1fr);\\n}\\n\\n.vehicles-grouped-layout {\\n  display: flex;\\n  flex-direction: column;\\n  gap: 1rem;\\n  margin-bottom: 2rem;\\n}\\n\\n.vehicle-group-row {\\n  display: grid;\\n  grid-template-columns: repeat(3, 1fr);\\n  gap: 1rem;\\n}\\n\\n.drones-grouped-layout {\\n  display: flex;\\n  flex-direction: column;\\n  gap: 1rem;\\n  margin-bottom: 2rem;\\n}\\n\\n.drone-group-row {\\n  display: grid;\\n  grid-template-columns: repeat(3, 1fr);\\n  gap: 1rem;\\n}\\n\\n.berths-grouped-layout {\\n  display: flex;\\n  flex-direction: column;\\n  gap: 1rem;\\n  margin-bottom: 2rem;\\n}\\n\\n.berth-group-row {\\n  display: grid;\\n  grid-template-columns: repeat(4, 1fr);\\n  gap: 1rem;\\n}\\n\\n.tonnage-control {\\n  display: flex;\\n  flex-direction: column;\\n  gap: 0.5rem;\\n}\\n\\n.tonnage-control label {\\n  display: flex;\\n  align-items: center;\\n  gap: 0.5rem;\\n  font-size: 0.9rem;\\n}\\n\\n.tonnage-control input {\\n  padding: 0.25rem;\\n  border: 1px solid #dee2e6;\\n  border-radius: 4px;\\n  font-size: 0.9rem;\\n}\\n\\n.tonnage-control small {\\n  color: #6c757d;\\n  font-size: 0.8rem;\\n}\\n\\n.service-interval {\\n  background-color: #f8f9fa;\\n  border: 1px solid #e9ecef;\\n  border-radius: 4px;\\n  padding: 1.5rem;\\n  margin-top: 1.5rem;\\n}\\n\\n.service-interval h3 {\\n  margin: 0 0 1rem 0;\\n  color: #2c3e50;\\n  border-bottom: 1px solid #dee2e6;\\n  padding-bottom: 0.5rem;\\n}\\n\\n.service-info p {\\n  margin: 0.5rem 0;\\n}\\n\\n.service-calculation {\\n  color: #6c757d;\\n  font-size: 0.9rem;\\n  font-style: italic;\\n}\\n\\n.ship-name-input-container {\\n  position: relative;\\n}\\n\\n.ship-name-input-container input.name-conflict {\\n  border-color: #ffc107;\\n  background-color: #fff3cd;\\n}\\n\\n.name-check-status {\\n  position: absolute;\\n  right: 10px;\\n  top: 50%;\\n  transform: translateY(-50%);\\n  font-size: 0.8rem;\\n  font-weight: 600;\\n  pointer-events: none;\\n}\\n\\n.name-check-status.checking {\\n  color: #6c757d;\\n}\\n\\n.name-check-status.conflict {\\n  color: #856404;\\n}\\n\\n.ship-name-conflict-dialog {\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  background-color: rgba(0, 0, 0, 0.5);\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  z-index: 1000;\\n}\\n\\n.conflict-dialog-content {\\n  background-color: white;\\n  border-radius: 8px;\\n  padding: 2rem;\\n  max-width: 500px;\\n  width: 90%;\\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\\n}\\n\\n.conflict-dialog-content h3 {\\n  margin: 0 0 1rem 0;\\n  color: #2c3e50;\\n  border-bottom: 2px solid #f39c12;\\n  padding-bottom: 0.5rem;\\n}\\n\\n.existing-ship-info {\\n  background-color: #f8f9fa;\\n  border: 1px solid #e9ecef;\\n  border-radius: 4px;\\n  padding: 1rem;\\n  margin: 1rem 0;\\n}\\n\\n.existing-ship-info p {\\n  margin: 0 0 0.5rem 0;\\n  font-weight: 600;\\n  color: #2c3e50;\\n}\\n\\n.existing-ship-info ul {\\n  margin: 0;\\n  padding-left: 1.5rem;\\n}\\n\\n.existing-ship-info li {\\n  margin: 0.25rem 0;\\n  color: #495057;\\n}\\n\\n.conflict-dialog-actions {\\n  display: flex;\\n  gap: 1rem;\\n  justify-content: center;\\n  flex-wrap: wrap;\\n  margin-top: 1.5rem;\\n}\\n\\n.conflict-dialog-actions button {\\n  padding: 0.75rem 1.5rem;\\n  border: none;\\n  border-radius: 4px;\\n  font-weight: 600;\\n  cursor: pointer;\\n  transition: all 0.2s;\\n  min-width: 140px;\\n}\\n\\n.load-existing-btn {\\n  background-color: #3498db;\\n  color: white;\\n}\\n\\n.load-existing-btn:hover:not(:disabled) {\\n  background-color: #2980b9;\\n}\\n\\n.load-existing-btn:disabled {\\n  background-color: #bdc3c7;\\n  cursor: not-allowed;\\n  opacity: 0.6;\\n}\\n\\n.change-name-btn {\\n  background-color: #27ae60;\\n  color: white;\\n}\\n\\n.change-name-btn:hover {\\n  background-color: #229954;\\n}\\n\\n.keep-name-btn {\\n  background-color: #f39c12;\\n  color: white;\\n}\\n\\n.keep-name-btn:hover {\\n  background-color: #e67e22;\\n}\\n\\n.overwrite-btn {\\n  background-color: #e74c3c;\\n  color: white;\\n}\\n\\n.overwrite-btn:hover:not(:disabled) {\\n  background-color: #c0392b;\\n}\\n\\n.overwrite-btn:disabled {\\n  background-color: #bdc3c7;\\n  cursor: not-allowed;\\n  opacity: 0.6;\\n}\\n\\n.engine-summary {\\n  margin-top: 2rem;\\n  background-color: #f8f9fa;\\n  border: 1px solid #e9ecef;\\n  border-radius: 4px;\\n  padding: 1.5rem;\\n}\\n\\n.engine-summary h3 {\\n  margin: 0 0 1rem 0;\\n  color: #2c3e50;\\n}\\n\\n.engine-summary table {\\n  width: 100%;\\n  border-collapse: collapse;\\n}\\n\\n.engine-summary th,\\n.engine-summary td {\\n  padding: 0.75rem;\\n  text-align: left;\\n  border-bottom: 1px solid #dee2e6;\\n}\\n\\n.engine-summary th {\\n  background-color: #e9ecef;\\n  font-weight: 600;\\n  color: #2c3e50;\\n}\\n\\n.component-list {\\n  display: grid;\\n  gap: 1rem;\\n  margin-bottom: 2rem;\\n}\\n\\n.component-item {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  padding: 1rem;\\n  background-color: #f8f9fa;\\n  border: 1px solid #e9ecef;\\n  border-radius: 4px;\\n}\\n\\n.component-info {\\n  flex: 1;\\n}\\n\\n.component-info h4 {\\n  margin: 0 0 0.5rem 0;\\n  color: #2c3e50;\\n}\\n\\n.component-info p {\\n  margin: 0;\\n  color: #6c757d;\\n  font-size: 0.9rem;\\n}\\n\\n.component-controls {\\n  display: flex;\\n  align-items: center;\\n  gap: 0.5rem;\\n}\\n\\n.quantity-control {\\n  display: flex;\\n  align-items: center;\\n  gap: 0.5rem;\\n}\\n\\n.quantity-control button {\\n  width: 30px;\\n  height: 30px;\\n  border: 1px solid #dee2e6;\\n  background-color: white;\\n  border-radius: 4px;\\n  cursor: pointer;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  font-weight: 600;\\n}\\n\\n.quantity-control button:hover:not(:disabled) {\\n  background-color: #f8f9fa;\\n}\\n\\n.quantity-control button:disabled {\\n  opacity: 0.5;\\n  cursor: not-allowed;\\n}\\n\\n.quantity-control span {\\n  min-width: 30px;\\n  text-align: center;\\n  font-weight: 600;\\n}\\n\\n.radio-group {\\n  display: flex;\\n  flex-direction: column;\\n  gap: 0.5rem;\\n}\\n\\n.radio-group label {\\n  display: flex;\\n  align-items: center;\\n  gap: 0.5rem;\\n  cursor: pointer;\\n  padding: 0.5rem;\\n  border: 1px solid #dee2e6;\\n  border-radius: 4px;\\n  transition: background-color 0.2s;\\n}\\n\\n.radio-group label:hover {\\n  background-color: #f8f9fa;\\n}\\n\\n.radio-group input[type=\\\"radio\\\"] {\\n  width: auto;\\n  margin: 0;\\n}\\n\\n.add-btn, .remove-btn, .save-btn, .load-btn {\\n  padding: 0.5rem 1rem;\\n  border: none;\\n  border-radius: 4px;\\n  cursor: pointer;\\n  font-weight: 600;\\n  transition: background-color 0.2s;\\n}\\n\\n.add-btn {\\n  background-color: #28a745;\\n  color: white;\\n}\\n\\n.add-btn:hover {\\n  background-color: #218838;\\n}\\n\\n.remove-btn {\\n  background-color: #dc3545;\\n  color: white;\\n}\\n\\n.remove-btn:hover {\\n  background-color: #c82333;\\n}\\n\\n.save-btn {\\n  background-color: #007bff;\\n  color: white;\\n}\\n\\n.save-btn:hover {\\n  background-color: #0056b3;\\n}\\n\\n.load-btn {\\n  background-color: #6c757d;\\n  color: white;\\n}\\n\\n.load-btn:hover {\\n  background-color: #5a6268;\\n}\\n\\n.summary-section {\\n  background-color: #f8f9fa;\\n  border: 1px solid #e9ecef;\\n  border-radius: 4px;\\n  padding: 1.5rem;\\n  margin-bottom: 1.5rem;\\n}\\n\\n.summary-section h4 {\\n  margin: 0 0 1rem 0;\\n  color: #2c3e50;\\n  border-bottom: 1px solid #dee2e6;\\n  padding-bottom: 0.5rem;\\n}\\n\\n.summary-actions {\\n  display: flex;\\n  gap: 1rem;\\n  justify-content: center;\\n  margin-top: 2rem;\\n}\\n\\n.staff-breakdown {\\n  background-color: #f8f9fa;\\n  border: 1px solid #e9ecef;\\n  border-radius: 4px;\\n  padding: 1rem;\\n}\\n\\n.staff-breakdown p {\\n  margin: 0.5rem 0;\\n}\\n\\n@media (max-width: 768px) {\\n  .app-content {\\n    flex-direction: column;\\n  }\\n  \\n  .mass-sidebar {\\n    width: 100%;\\n    position: static;\\n  }\\n  \\n  .form-row {\\n    grid-template-columns: 1fr;\\n  }\\n  \\n  .panel-nav {\\n    flex-direction: column;\\n  }\\n  \\n  .summary-actions {\\n    flex-direction: column;\\n  }\\n  \\n  .engines-horizontal-layout {\\n    grid-template-columns: 1fr;\\n  }\\n  \\n  .fuel-horizontal-layout {\\n    grid-template-columns: 1fr;\\n    gap: 1rem;\\n  }\\n  \\n  .ship-basic-info-row {\\n    grid-template-columns: 1fr;\\n    gap: 1rem;\\n  }\\n  \\n  .ship-description-row {\\n    grid-template-columns: 1fr;\\n    gap: 1rem;\\n  }\\n  \\n  .weapon-group-row:nth-child(1),\\n  .weapon-group-row:nth-child(2),\\n  .weapon-group-row:nth-child(3),\\n  .weapon-group-row:nth-child(4),\\n  .weapon-group-row:nth-child(5),\\n  .weapon-group-row:nth-child(6) {\\n    grid-template-columns: 1fr;\\n  }\\n  \\n  .defense-group-row:nth-child(1),\\n  .defense-group-row:nth-child(2) {\\n    grid-template-columns: 1fr;\\n  }\\n  \\n  .facility-group-row:nth-child(1),\\n  .facility-group-row:nth-child(2),\\n  .facility-group-row:nth-child(3),\\n  .facility-group-row:nth-child(4) {\\n    grid-template-columns: 1fr;\\n  }\\n  \\n  .cargo-group-row:nth-child(1),\\n  .cargo-group-row:nth-child(2),\\n  .cargo-group-row:nth-child(3) {\\n    grid-template-columns: 1fr;\\n  }\\n  \\n  .vehicle-group-row {\\n    grid-template-columns: 1fr;\\n  }\\n  \\n  .drone-group-row {\\n    grid-template-columns: 1fr;\\n  }\\n  \\n  .berth-group-row {\\n    grid-template-columns: 1fr;\\n  }\\n}\\n\\n.select-ship-panel {\\n  max-width: 600px;\\n  margin: 0 auto;\\n}\\n\\n.ship-selection {\\n  margin-bottom: 2rem;\\n}\\n\\n.ship-dropdown {\\n  width: 100%;\\n  padding: 0.75rem;\\n  border: 2px solid #bdc3c7;\\n  border-radius: 4px;\\n  font-size: 1rem;\\n  background-color: white;\\n  margin-top: 0.5rem;\\n}\\n\\n.ship-dropdown:focus {\\n  outline: none;\\n  border-color: #3498db;\\n}\\n\\n.ship-preview {\\n  background-color: #f8f9fa;\\n  border: 1px solid #e9ecef;\\n  border-radius: 4px;\\n  padding: 1.5rem;\\n  margin-bottom: 2rem;\\n}\\n\\n.ship-preview h3 {\\n  margin: 0 0 1rem 0;\\n  color: #2c3e50;\\n  border-bottom: 1px solid #dee2e6;\\n  padding-bottom: 0.5rem;\\n}\\n\\n.ship-details p {\\n  margin: 0.5rem 0;\\n  color: #495057;\\n}\\n\\n.ship-details strong {\\n  color: #2c3e50;\\n}\\n\\n.panel-actions {\\n  display: flex;\\n  gap: 1rem;\\n  justify-content: center;\\n  flex-wrap: wrap;\\n}\\n\\n.load-ship-button, .new-ship-button {\\n  padding: 1rem 2rem;\\n  border: none;\\n  border-radius: 6px;\\n  font-size: 1rem;\\n  font-weight: 600;\\n  cursor: pointer;\\n  transition: all 0.2s;\\n  min-width: 150px;\\n}\\n\\n.load-ship-button {\\n  background-color: #3498db;\\n  color: white;\\n}\\n\\n.load-ship-button:hover:not(:disabled) {  \\n  background-color: #2980b9;\\n  transform: translateY(-1px);\\n}\\n\\n.load-ship-button:disabled {\\n  background-color: #bdc3c7;\\n  cursor: not-allowed;\\n  opacity: 0.6;\\n  transform: none;\\n}\\n\\n.new-ship-button {\\n  background-color: #27ae60;\\n  color: white;\\n}\\n\\n.new-ship-button:hover {\\n  background-color: #229954;\\n  transform: translateY(-1px);\\n}\\n\\n.error-message {\\n  background-color: #f8d7da;\\n  color: #721c24;\\n  padding: 1rem;\\n  border: 1px solid #f5c6cb;\\n  border-radius: 4px;\\n  margin-bottom: 1rem;\\n}\\n\\n.error-message button {\\n  background-color: #dc3545;\\n  color: white;\\n  border: none;\\n  padding: 0.5rem 1rem;\\n  border-radius: 4px;\\n  cursor: pointer;\\n  margin-top: 0.5rem;\\n}\\n\\n.error-message button:hover {\\n  background-color: #c82333;\\n}\\n\\n.save-message {\\n  padding: 1rem;\\n  border-radius: 4px;\\n  margin: 1rem 0;\\n  font-weight: 500;\\n}\\n\\n.save-message.success {\\n  background-color: #d4edda;\\n  color: #155724;\\n  border: 1px solid #c3e6cb;\\n}\\n\\n.save-message.error {\\n  background-color: #f8d7da;\\n  color: #721c24;\\n  border: 1px solid #f5c6cb;\\n}\\n\\n.vehicle-attribution {\\n  margin-top: 2rem;\\n  padding-top: 1rem;\\n  border-top: 1px solid #e9ecef;\\n  text-align: center;\\n}\\n\\n.vehicle-attribution p {\\n  margin: 0;\\n  font-size: 0.9rem;\\n  color: #6c757d;\\n}\\n\\n.vehicle-attribution a {\\n  color: #3498db;\\n  text-decoration: none;\\n  transition: color 0.2s;\\n}\\n\\n.vehicle-attribution a:hover {\\n  color: #2980b9;\\n  text-decoration: underline;\\n}\\n\\n.panel-attribution {\\n  margin-top: 2rem;\\n  padding-top: 1rem;\\n  border-top: 1px solid #e9ecef;\\n  text-align: center;\\n}\\n\\n.panel-attribution p {\\n  margin: 0;\\n  font-size: 0.9rem;\\n  color: #6c757d;\\n}\\n\\n.panel-attribution a {\\n  color: #3498db;\\n  text-decoration: none;\\n  transition: color 0.2s;\\n}\\n\\n.panel-attribution a:hover {\\n  color: #2980b9;\\n  text-decoration: underline;\\n}\\n\\n.ship-title-line {\\n  margin-bottom: 2rem;\\n  padding-bottom: 1rem;\\n  border-bottom: 2px solid #3498db;\\n}\\n\\n.ship-title-line h3 {\\n  margin: 0;\\n  color: #2c3e50;\\n  font-size: 1.5rem;\\n  font-weight: 600;\\n}\\n\\n.ship-components-table {\\n  margin-bottom: 2rem;\\n}\\n\\n.ship-components-table table {\\n  width: 100%;\\n  border-collapse: collapse;\\n  background-color: white;\\n  border: 1px solid #dee2e6;\\n}\\n\\n.ship-components-table th {\\n  background-color: #34495e;\\n  color: white;\\n  padding: 0.75rem;\\n  text-align: left;\\n  font-weight: 600;\\n  border-bottom: 2px solid #2c3e50;\\n  border-right: 1px solid #2c3e50;\\n  vertical-align: top;\\n}\\n\\n.ship-components-table th:last-child {\\n  border-right: none;\\n}\\n\\n.ship-components-table td {\\n  padding: 0.5rem 0.75rem;\\n  border-bottom: 1px solid #e9ecef;\\n  border-right: 1px solid #e9ecef;\\n  color: #2c3e50;\\n  vertical-align: top;\\n}\\n\\n.ship-components-table td:last-child {\\n  border-right: none;\\n}\\n\\n.ship-components-table tbody tr:hover {\\n  background-color: #f8f9fa;\\n}\\n\\n.ship-components-table th:nth-child(1),\\n.ship-components-table td:nth-child(1) {\\n  width: 15%;\\n  font-weight: 600;\\n}\\n\\n.ship-components-table th:nth-child(2),\\n.ship-components-table td:nth-child(2) {\\n  width: 45%;\\n}\\n\\n.ship-components-table th:nth-child(3),\\n.ship-components-table td:nth-child(3) {\\n  width: 20%;\\n  text-align: right;\\n}\\n\\n.ship-components-table th:nth-child(4),\\n.ship-components-table td:nth-child(4) {\\n  width: 20%;\\n  text-align: right;\\n}\\n\\n.fittings-controls {\\n  margin-top: 2rem;\\n  padding-top: 2rem;\\n  border-top: 1px solid #e9ecef;\\n}\\n\\n.fittings-controls .form-group {\\n  margin-bottom: 2rem;\\n}\\n\\n.fittings-controls h3 {\\n  color: #2c3e50;\\n  margin-bottom: 1rem;\\n}\\n\\n/* Lazy loading fallback */\\n.loading-panel {\\n  padding: 3rem;\\n  text-align: center;\\n  color: #7f8c8d;\\n  font-style: italic;\\n  min-height: 200px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","import type { ShipDesign } from '../types/ship';\nimport { cleanInvalidCargo } from '../data/constants';\n\nexport interface StoredShipDesign extends ShipDesign {\n  id: number;\n  createdAt: Date;\n  updatedAt: Date;\n}\n\nclass DatabaseService {\n  private db: IDBDatabase | null = null;\n  private readonly dbName = 'StarshipDesignerDB';\n  private readonly version = 2;\n\n  async initialize(): Promise<void> {\n    return new Promise((resolve, reject) => {\n      const request = indexedDB.open(this.dbName, this.version);\n\n      request.onerror = () => reject(request.error);\n      request.onsuccess = () => {\n        this.db = request.result;\n        resolve();\n      };\n\n      request.onupgradeneeded = async (event) => {\n        const db = (event.target as IDBOpenDBRequest).result;\n        const transaction = (event.target as IDBOpenDBRequest).transaction!;\n        const oldVersion = event.oldVersion;\n\n        // Version 1: Initial database creation\n        if (oldVersion < 1) {\n          if (!db.objectStoreNames.contains('ships')) {\n            const shipStore = db.createObjectStore('ships', { keyPath: 'id', autoIncrement: true });\n            shipStore.createIndex('name', 'ship.name', { unique: false });\n            shipStore.createIndex('createdAt', 'createdAt', { unique: false });\n          }\n        }\n\n        // Version 2: Add unique constraint and clean up duplicates\n        if (oldVersion < 2) {\n          const shipStore = transaction.objectStore('ships');\n          \n          // First, clean up duplicate \"Fat Trader\" ships\n          await this.cleanupDuplicateFatTraders(shipStore);\n          \n          // Delete the old non-unique index\n          if (shipStore.indexNames.contains('name')) {\n            shipStore.deleteIndex('name');\n          }\n          \n          // Create new unique index for ship names\n          shipStore.createIndex('name', 'ship.name', { unique: true });\n        }\n      };\n    });\n  }\n\n  private async cleanupDuplicateFatTraders(shipStore: IDBObjectStore): Promise<void> {\n    return new Promise((resolve, reject) => {\n      const nameIndex = shipStore.index('name');\n      const request = nameIndex.getAll('Fat Trader');\n      \n      request.onerror = () => reject(request.error);\n      request.onsuccess = () => {\n        const fatTraders = request.result;\n        \n        if (fatTraders.length > 1) {\n          // Sort by creation date and keep the oldest one\n          fatTraders.sort((a, b) => new Date(a.createdAt).getTime() - new Date(b.createdAt).getTime());\n          \n          // Delete all but the first (oldest) one\n          for (let i = 1; i < fatTraders.length; i++) {\n            shipStore.delete(fatTraders[i].id);\n          }\n        }\n        \n        resolve();\n      };\n    });\n  }\n\n  async getAllShips(): Promise<StoredShipDesign[]> {\n    if (!this.db) throw new Error('Database not initialized');\n\n    return new Promise((resolve, reject) => {\n      const transaction = this.db!.transaction(['ships'], 'readonly');\n      const store = transaction.objectStore('ships');\n      const request = store.getAll();\n\n      request.onerror = () => reject(request.error);\n      request.onsuccess = () => {\n        const ships = request.result.map((ship: StoredShipDesign) => ({\n          ...ship,\n          cargo: cleanInvalidCargo(ship.cargo),\n          createdAt: new Date(ship.createdAt),\n          updatedAt: new Date(ship.updatedAt)\n        }));\n        resolve(ships);\n      };\n    });\n  }\n\n  async getShipById(id: number): Promise<StoredShipDesign | null> {\n    if (!this.db) throw new Error('Database not initialized');\n\n    return new Promise((resolve, reject) => {\n      const transaction = this.db!.transaction(['ships'], 'readonly');\n      const store = transaction.objectStore('ships');\n      const request = store.get(id);\n\n      request.onerror = () => reject(request.error);\n      request.onsuccess = () => {\n        const ship = request.result;\n        if (ship) {\n          resolve({\n            ...ship,\n            cargo: cleanInvalidCargo(ship.cargo),\n            createdAt: new Date(ship.createdAt),\n            updatedAt: new Date(ship.updatedAt)\n          });\n        } else {\n          resolve(null);\n        }\n      };\n    });\n  }\n\n  async saveShip(shipDesign: ShipDesign): Promise<number> {\n    if (!this.db) throw new Error('Database not initialized');\n\n    return new Promise((resolve, reject) => {\n      const transaction = this.db!.transaction(['ships'], 'readwrite');\n      const store = transaction.objectStore('ships');\n      \n      // First check if a ship with this name already exists\n      const nameIndex = store.index('name');\n      const checkRequest = nameIndex.get(shipDesign.ship.name);\n      \n      checkRequest.onerror = () => reject(checkRequest.error);\n      checkRequest.onsuccess = () => {\n        if (checkRequest.result) {\n          reject(new Error(`A ship named \"${shipDesign.ship.name}\" already exists. Please choose a different name.`));\n          return;\n        }\n        \n        // Name is unique, proceed with saving\n        const now = new Date();\n        const shipToSave = {\n          ...shipDesign,\n          createdAt: now,\n          updatedAt: now\n        };\n\n        const request = store.add(shipToSave);\n        \n        request.onerror = () => {\n          // Handle the case where the unique constraint fails at the database level\n          if (request.error?.name === 'ConstraintError') {\n            reject(new Error(`A ship named \"${shipDesign.ship.name}\" already exists. Please choose a different name.`));\n          } else {\n            reject(request.error);\n          }\n        };\n        request.onsuccess = () => resolve(request.result as number);\n      };\n    });\n  }\n\n  async updateShip(id: number, shipDesign: ShipDesign): Promise<void> {\n    if (!this.db) throw new Error('Database not initialized');\n\n    return new Promise((resolve, reject) => {\n      const transaction = this.db!.transaction(['ships'], 'readwrite');\n      const store = transaction.objectStore('ships');\n      \n      const getRequest = store.get(id);\n      \n      getRequest.onerror = () => reject(getRequest.error);\n      getRequest.onsuccess = () => {\n        const existingShip = getRequest.result;\n        if (!existingShip) {\n          reject(new Error('Ship not found'));\n          return;\n        }\n\n        // Check if name is changing and if new name already exists\n        if (existingShip.ship.name !== shipDesign.ship.name) {\n          const nameIndex = store.index('name');\n          const checkRequest = nameIndex.get(shipDesign.ship.name);\n          \n          checkRequest.onerror = () => reject(checkRequest.error);\n          checkRequest.onsuccess = () => {\n            if (checkRequest.result) {\n              reject(new Error(`A ship named \"${shipDesign.ship.name}\" already exists. Please choose a different name.`));\n              return;\n            }\n            \n            // Name is unique, proceed with update\n            performUpdate();\n          };\n        } else {\n          // Name hasn't changed, proceed with update\n          performUpdate();\n        }\n\n        function performUpdate() {\n          const updatedShip = {\n            ...shipDesign,\n            id,\n            createdAt: existingShip.createdAt,\n            updatedAt: new Date()\n          };\n\n          const putRequest = store.put(updatedShip);\n          putRequest.onerror = () => {\n            // Handle the case where the unique constraint fails at the database level\n            if (putRequest.error?.name === 'ConstraintError') {\n              reject(new Error(`A ship named \"${shipDesign.ship.name}\" already exists. Please choose a different name.`));\n            } else {\n              reject(putRequest.error);\n            }\n          };\n          putRequest.onsuccess = () => resolve();\n        }\n      };\n    });\n  }\n\n  async deleteShip(id: number): Promise<void> {\n    if (!this.db) throw new Error('Database not initialized');\n\n    return new Promise((resolve, reject) => {\n      const transaction = this.db!.transaction(['ships'], 'readwrite');\n      const store = transaction.objectStore('ships');\n      const request = store.delete(id);\n\n      request.onerror = () => reject(request.error);\n      request.onsuccess = () => resolve();\n    });\n  }\n\n  async hasAnyShips(): Promise<boolean> {\n    if (!this.db) throw new Error('Database not initialized');\n\n    return new Promise((resolve, reject) => {\n      const transaction = this.db!.transaction(['ships'], 'readonly');\n      const store = transaction.objectStore('ships');\n      const request = store.count();\n\n      request.onerror = () => reject(request.error);\n      request.onsuccess = () => resolve(request.result > 0);\n    });\n  }\n\n  async flushAllShips(): Promise<void> {\n    if (!this.db) throw new Error('Database not initialized');\n\n    return new Promise((resolve, reject) => {\n      const transaction = this.db!.transaction(['ships'], 'readwrite');\n      const store = transaction.objectStore('ships');\n      const request = store.clear();\n\n      request.onerror = () => reject(request.error);\n      request.onsuccess = () => resolve();\n    });\n  }\n\n  async getShipByName(name: string): Promise<StoredShipDesign | null> {\n    if (!this.db) throw new Error('Database not initialized');\n\n    return new Promise((resolve, reject) => {\n      const transaction = this.db!.transaction(['ships'], 'readonly');\n      const store = transaction.objectStore('ships');\n      const nameIndex = store.index('name');\n      const request = nameIndex.get(name);\n\n      request.onerror = () => reject(request.error);\n      request.onsuccess = () => {\n        const ship = request.result;\n        if (ship) {\n          resolve({\n            ...ship,\n            createdAt: new Date(ship.createdAt),\n            updatedAt: new Date(ship.updatedAt)\n          });\n        } else {\n          resolve(null);\n        }\n      };\n    });\n  }\n\n  async shipNameExists(name: string): Promise<boolean> {\n    if (!this.db) throw new Error('Database not initialized');\n    if (!name.trim()) return false;\n\n    return new Promise((resolve, reject) => {\n      const transaction = this.db!.transaction(['ships'], 'readonly');\n      const store = transaction.objectStore('ships');\n      const nameIndex = store.index('name');\n      const request = nameIndex.get(name.trim());\n\n      request.onerror = () => reject(request.error);\n      request.onsuccess = () => resolve(!!request.result);\n    });\n  }\n\n  async saveOrUpdateShipByName(shipDesign: ShipDesign): Promise<number> {\n    if (!this.db) throw new Error('Database not initialized');\n\n    return new Promise((resolve, reject) => {\n      const transaction = this.db!.transaction(['ships'], 'readwrite');\n      const store = transaction.objectStore('ships');\n      const nameIndex = store.index('name');\n      const checkRequest = nameIndex.get(shipDesign.ship.name);\n      \n      checkRequest.onerror = () => reject(checkRequest.error);\n      checkRequest.onsuccess = () => {\n        const existingShip = checkRequest.result;\n        \n        if (existingShip) {\n          // Ship exists, update it\n          const updatedShip = {\n            ...shipDesign,\n            id: existingShip.id,\n            createdAt: existingShip.createdAt,\n            updatedAt: new Date()\n          };\n\n          const putRequest = store.put(updatedShip);\n          putRequest.onerror = () => reject(putRequest.error);\n          putRequest.onsuccess = () => resolve(existingShip.id);\n        } else {\n          // Ship doesn't exist, create new one\n          const now = new Date();\n          const shipToSave = {\n            ...shipDesign,\n            createdAt: now,\n            updatedAt: now\n          };\n\n          const addRequest = store.add(shipToSave);\n          addRequest.onerror = () => reject(addRequest.error);\n          addRequest.onsuccess = () => resolve(addRequest.result as number);\n        }\n      };\n    });\n  }\n}\n\nexport const databaseService = new DatabaseService();","\"use strict\";\n\nvar memo = {};\n\n/* istanbul ignore next  */\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target);\n\n    // Special case to return head of iframe instead of iframe itself\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n    memo[target] = styleTarget;\n  }\n  return memo[target];\n}\n\n/* istanbul ignore next  */\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n  target.appendChild(style);\n}\nmodule.exports = insertBySelector;","export const TECH_LEVELS = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H'];\n\nexport function getTechLevelIndex(techLevel: string): number {\n  return TECH_LEVELS.indexOf(techLevel);\n}\n\nexport function isTechLevelAtLeast(currentLevel: string, requiredLevel: string): boolean {\n  const currentIndex = getTechLevelIndex(currentLevel);\n  const requiredIndex = getTechLevelIndex(requiredLevel);\n\n  // If either tech level is invalid, return false\n  if (currentIndex === -1 || requiredIndex === -1) {\n    return false;\n  }\n\n  return currentIndex >= requiredIndex;\n}\n\n// Calculate maximum jump performance based on tech level\n// TL A (10) = J-1, TL B (11) = J-2, TL C (12) = J-3, TL D (13) = J-4, TL E (14) = J-5, TL F+ (15+) = J-6\nexport function getMaxJumpByTechLevel(techLevel: string): number {\n  const tlIndex = getTechLevelIndex(techLevel);\n\n  // Tech level A (index 0) = TL 10 = J-1\n  // Tech level B (index 1) = TL 11 = J-2\n  // etc.\n  const maxJump = tlIndex + 1;\n\n  // Cap at J-6 (for TL F and above)\n  return Math.min(maxJump, 6);\n}\n\n// Tonnage code table for capital ships (3,000+ tons)\nexport const TONNAGE_CODES = [\n  { minTonnage: 3000, code: 'CA' },\n  { minTonnage: 4000, code: 'CB' },\n  { minTonnage: 5000, code: 'CC' },\n  { minTonnage: 6000, code: 'CD' },\n  { minTonnage: 7500, code: 'CE' },\n  { minTonnage: 10000, code: 'CF' },\n  { minTonnage: 15000, code: 'CG' },\n  { minTonnage: 20000, code: 'CH' },\n  { minTonnage: 25000, code: 'CJ' },\n  { minTonnage: 30000, code: 'CK' },\n  { minTonnage: 40000, code: 'CL' },\n  { minTonnage: 50000, code: 'CM' },\n  { minTonnage: 60000, code: 'CN' },\n  { minTonnage: 75000, code: 'CP' },\n  { minTonnage: 100000, code: 'CQ' },\n  { minTonnage: 200000, code: 'CR' },\n  { minTonnage: 300000, code: 'CS' },\n  { minTonnage: 400000, code: 'CT' },\n  { minTonnage: 500000, code: 'CU' },\n  { minTonnage: 600000, code: 'CV' },\n  { minTonnage: 700000, code: 'CW' },\n  { minTonnage: 800000, code: 'CX' },\n  { minTonnage: 900000, code: 'CY' },\n  { minTonnage: 1000000, code: 'CZ' }\n];\n\n// Get tonnage code based on ship tonnage\nexport function getTonnageCode(tonnage: number): string | null {\n  // Ships under 3,000 tons don't have a tonnage code\n  if (tonnage < 3000) {\n    return null;\n  }\n\n  // Find the highest threshold that the ship meets\n  // Iterate in reverse to find the largest matching code\n  for (let i = TONNAGE_CODES.length - 1; i >= 0; i--) {\n    if (tonnage >= TONNAGE_CODES[i].minTonnage) {\n      return TONNAGE_CODES[i].code;\n    }\n  }\n\n  return null;\n}\n\n// Get number of sections based on hull code\nexport function getNumberOfSections(tonnage: number): number | null {\n  const hullCode = getTonnageCode(tonnage);\n\n  if (!hullCode) {\n    return null; // Ships under 3,000 tons don't have sections\n  }\n\n  // Determine sections based on hull code ranges\n  // CA-CE: 2 sections\n  if (hullCode >= 'CA' && hullCode <= 'CE') return 2;\n  // CF-CK: 3 sections\n  if (hullCode >= 'CF' && hullCode <= 'CK') return 3;\n  // CL-CQ: 4 sections\n  if (hullCode >= 'CL' && hullCode <= 'CQ') return 4;\n  // CR-CV: 5 sections\n  if (hullCode >= 'CR' && hullCode <= 'CV') return 5;\n  // CW-CZ: 6 sections\n  if (hullCode >= 'CW' && hullCode <= 'CZ') return 6;\n\n  return null;\n}\n\n// Generate hull sizes as multiples of 100 from 100 to 1,000,000\nexport const HULL_SIZES = Array.from({ length: 10000 }, (_, i) => {\n  const tonnage = (i + 1) * 100;\n  // Hull cost is tonnage / 10 MCr (simplified formula)\n  const cost = tonnage / 10;\n  // Generate hull code (simplified: just use tonnage value)\n  const code = tonnage.toString();\n  return { tonnage, code, cost };\n});\n\n// Engine performance percentages as a function of ship displacement\nexport const ENGINE_PERFORMANCE_PERCENTAGES = {\n  power_plant: {\n    1: 1.5,\n    2: 2.0,\n    3: 2.5,\n    4: 3.0,\n    5: 4.0,\n    6: 5.0\n  },\n  maneuver_drive: {\n    1: 1.0,\n    2: 1.25,\n    3: 1.5,\n    4: 1.75,\n    5: 2.5,\n    6: 3.25\n  },\n  jump_drive: {\n    1: 2.0,\n    2: 3.0,\n    3: 4.0,\n    4: 5.0,\n    5: 6.0,\n    6: 7.0\n  }\n};\n\n// Cost per ton for each engine type (in MCr per ton)\nexport const ENGINE_COST_PER_TON = {\n  power_plant: 2.0,\n  maneuver_drive: 2.0,\n  jump_drive: 1.0\n};\n\n// Calculate engine mass and cost based on performance and ship tonnage\nexport function calculateEngineMassAndCost(\n  shipTonnage: number,\n  engineType: 'power_plant' | 'maneuver_drive' | 'jump_drive',\n  performance: number\n): { mass: number; cost: number } {\n  if (performance < 1 || performance > 6) {\n    return { mass: 0, cost: 0 };\n  }\n\n  const percentage = ENGINE_PERFORMANCE_PERCENTAGES[engineType][performance as 1 | 2 | 3 | 4 | 5 | 6];\n  const mass = (shipTonnage * percentage) / 100;\n  const costPerTon = ENGINE_COST_PER_TON[engineType];\n  const cost = mass * costPerTon;\n\n  return { mass, cost };\n}\n\nexport function getAvailableEngines(hullTonnage: number, engineType: string, powerPlantPerformance?: number, techLevel?: string) {\n  const availableEngines = [];\n\n  const performanceLabel = engineType === 'jump_drive' ? 'J' :\n                          engineType === 'maneuver_drive' ? 'M' : 'P';\n\n  // For jump drives, determine max performance based on tech level\n  let maxPerformance = 6;\n  if (engineType === 'jump_drive' && techLevel) {\n    maxPerformance = getMaxJumpByTechLevel(techLevel);\n  }\n\n  // Generate engines for performance ratings 1 up to max allowed\n  for (let performance = 1; performance <= maxPerformance; performance++) {\n    // For Jump and Maneuver drives, check power plant requirement\n    if ((engineType === 'jump_drive' || engineType === 'maneuver_drive') && powerPlantPerformance !== undefined) {\n      if (performance > powerPlantPerformance) {\n        continue; // Skip this drive if it requires more power than available\n      }\n    }\n\n    const { mass, cost } = calculateEngineMassAndCost(\n      hullTonnage,\n      engineType as 'power_plant' | 'maneuver_drive' | 'jump_drive',\n      performance\n    );\n\n    availableEngines.push({\n      code: `${performanceLabel}-${performance}`,\n      performance: performance,\n      mass: mass,\n      cost: cost,\n      label: `${performanceLabel}-${performance} (${mass.toFixed(1)}t, ${cost.toFixed(2)} MCr)`\n    });\n  }\n\n  return availableEngines;\n}\n\nexport function calculateJumpFuel(shipTonnage: number, jumpPerformance: number): number {\n  // Jump fuel: 0.1 * ship mass * jump rating per jump\n  return shipTonnage * 0.1 * jumpPerformance;\n}\n\nexport function calculateManeuverFuel(shipTonnage: number, maneuverPerformance: number, weeks: number): number {\n  // Maneuver fuel: 0.01 * ship mass * maneuver rating * (weeks / 2)\n  // Base is 2 weeks for M-1 at 1% of ship mass\n  return shipTonnage * 0.01 * maneuverPerformance * (weeks / 2);\n}\n\nexport function calculateTotalFuelMass(shipTonnage: number, jumpPerformance: number, maneuverPerformance: number, weeks: number, useAntimatter: boolean = false): number {\n  const jumpFuel = calculateJumpFuel(shipTonnage, jumpPerformance);\n  const maneuverFuel = calculateManeuverFuel(shipTonnage, maneuverPerformance, weeks);\n  const totalFuel = jumpFuel + maneuverFuel;\n\n  // If antimatter is enabled, fuel takes only 10% of normal values\n  return useAntimatter ? totalFuel * 0.1 : totalFuel;\n}\n\n// Armor calculations based on tech level\n// TL A-D (10-13): Crystaliron, AF-4 per 5% of ship tonnage\n// TL E+ (14+): Advanced armor, AF-6 per 5% of ship tonnage\nexport function getArmorFactorPerIncrement(techLevel: string): number {\n  const tlIndex = getTechLevelIndex(techLevel);\n  // TL A-D (indices 0-3) = AF-4 per 5%\n  // TL E+ (indices 4+) = AF-6 per 5%\n  return tlIndex >= 4 ? 6 : 4;\n}\n\nexport function getMaxArmorFactor(techLevel: string): number {\n  // Max armor factor equals the tech level number\n  // TL A (10) = max AF 10, TL B (11) = max AF 11, etc.\n  const tlIndex = getTechLevelIndex(techLevel);\n  return tlIndex + 10; // A=10, B=11, C=12, D=13, E=14, F=15, G=16, H=17\n}\n\nexport function getAvailableArmorOptions(techLevel: string): Array<{ percentage: number; armorFactor: number; label: string }> {\n  const afPerIncrement = getArmorFactorPerIncrement(techLevel);\n  const maxAF = getMaxArmorFactor(techLevel);\n  const options = [];\n\n  // Each 5% increment provides AF based on tech level\n  for (let percentage = 5; percentage <= 100; percentage += 5) {\n    const armorFactor = Math.floor(percentage / 5) * afPerIncrement;\n\n    // Stop if we exceed max armor factor for this tech level\n    if (armorFactor > maxAF) break;\n\n    const armorType = afPerIncrement === 4 ? 'Crystaliron' : 'Advanced';\n    options.push({\n      percentage,\n      armorFactor,\n      label: `${percentage}% (AF-${armorFactor}, ${armorType})`\n    });\n  }\n\n  return options;\n}\n\nexport function calculateArmorMass(shipTonnage: number, armorPercentage: number): number {\n  return (shipTonnage * armorPercentage) / 100;\n}\n\nexport function calculateArmorCost(armorMass: number): number {\n  // Armor costs 0.1 MCr per ton\n  return armorMass * 0.1;\n}\n\nexport const WEAPON_TYPES = [\n  { name: 'Pulse Laser Turret', mass: 2, cost: 1.5 },\n  { name: 'Dual Pulse Laser Turret', mass: 2, cost: 2 },\n  { name: 'Triple Pulse Laser Turret', mass: 2, cost: 2.5 },\n  { name: 'Beam Laser Turret', mass: 2, cost: 2 },\n  { name: 'Dual Beam Laser Turret', mass: 2, cost: 3 },\n  { name: 'Triple Beam Laser Turret', mass: 2, cost: 4 },\n  { name: 'Plasma Beam Barbette', mass: 10, cost: 6 },\n  { name: 'Dual Plasma Beam Barbette', mass: 10, cost: 7 },\n  { name: 'Fusion Gun Barbette', mass: 10, cost: 10 },\n  { name: 'Dual Fusion Gun Barbette', mass: 10, cost: 16 },\n  { name: 'Particle Beam Barbette', mass: 10, cost: 14 },\n  { name: 'Missile Launcher Turret', mass: 1, cost: 1.8 },\n  { name: 'Dual Missile Launcher Turret', mass: 1, cost: 2.5 },\n  { name: 'Triple Missile Launcher Turret', mass: 1, cost: 3.3 },\n  { name: 'Hard Point', mass: 1, cost: 1 }\n];\n\n// Bay weapon types - 50 tons each, 2 gunners each\n// Available based on power plant performance and ship tonnage\nexport const BAY_WEAPON_TYPES = [\n  { name: 'Missile Bank', mass: 50, cost: 12, minTechLevel: null },\n  { name: 'Particle Beam Bay', mass: 50, cost: 20, minTechLevel: null },\n  { name: 'Fusion Gun Bay', mass: 50, cost: 8, minTechLevel: 'C' }, // TL-C = 12\n  { name: 'Meson Gun Bay', mass: 50, cost: 50, minTechLevel: 'B' } // TL-B = 11\n];\n\n// Calculate max bay weapons based on power plant and tonnage\n// Formula: powerPlantPerformance  (shipTonnage / 1000)\nexport function getMaxBayWeapons(powerPlantPerformance: number, shipTonnage: number): number {\n  if (powerPlantPerformance < 1) return 0;\n  const baysPerThousandTons = powerPlantPerformance; // P-1=1, P-2=2, etc.\n  return Math.floor((shipTonnage / 1000) * baysPerThousandTons);\n}\n\n// Get available bay weapons for current tech level\nexport function getAvailableBayWeapons(techLevel: string): typeof BAY_WEAPON_TYPES {\n  return BAY_WEAPON_TYPES.filter(bay => {\n    if (!bay.minTechLevel) return true;\n    const bayTechLevelIndex = TECH_LEVELS.indexOf(bay.minTechLevel);\n    const shipTechLevelIndex = TECH_LEVELS.indexOf(techLevel);\n    return shipTechLevelIndex >= bayTechLevelIndex;\n  });\n}\n\n// Spinal weapon types - requires P-2+ power plant\nexport const SPINAL_WEAPON_TYPES = [\n  // Particle weapons\n  { name: 'Particle Spinal Mount A', type: 'particle', code: 'A', baseTL: 8, baseMass: 5000, baseDamage: 200, baseCost: 3500 },\n  { name: 'Particle Spinal Mount B', type: 'particle', code: 'B', baseTL: 12, baseMass: 3000, baseDamage: 300, baseCost: 2100 },\n  { name: 'Particle Spinal Mount C', type: 'particle', code: 'C', baseTL: 10, baseMass: 5000, baseDamage: 300, baseCost: 3500 },\n  { name: 'Particle Spinal Mount D', type: 'particle', code: 'D', baseTL: 14, baseMass: 3500, baseDamage: 400, baseCost: 2500 },\n  { name: 'Particle Spinal Mount E', type: 'particle', code: 'E', baseTL: 12, baseMass: 4000, baseDamage: 400, baseCost: 2800 },\n  // Meson weapons\n  { name: 'Meson Spinal Mount A', type: 'meson', code: 'A', baseTL: 11, baseMass: 5000, baseDamage: 200, baseCost: 5000 },\n  { name: 'Meson Spinal Mount B', type: 'meson', code: 'B', baseTL: 11, baseMass: 8000, baseDamage: 250, baseCost: 8000 },\n  { name: 'Meson Spinal Mount C', type: 'meson', code: 'C', baseTL: 12, baseMass: 10000, baseDamage: 350, baseCost: 10000 },\n  { name: 'Meson Spinal Mount D', type: 'meson', code: 'D', baseTL: 13, baseMass: 14000, baseDamage: 450, baseCost: 14000 }\n];\n\n// Calculate TL bonus modifiers for spinal weapons\nfunction calculateSpinalWeaponTLBonus(weaponType: 'particle' | 'meson', tlDifference: number): { sizeModifier: number; damageModifier: number } {\n  if (tlDifference <= 0) {\n    return { sizeModifier: 1.0, damageModifier: 1.0 };\n  }\n\n  // Cap at TL+4\n  const cappedTLDiff = Math.min(tlDifference, 4);\n\n  if (weaponType === 'particle') {\n    // Particle: Size/Cost -10% per TL, Damage +5% per TL\n    const sizeModifier = 1.0 - (cappedTLDiff * 0.10);\n    const damageModifier = 1.0 + (cappedTLDiff * 0.05);\n    return { sizeModifier, damageModifier };\n  } else {\n    // Meson: Size/Cost -20% per TL, Damage +10% per TL\n    const sizeModifier = 1.0 - (cappedTLDiff * 0.20);\n    const damageModifier = 1.0 + (cappedTLDiff * 0.10);\n    return { sizeModifier, damageModifier };\n  }\n}\n\n// Get available spinal weapons based on tech level and power plant performance\n// Returns weapons with TL-adjusted mass, damage, and cost\nexport function getAvailableSpinalWeapons(techLevel: string, powerPlantPerformance: number) {\n  // Spinal weapons require P-2 or higher\n  if (powerPlantPerformance < 2) {\n    return [];\n  }\n\n  const techLevelNum = convertTechLevelToNumber(techLevel);\n\n  return SPINAL_WEAPON_TYPES\n    .filter(weapon => techLevelNum >= weapon.baseTL)\n    .map(weapon => {\n      const tlDifference = techLevelNum - weapon.baseTL;\n      const { sizeModifier, damageModifier } = calculateSpinalWeaponTLBonus(weapon.type as 'particle' | 'meson', tlDifference);\n\n      return {\n        ...weapon,\n        mass: Math.round(weapon.baseMass * sizeModifier),\n        cost: Math.round(weapon.baseCost * sizeModifier),\n        damage: Math.round(weapon.baseDamage * damageModifier),\n        tlBonus: tlDifference > 0 ? `TL+${tlDifference}` : undefined\n      };\n    });\n}\n\nexport function getSpinalWeaponMass(spinalWeaponName: string, techLevel: string): number {\n  const techLevelNum = convertTechLevelToNumber(techLevel);\n  const baseWeapon = SPINAL_WEAPON_TYPES.find(w => w.name === spinalWeaponName);\n\n  if (!baseWeapon) return 0;\n\n  const tlDifference = techLevelNum - baseWeapon.baseTL;\n  const { sizeModifier } = calculateSpinalWeaponTLBonus(baseWeapon.type as 'particle' | 'meson', tlDifference);\n\n  return Math.round(baseWeapon.baseMass * sizeModifier);\n}\n\nexport function getSpinalWeaponMountUsage(spinalWeaponName: string | undefined, techLevel: string): number {\n  if (!spinalWeaponName) return 0;\n\n  const mass = getSpinalWeaponMass(spinalWeaponName, techLevel);\n  return Math.floor(mass / 100);\n}\n\nexport const DEFENSE_TYPES = [\n  { name: 'Sandcaster Turret', type: 'sandcaster_turret', mass: 1, cost: 1.3 },\n  { name: 'Dual Sandcaster Turret', type: 'dual_sandcaster_turret', mass: 1, cost: 1.5 },\n  { name: 'Triple Sandcaster Turret', type: 'triple_sandcaster_turret', mass: 1, cost: 1.8 },\n  { name: 'Point Defense Laser Turret', type: 'point_defense_laser_turret', mass: 1, cost: 1 },\n  { name: 'Dual Point Defense Laser Turret', type: 'dual_point_defense_laser_turret', mass: 1, cost: 1.5 }\n];\n\n// Screen types with TL-based quantity limits\nexport const SCREEN_TL_LIMITS = {\n  nuclear_damper: { 12: 1, 13: 2, 14: 4, 15: 6 },\n  meson_screen: { 12: 1, 13: 2, 14: 4, 15: 6 },\n  black_globe: { 15: 3 }\n};\n\n// Screen specs by hull code\nconst SCREEN_SPECS_BY_HULL: Record<string, Record<string, { mass: number; cost: number }>> = {\n  'CA-CE': { nuclear_damper: { mass: 20, cost: 30 }, meson_screen: { mass: 50, cost: 70 }, black_globe: { mass: 10, cost: 100 } },\n  'CF-CK': { nuclear_damper: { mass: 30, cost: 40 }, meson_screen: { mass: 60, cost: 80 }, black_globe: { mass: 15, cost: 150 } },\n  'CL-CQ': { nuclear_damper: { mass: 40, cost: 50 }, meson_screen: { mass: 70, cost: 90 }, black_globe: { mass: 20, cost: 200 } },\n  'CR-CV': { nuclear_damper: { mass: 50, cost: 60 }, meson_screen: { mass: 80, cost: 100 }, black_globe: { mass: 25, cost: 250 } },\n  'CW-CZ': { nuclear_damper: { mass: 60, cost: 70 }, meson_screen: { mass: 90, cost: 110 }, black_globe: { mass: 30, cost: 300 } }\n};\n\n// Get maximum screens allowed based on TL\nexport function getMaxScreens(screenType: 'nuclear_damper' | 'meson_screen' | 'black_globe', techLevel: string): number {\n  const tlNum = convertTechLevelToNumber(techLevel);\n  const limits = SCREEN_TL_LIMITS[screenType];\n\n  // Find the highest TL we meet or exceed\n  let maxScreens = 0;\n  Object.entries(limits).forEach(([tl, count]) => {\n    if (tlNum >= parseInt(tl)) {\n      maxScreens = count;\n    }\n  });\n\n  return maxScreens;\n}\n\n// Get screen specs based on hull code\nexport function getScreenSpecs(screenType: 'nuclear_damper' | 'meson_screen' | 'black_globe', shipTonnage: number): { mass: number; cost: number } | null {\n  const hullCode = getTonnageCode(shipTonnage);\n  if (!hullCode) return null;\n\n  // Determine hull code range\n  let hullRange: string;\n  if (hullCode >= 'CA' && hullCode <= 'CE') hullRange = 'CA-CE';\n  else if (hullCode >= 'CF' && hullCode <= 'CK') hullRange = 'CF-CK';\n  else if (hullCode >= 'CL' && hullCode <= 'CQ') hullRange = 'CL-CQ';\n  else if (hullCode >= 'CR' && hullCode <= 'CV') hullRange = 'CR-CV';\n  else if (hullCode >= 'CW' && hullCode <= 'CZ') hullRange = 'CW-CZ';\n  else return null;\n\n  return SCREEN_SPECS_BY_HULL[hullRange][screenType];\n}\n\nexport const BERTH_TYPES = [\n  { name: 'Staterooms', type: 'staterooms', mass: 4, cost: 0.5, required: true },\n  { name: 'Luxury Staterooms', type: 'luxury_staterooms', mass: 5, cost: 0.6, required: false },\n  { name: 'Low Berths', type: 'low_berths', mass: 0.5, cost: 0.05, required: false },\n  { name: 'Emergency Low', type: 'emergency_low_berths', mass: 1, cost: 1, required: false }\n];\n\nexport const FACILITY_TYPES = [\n  { name: 'Gym', type: 'gym', mass: 3, cost: 0.1 },\n  { name: 'Spa', type: 'spa', mass: 1.5, cost: 0.2 },\n  { name: 'Garden', type: 'garden', mass: 4, cost: 0.05 },\n  { name: 'Commissary', type: 'commissary', mass: 2, cost: 0.2, required: true },\n  { name: 'Kitchens', type: 'kitchens', mass: 3, cost: 0.4 },\n  { name: 'Officers Mess & Bar', type: 'officers_mess_bar', mass: 4, cost: 0.3 },\n  { name: 'First Aid Station', type: 'first_aid_station', mass: 0.5, cost: 0.1 },\n  { name: 'Autodoc', type: 'autodoc', mass: 1.5, cost: 0.05 },\n  { name: 'Medical Bay', type: 'medical_bay', mass: 4, cost: 2 },\n  { name: 'Surgical Bay', type: 'surgical_bay', mass: 5, cost: 8 },\n  { name: 'Medical Garden', type: 'medical_garden', mass: 4, cost: 1 },\n  { name: 'Library', type: 'library', mass: 1, cost: 0.1 },\n  { name: 'Range', type: 'range', mass: 2, cost: 2 },\n  { name: 'Club', type: 'club', mass: 3, cost: 0.1 },\n  { name: 'Park', type: 'park', mass: 6, cost: 1 },\n  { name: 'Shrine', type: 'shrine', mass: 1, cost: 1 }\n];\n\nexport const VEHICLE_TYPES = [\n  { name: 'Honey Badger 4 ton Off-Roader', type: 'honey_badger_off_roader', mass: 4, cost: 0.052436, techLevel: 12, serviceStaff: 1 },\n  { name: 'All-Terrain Vehicle tracked', type: 'atv_tracked', mass: 10, cost: 0.195, techLevel: 12, serviceStaff: 1 },\n  { name: 'All-Terrain Vehicle wheeled', type: 'atv_wheeled', mass: 10, cost: 0.23, techLevel: 12, serviceStaff: 1 },\n  { name: 'Air/Raft Truck', type: 'air_raft_truck', mass: 5, cost: 0.55, techLevel: 12, serviceStaff: 1 },\n  { name: 'Open Top Air/Raft', type: 'open_top_air_raft', mass: 4, cost: 0.045, techLevel: 8, serviceStaff: 1 },\n  { name: 'Fire Scorpion 65 ton Quad Walker', type: 'fire_scorpion_walker', mass: 65, cost: 18, techLevel: 10, serviceStaff: 3 },\n  { name: 'Socrates Field Car', type: 'socrates_field_car', mass: 5, cost: 0.143, techLevel: 9, serviceStaff: 1 },\n  { name: '6 ton UFO Floating Home', type: 'ufo_floating_home', mass: 6, cost: 0.05, techLevel: 8, serviceStaff: 1 },\n  { name: 'Sealed Air/Raft (4 ton)', type: 'sealed_air_raft_4t', mass: 4, cost: 0.09, techLevel: 12, serviceStaff: 1 },\n  { name: 'Iderati Pattern Armored Fighting Vehicle', type: 'iderati_afv', mass: 10, cost: 0.6, techLevel: 12, serviceStaff: 1 },\n  { name: '22 ton AAT Infantry Support Vehicle', type: 'aat_infantry_support', mass: 22, cost: 2, techLevel: 14, serviceStaff: 1 },\n  { name: 'Sealed Air/Raft (3 ton)', type: 'sealed_air_raft_3t', mass: 3, cost: 0.07, techLevel: 12, serviceStaff: 1 },\n  { name: 'Pug 4x4 4 ton Armored Car', type: 'pug_armored_car', mass: 4, cost: 0.025, techLevel: 6, serviceStaff: 1 },\n  { name: '1.5 ton Custom Exploration G/Bike', type: 'exploration_gbike', mass: 1.5, cost: 0.08, techLevel: 10, serviceStaff: 1 },\n  { name: 'Awesome AWS-8Q 80 ton Walker', type: 'awesome_walker', mass: 80, cost: 22, techLevel: 10, serviceStaff: 4 },\n  { name: 'Socrates Field Car (Variant)', type: 'socrates_field_car_variant', mass: 5, cost: 0.168, techLevel: 9, serviceStaff: 1 },\n  { name: 'Armored Fighting Vehicle', type: 'armored_fighting_vehicle', mass: 10, cost: 0.198, techLevel: 12, serviceStaff: 1 },\n  { name: 'Fury Helicopter Gunship (Refit)', type: 'fury_helicopter_gunship', mass: 8, cost: 1.2, techLevel: 8, serviceStaff: 1 }\n];\n\nexport const DRONE_TYPES = [\n  { name: 'War', type: 'war', mass: 10, cost: 2 },\n  { name: 'Repair', type: 'repair', mass: 10, cost: 1 },\n  { name: 'Rescue', type: 'rescue', mass: 10, cost: 0.5 },\n  { name: 'Sensor', type: 'sensor', mass: 1, cost: 1 },\n  { name: 'Comms', type: 'comms', mass: 0.1, cost: 0.2 },\n  { name: 'Centurion Security Robot', type: 'centurion_security_robot', mass: 0.5, cost: 0.12 },\n  { name: '0.5 ton Robodog Assault Bot', type: 'robodog_assault_bot', mass: 0.5, cost: 0.012 },\n  { name: 'ATLAS Combat Droid 1.0 ton', type: 'atlas_combat_droid', mass: 1, cost: 0.024 }\n];\n\nexport const CARGO_TYPES = [\n  { name: 'Cargo Bay', type: 'cargo_bay', costPerTon: 0 },\n  { name: 'Spares', type: 'spares', costPerTon: 0.5 },\n  { name: 'Cold Storage Bay', type: 'cold_storage_bay', costPerTon: 0.2 },\n  { name: 'Data Storage Bay', type: 'data_storage_bay', costPerTon: 0.3 },\n  { name: 'Secure Storage Bay', type: 'secure_storage_bay', costPerTon: 0.7 },\n  { name: 'Vacuum Bay', type: 'vacuum_bay', costPerTon: 0.2 },\n  { name: 'Livestock Bay', type: 'livestock_bay', costPerTon: 2 },\n  { name: 'Live Plant Bay', type: 'live_plant_bay', costPerTon: 1 }\n];\n\nconst VALID_CARGO_TYPES = new Set(CARGO_TYPES.map(ct => ct.type));\n\nexport function cleanInvalidCargo(cargo: any[]): any[] {\n  return cargo.filter(cargoItem => {\n    // Remove cargo entries with invalid types (e.g., old \"standard\" type)\n    return VALID_CARGO_TYPES.has(cargoItem.cargo_type) && cargoItem.tonnage > 0;\n  });\n}\n\nexport function getBridgeMassAndCost(shipTonnage: number, isHalfBridge: boolean) {\n  let bridgeMass: number;\n  \n  if (shipTonnage <= 200) {\n    bridgeMass = 10;\n  } else if (shipTonnage <= 1000) {\n    bridgeMass = 20;\n  } else if (shipTonnage <= 2000) {\n    bridgeMass = 40;\n  } else {\n    bridgeMass = 60;\n  }\n  \n  if (isHalfBridge) {\n    bridgeMass = bridgeMass / 2;\n    return { mass: bridgeMass, cost: bridgeMass * 1.5 };\n  }\n  \n  return { mass: bridgeMass, cost: bridgeMass * 0.5 };\n}\n\nexport const COMMS_SENSORS_TYPES = [\n  { name: 'Standard', type: 'standard', mass: 0, cost: 0 },\n  { name: 'Basic Civilian', type: 'basic_civilian', mass: 1, cost: 0.05 },\n  { name: 'Basic Military', type: 'basic_military', mass: 2, cost: 1 },\n  { name: 'Advanced', type: 'advanced', mass: 3, cost: 2 },\n  { name: 'Very Advanced', type: 'very_advanced', mass: 5, cost: 4 }\n];\n\n// Computer types - no tonnage, only cost\nexport const COMPUTER_TYPES = [\n  { name: 'Core/3', model: 'core_3', techLevel: 9, rating: 40, cost: 12 },\n  { name: 'Core/4', model: 'core_4', techLevel: 10, rating: 50, cost: 20 },\n  { name: 'Core/5', model: 'core_5', techLevel: 11, rating: 60, cost: 30 },\n  { name: 'Core/6', model: 'core_6', techLevel: 12, rating: 70, cost: 50 },\n  { name: 'Core/7', model: 'core_7', techLevel: 13, rating: 80, cost: 70 },\n  { name: 'Core/8', model: 'core_8', techLevel: 14, rating: 90, cost: 100 },\n  { name: 'Core/9', model: 'core_9', techLevel: 15, rating: 100, cost: 130 }\n];\n\n// Get minimum required computer based on ship size and jump performance\nexport function getMinimumComputer(shipTonnage: number, jumpPerformance: number): typeof COMPUTER_TYPES[0] | null {\n  // No computer required for ships under 3,000 tons\n  if (shipTonnage < 3000) {\n    return null;\n  }\n\n  // Determine minimum computer based on ship size and jump\n  if (shipTonnage >= 3000 && shipTonnage <= 5000) {\n    return jumpPerformance >= 2 ? COMPUTER_TYPES[0] : null; // Core/3\n  } else if (shipTonnage >= 5001 && shipTonnage <= 10000) {\n    return jumpPerformance >= 2 ? COMPUTER_TYPES[1] : null; // Core/4\n  } else if (shipTonnage >= 10001 && shipTonnage <= 50000) {\n    return jumpPerformance >= 3 ? COMPUTER_TYPES[2] : null; // Core/5\n  } else if (shipTonnage >= 50001 && shipTonnage <= 100000) {\n    return jumpPerformance >= 4 ? COMPUTER_TYPES[3] : null; // Core/6\n  } else if (shipTonnage >= 100001) {\n    if (jumpPerformance >= 6) {\n      return COMPUTER_TYPES[5]; // Core/8 for J-6+\n    } else if (jumpPerformance >= 5) {\n      return COMPUTER_TYPES[4]; // Core/7 for J-5\n    } else {\n      return null;\n    }\n  }\n\n  return null;\n}\n\n// Get available computers based on ship requirements and tech level\nexport function getAvailableComputers(shipTonnage: number, jumpPerformance: number, shipTechLevel: string) {\n  const minimumComputer = getMinimumComputer(shipTonnage, jumpPerformance);\n\n  if (!minimumComputer) {\n    return [];\n  }\n\n  const shipTL = convertTechLevelToNumber(shipTechLevel);\n  const minIndex = COMPUTER_TYPES.findIndex(c => c.name === minimumComputer.name);\n\n  // Return all computers from minimum required and up that meet TL requirements\n  return COMPUTER_TYPES.filter((computer, index) =>\n    index >= minIndex && computer.techLevel <= shipTL\n  );\n}\n\nexport function getWeaponMountLimit(shipTonnage: number): number {\n  return Math.floor(shipTonnage / 100);\n}\n\nexport function convertTechLevelToNumber(techLevel: string): number {\n  // Convert A=10, B=11, C=12, etc.\n  if (techLevel.length === 1 && techLevel >= 'A' && techLevel <= 'Z') {\n    return techLevel.charCodeAt(0) - 'A'.charCodeAt(0) + 10;\n  }\n  return parseInt(techLevel) || 0;\n}\n\nexport function getAvailableVehicles(shipTechLevel: string): typeof VEHICLE_TYPES {\n  const shipTL = convertTechLevelToNumber(shipTechLevel);\n  return VEHICLE_TYPES.filter(vehicle => vehicle.techLevel <= shipTL);\n}\n\nexport function calculateVehicleServiceStaff(vehicles: { vehicle_type: string; quantity: number }[]): number {\n  let totalServiceStaff = 0;\n  \n  for (const vehicle of vehicles) {\n    const vehicleType = VEHICLE_TYPES.find(vt => vt.type === vehicle.vehicle_type);\n    if (vehicleType) {\n      if (vehicleType.serviceStaff === 0.25) {\n        // Robodog: 0.25 per unit, rounded up per 4 units (1-4=1, 5-8=2, etc)\n        totalServiceStaff += Math.ceil((vehicle.quantity * vehicleType.serviceStaff));\n      } else if (vehicleType.serviceStaff === 0.5) {\n        // ATLAS: 0.5 per unit, rounded up per 2 units (1-2=1, 3-4=2, etc)  \n        totalServiceStaff += Math.ceil((vehicle.quantity * vehicleType.serviceStaff));\n      } else {\n        // Standard vehicles: 1 staff per unit (or 3/4 for walkers)\n        totalServiceStaff += vehicle.quantity * vehicleType.serviceStaff;\n      }\n    }\n  }\n  \n  return totalServiceStaff;\n}\n\nexport function calculateDroneServiceStaff(drones: { drone_type: string; quantity: number }[]): number {\n  let heavyDroneTonnage = 0; // 10 ton drones\n  let lightDroneTonnage = 0; // less than 10 ton drones\n  \n  for (const drone of drones) {\n    const droneType = DRONE_TYPES.find(dt => dt.type === drone.drone_type);\n    if (droneType) {\n      const droneTonnage = droneType.mass * drone.quantity;\n      if (droneType.mass >= 10) {\n        heavyDroneTonnage += droneTonnage;\n      } else {\n        lightDroneTonnage += droneTonnage;\n      }\n    }\n  }\n  \n  // Heavy drones (10+ tons): 1 staff per 100 tons\n  const heavyDroneStaff = Math.ceil(heavyDroneTonnage / 100);\n  \n  // Light drones (<10 tons): 1 staff per 20 tons\n  const lightDroneStaff = Math.ceil(lightDroneTonnage / 20);\n  \n  return heavyDroneStaff + lightDroneStaff;\n}\n\nexport function calculateMedicalStaff(facilities: { facility_type: string; quantity: number }[]): { nurses: number; surgeons: number; techs: number } {\n  let nurses = 0;\n  let surgeons = 0;\n  let techs = 0;\n  \n  for (const facility of facilities) {\n    if (facility.facility_type === 'med_bay') {\n      nurses += facility.quantity;\n    } else if (facility.facility_type === 'surgical_ward') {\n      surgeons += facility.quantity;\n      techs += facility.quantity;\n      nurses += facility.quantity;\n    }\n  }\n  \n  return { nurses, surgeons, techs };\n}","\"use strict\";\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n  var needLayer = typeof obj.layer !== \"undefined\";\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n  css += obj.css;\n  if (needLayer) {\n    css += \"}\";\n  }\n  if (obj.media) {\n    css += \"}\";\n  }\n  if (obj.supports) {\n    css += \"}\";\n  }\n  var sourceMap = obj.sourceMap;\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  }\n\n  // For old IE\n  /* istanbul ignore if  */\n  options.styleTagTransform(css, styleElement, options.options);\n}\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n  styleElement.parentNode.removeChild(styleElement);\n}\n\n/* istanbul ignore next  */\nfunction domAPI(options) {\n  if (typeof document === \"undefined\") {\n    return {\n      update: function update() {},\n      remove: function remove() {}\n    };\n  }\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\nmodule.exports = domAPI;"],"names":["module","exports","styleElement","nonce","setAttribute","stylesInDOM","getIndexByIdentifier","identifier","result","i","length","modulesToDom","list","options","idCountMap","identifiers","item","id","base","count","concat","indexByIdentifier","obj","css","media","sourceMap","supports","layer","references","updater","addElementStyle","byIndex","splice","push","api","domAPI","update","newObj","remove","lastIdentifiers","newList","index","newLastIdentifiers","_i","_index","styleSheet","cssText","firstChild","removeChild","appendChild","document","createTextNode","element","createElement","setAttributes","attributes","insert","cssWithMappingToString","toString","this","map","content","needLayer","join","modules","dedupe","undefined","alreadyImportedModules","k","_k","cssMapping","btoa","base64","unescape","encodeURIComponent","JSON","stringify","data","sourceMapping","___CSS_LOADER_EXPORT___","styleTagTransform","insertStyleElement","locals","InitialDataService","loadInitialDataIfNeeded","databaseService","initialize","hasAnyShips","initialData","loadInitialData","ships","console","log","loaded","errors","shipData","_metadata","shipDesign","cargo","cleanInvalidCargo","saveOrUpdateShipByName","ship","name","error","response","fetch","INITIAL_DATA_PATH","ok","json","hasInitialData","initialDataService","SelectShipPanel","onNewShip","onLoadShip","setShips","useState","selectedShipId","setSelectedShipId","loading","setLoading","setError","useEffect","loadShips","createDefaultShips","defaultFreeTrader","tech_level","tonnage","configuration","fuel_weeks","missile_reloads","sand_reloads","description","engines","engine_type","drive_code","performance","mass","cost","fittings","fitting_type","comms_sensors_type","weapons","weapon_name","quantity","defenses","berths","facilities","facility_type","cargo_type","vehicles","vehicle_type","drones","createdAt","Date","updatedAt","async","savedShips","getAllShips","s","err","defaultShips","_jsx","className","children","_jsxs","onClick","htmlFor","value","onChange","e","target","Number","selectedShip","find","toLocaleDateString","_id","_createdAt","_updatedAt","getShipById","disabled","MassSidebar","activeRules","expandedSections","setExpandedSections","Set","enginesMass","reduce","sum","engine","fittingsMass","fitting","weaponsMass","weapon","defensesMass","defense","facilitiesMass","facility","cargoMass","vehiclesMass","vehicle","dronesMass","drone","berthsMass","berth","jumpDrive","maneuverDrive","jumpPerformance","maneuverPerformance","useAntimatter","has","fuelMass","calculateTotalFuelMass","missileReloadMass","sandReloadMass","categories","alwaysVisible","items","replace","filter","w","d","defense_type","f","v","drone_type","b","berth_type","category","isExpanded","sectionName","newExpanded","delete","add","toggleSection","style","cursor","display","alignItems","gap","transform","transition","toFixed","marginLeft","fontSize","borderTop","paddingTop","marginTop","total","used","isOverweight","remaining","Math","round","FileMenu","onPrint","onSave","onSaveAs","isOpen","setIsOpen","showSaveAsDialog","setShowSaveAsDialog","saveAsName","setSaveAsName","saving","setSaving","saveMessage","setSaveMessage","menuRef","useRef","handleClickOutside","event","current","contains","addEventListener","removeEventListener","handleKeyDown","key","_Fragment","ref","trim","setTimeout","saveShip","errorMessage","Error","message","handleSaveAs","handlePrint","type","placeholder","maxLength","autoFocus","modifiedShipDesign","includes","RulesMenu","onRuleChange","currentTechLevel","canUseAntimatter","isTechLevelAtLeast","canUseLongerJumps","rules","setRules","enabled","prevRules","rule","getStatusIcon","title","ruleId","r","toggleRule","ShipPanel","lazy","EnginesPanel","FittingsPanel","WeaponsPanel","DefensesPanel","BerthsPanel","FacilitiesPanel","CargoPanel","VehiclesPanel","DronesPanel","StaffPanel","SummaryPanel","showSelectShip","setShowSelectShip","currentPanel","setCurrentPanel","combinePilotNavigator","setCombinePilotNavigator","noStewards","setNoStewards","setActiveRules","setShipDesign","sections","panels","checkExistingShips","hasShips","handleFileSave","useCallback","alert","handleFileSaveWithName","newName","handleFileSaveAs","prompt","handleFilePrint","printWindow","window","open","calculateMass","calculateCost","staff","calculateStaffRequirements","tonnageCode","getTonnageCode","getNumberOfSections","hullInfo","shipTitle","toLocaleString","printContent","generatePrintContent","write","close","focus","print","tagName","ctrlKey","shiftKey","preventDefault","handleRuleChange","newRules","Array","from","armor_percentage","spinal_weapon","powerPlant","powerPlantPerformance","spinalWeaponData","getAvailableSpinalWeapons","engineers","shipTonnage","engineCount","max","ceil","totalEnginesWeight","bayWeaponNames","BAY_WEAPON_TYPES","turretsAndBarbettesGunners","forEach","defenseTurretGunners","screenGunners","screenType","screen","totalTons","spinalWeaponGunners","bayWeaponGunners","gunners","service","calculateVehicleServiceStaff","calculateDroneServiceStaff","totalStaterooms","stewards","medicalStaff","calculateMedicalStaff","nurses","surgeons","techs","pilot","navigator","canAdvance","isCurrentPanelValid","some","minimumComputer","getMinimumComputer","computer","COMPUTER_TYPES","findIndex","c","model","computer_model","updateShipDesign","updates","prev","newDesign","handleNewShip","handleLoadShip","knownWeaponNames","WEAPON_TYPES","wt","standardWeapons","loadedShipDesign","removedWeapons","cleanedShipDesign","handleBackToShipSelect","panel","Suspense","fallback","renderCurrentPanel","onUpdate","onLoadExistingShip","shipTechLevel","fuelWeeks","onFuelWeeksUpdate","shipSections","spinalWeapon","missileReloads","remainingMass","onSpinalWeaponUpdate","onMissileReloadsUpdate","weaponsCount","sandReloads","armorPercentage","onSandReloadsUpdate","onArmorUpdate","staffRequirements","adjustedCrewCount","onCombinePilotNavigatorChange","onNoStewardsChange","onBackToShipSelect","prevPanel","nextPanel","href","rel","createRoot","getElementById","render","StrictMode","App","db","dbName","version","Promise","resolve","reject","request","indexedDB","onerror","onsuccess","onupgradeneeded","transaction","oldVersion","objectStoreNames","shipStore","createObjectStore","keyPath","autoIncrement","createIndex","unique","objectStore","cleanupDuplicateFatTraders","indexNames","deleteIndex","getAll","fatTraders","sort","a","getTime","get","store","checkRequest","now","shipToSave","updateShip","getRequest","existingShip","performUpdate","updatedShip","putRequest","put","deleteShip","flushAllShips","clear","getShipByName","shipNameExists","addRequest","memo","styleTarget","querySelector","HTMLIFrameElement","contentDocument","head","getTarget","TECH_LEVELS","getTechLevelIndex","techLevel","indexOf","currentLevel","requiredLevel","currentIndex","requiredIndex","TONNAGE_CODES","minTonnage","code","hullCode","HULL_SIZES","_","ENGINE_PERFORMANCE_PERCENTAGES","power_plant","maneuver_drive","jump_drive","ENGINE_COST_PER_TON","calculateEngineMassAndCost","engineType","getAvailableEngines","hullTonnage","availableEngines","performanceLabel","maxPerformance","maxJump","min","getMaxJumpByTechLevel","label","calculateJumpFuel","calculateManeuverFuel","weeks","totalFuel","getArmorFactorPerIncrement","getAvailableArmorOptions","afPerIncrement","maxAF","getMaxArmorFactor","percentage","armorFactor","floor","armorType","calculateArmorMass","calculateArmorCost","armorMass","minTechLevel","getMaxBayWeapons","baysPerThousandTons","getAvailableBayWeapons","bay","bayTechLevelIndex","SPINAL_WEAPON_TYPES","baseTL","baseMass","baseDamage","baseCost","calculateSpinalWeaponTLBonus","weaponType","tlDifference","sizeModifier","damageModifier","cappedTLDiff","techLevelNum","convertTechLevelToNumber","damage","tlBonus","getSpinalWeaponMountUsage","spinalWeaponName","baseWeapon","getSpinalWeaponMass","DEFENSE_TYPES","SCREEN_TL_LIMITS","nuclear_damper","meson_screen","black_globe","SCREEN_SPECS_BY_HULL","getMaxScreens","tlNum","limits","maxScreens","Object","entries","tl","parseInt","getScreenSpecs","hullRange","BERTH_TYPES","required","FACILITY_TYPES","VEHICLE_TYPES","serviceStaff","DRONE_TYPES","CARGO_TYPES","costPerTon","VALID_CARGO_TYPES","ct","cargoItem","getBridgeMassAndCost","isHalfBridge","bridgeMass","COMMS_SENSORS_TYPES","rating","getWeaponMountLimit","charCodeAt","getAvailableVehicles","shipTL","totalServiceStaff","vehicleType","vt","heavyDroneTonnage","lightDroneTonnage","droneType","dt","droneTonnage","apply","parentNode","removeStyleElement"],"sourceRoot":""}