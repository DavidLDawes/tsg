{"version":3,"file":"662.53ed65f042b02dc6985b.js","mappings":"sKAaA,MAqFA,EArF8CA,EAC5CC,oBACAC,SACAC,cACAC,wBACAC,aACAC,gCACAC,yBAEA,MAAMC,EAA8B,MAAhBL,GAAuC,MAAhBA,EASrCM,EANkBP,EACrBQ,OAAOC,GAA8B,eAArBA,EAAMC,YAAoD,sBAArBD,EAAMC,YAC3DC,OAAO,CAACC,EAAKH,IAAUG,EAAMH,EAAMI,SAAU,GAIRd,EAAkBe,MAGpDC,EAAkBb,GAAyBC,EAC7CJ,EAAkBe,MAAQ,EAAIf,EAAkBiB,SAChDd,EACEH,EAAkBe,MAAQ,EAC1BX,EACEJ,EAAkBe,MAAQf,EAAkBiB,SAC5CjB,EAAkBe,MAE1B,OACEG,EAAAA,EAAAA,MAAA,OAAKC,UAAU,gBAAeC,SAAA,EAC5BC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,uBAEHb,IACCW,EAAAA,EAAAA,MAAA,OAAKC,UAAU,qBAAoBC,SAAA,EACjCC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,6BACJC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,cAAaC,UAC1BF,EAAAA,EAAAA,MAAA,SAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,SACEC,KAAK,WACLC,QAASpB,EACTqB,SAAWC,GAAMpB,EAA8BoB,EAAEC,OAAOH,WACxD,oCAKJf,IACAa,EAAAA,EAAAA,KAAA,OAAKF,UAAU,cAAaC,UAC1BF,EAAAA,EAAAA,MAAA,SAAAE,SAAA,EACEC,EAAAA,EAAAA,KAAA,SACEC,KAAK,WACLC,QAASnB,EACToB,SAAWC,GAAMnB,EAAmBmB,EAAEC,OAAOH,WAC7C,uBAQZL,EAAAA,EAAAA,MAAA,OAAKC,UAAU,kBAAiBC,SAAA,CAC7BjB,GACCkB,EAAAA,EAAAA,KAAA,KAAAD,SAAG,wBAEHF,EAAAA,EAAAA,MAAAS,EAAAA,SAAA,CAAAP,SAAA,EACEF,EAAAA,EAAAA,MAAA,KAAAE,SAAA,CAAG,UAAQpB,EAAkB4B,UAC7BV,EAAAA,EAAAA,MAAA,KAAAE,SAAA,CAAG,cAAYpB,EAAkB6B,iBAGrCX,EAAAA,EAAAA,MAAA,KAAAE,SAAA,CAAG,cAAYpB,EAAkB8B,cACjCZ,EAAAA,EAAAA,MAAA,KAAAE,SAAA,CAAG,YAAUpB,EAAkB+B,YAC/Bb,EAAAA,EAAAA,MAAA,KAAAE,SAAA,CAAG,0CAAwCpB,EAAkBgC,YAC7Dd,EAAAA,EAAAA,MAAA,KAAAE,SAAA,CAAG,aAAWhB,EAAa,EAAIJ,EAAkBiB,aACjDC,EAAAA,EAAAA,MAAA,KAAAE,SAAA,CAAG,WAASpB,EAAkBiC,WAC9Bf,EAAAA,EAAAA,MAAA,KAAAE,SAAA,CAAG,aAAWpB,EAAkBkC,aAChChB,EAAAA,EAAAA,MAAA,KAAAE,SAAA,CAAG,UAAQpB,EAAkBmC,UAC7Bd,EAAAA,EAAAA,KAAA,KAAAD,UAAGF,EAAAA,EAAAA,MAAA,UAAAE,SAAA,CAAQ,gBAAcJ,a","sources":["webpack://starship-designer/./src/components/StaffPanel.tsx"],"sourcesContent":["import React from 'react';\nimport type { StaffRequirements, Berth } from '../types/ship';\n\ninterface StaffPanelProps {\n  staffRequirements: StaffRequirements;\n  berths: Berth[];\n  shipTonnage: number;\n  combinePilotNavigator: boolean;\n  noStewards: boolean;\n  onCombinePilotNavigatorChange: (combine: boolean) => void;\n  onNoStewardsChange: (noStewards: boolean) => void;\n}\n\nconst StaffPanel: React.FC<StaffPanelProps> = ({ \n  staffRequirements, \n  berths, \n  shipTonnage,\n  combinePilotNavigator,\n  noStewards,\n  onCombinePilotNavigatorChange,\n  onNoStewardsChange \n}) => {\n  const isSmallShip = shipTonnage === 100 || shipTonnage === 200;\n  \n  // Calculate if ship has passengers (more staterooms than crew)\n  const totalStaterooms = berths\n    .filter(berth => berth.berth_type === 'staterooms' || berth.berth_type === 'luxury_staterooms')\n    .reduce((sum, berth) => sum + berth.quantity, 0);\n  \n  // Calculate if ship has passengers based on ORIGINAL crew count (not adjusted)\n  // This ensures checkboxes don't disappear when selected\n  const hasPassengers = totalStaterooms > staffRequirements.total;\n  \n  // Calculate actual crew count with adjustments\n  const actualCrewCount = combinePilotNavigator && noStewards\n    ? staffRequirements.total - 1 - staffRequirements.stewards\n    : combinePilotNavigator \n      ? staffRequirements.total - 1 \n      : noStewards \n        ? staffRequirements.total - staffRequirements.stewards\n        : staffRequirements.total;\n\n  return (\n    <div className=\"panel-content\">\n      <h3>Staff Requirements</h3>\n      \n      {isSmallShip && (\n        <div className=\"small-ship-options\">\n          <h4>Small Ship Crew Options</h4>\n          <div className=\"crew-option\">\n            <label>\n              <input\n                type=\"checkbox\"\n                checked={combinePilotNavigator}\n                onChange={(e) => onCombinePilotNavigatorChange(e.target.checked)}\n              />\n              Combine Pilot and Navigator\n            </label>\n          </div>\n          \n          {!hasPassengers && (\n            <div className=\"crew-option\">\n              <label>\n                <input\n                  type=\"checkbox\"\n                  checked={noStewards}\n                  onChange={(e) => onNoStewardsChange(e.target.checked)}\n                />\n                No Stewards\n              </label>\n            </div>\n          )}\n        </div>\n      )}\n      \n      <div className=\"staff-breakdown\">\n        {combinePilotNavigator ? (\n          <p>Pilot/Navigator: 1</p>\n        ) : (\n          <>\n            <p>Pilot: {staffRequirements.pilot}</p>\n            <p>Navigator: {staffRequirements.navigator}</p>\n          </>\n        )}\n        <p>Engineers: {staffRequirements.engineers}</p>\n        <p>Gunners: {staffRequirements.gunners}</p>\n        <p>Service (Vehicle & Drone Maintenance): {staffRequirements.service}</p>\n        <p>Stewards: {noStewards ? 0 : staffRequirements.stewards}</p>\n        <p>Nurses: {staffRequirements.nurses}</p>\n        <p>Surgeons: {staffRequirements.surgeons}</p>\n        <p>Techs: {staffRequirements.techs}</p>\n        <p><strong>Total Staff: {actualCrewCount}</strong></p>\n      </div>\n\n    </div>\n  );\n};\n\nexport default StaffPanel;"],"names":["StaffPanel","staffRequirements","berths","shipTonnage","combinePilotNavigator","noStewards","onCombinePilotNavigatorChange","onNoStewardsChange","isSmallShip","hasPassengers","filter","berth","berth_type","reduce","sum","quantity","total","actualCrewCount","stewards","_jsxs","className","children","_jsx","type","checked","onChange","e","target","_Fragment","pilot","navigator","engineers","gunners","service","nurses","surgeons","techs"],"sourceRoot":""}