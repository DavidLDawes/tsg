"use strict";(self.webpackChunkstarship_designer=self.webpackChunkstarship_designer||[]).push([[619],{619:(e,s,n)=>{n.r(s),n.d(s,{default:()=>l}),n(540);var a=n(749),r=n(848);const l=({defenses:e,shipTonnage:s,shipTechLevel:n,weaponsCount:l,sandReloads:t,armorPercentage:i,remainingMass:c,onUpdate:d,onSandReloadsUpdate:o,onArmorUpdate:m})=>{const h=(0,a.LM)(s),p=e.reduce((e,s)=>e+s.quantity,0),u=h-l-p,x=e.some(e=>e.defense_type.includes("sandcaster")&&e.quantity>0),j=Math.floor(c-t),v=(s,n)=>{const a=Math.max(0,Math.floor(n)),r=e.find(e=>e.defense_type===s.type);if(0===a)d(e.filter(e=>e.defense_type!==s.type));else if(r){const n=e.map(e=>e.defense_type===s.type?{...e,quantity:a}:e);d(n)}else{const n={defense_type:s.type,quantity:a,mass:s.mass,cost:s.cost};d([...e,n])}},f=(n,r)=>{const l=(0,a.lk)(n,s);if(!l)return;const t=e.filter(e=>e.defense_type!==n);r>0&&t.push({defense_type:n,mass:l.mass*r,cost:l.cost*r,quantity:r}),d(t)};return(0,r.jsxs)("div",{className:"panel-content",children:[(0,r.jsxs)("p",{children:["Available defense turret mounts: ",h," (Used: ",l+p,", Remaining: ",u,")"]}),(0,r.jsxs)("div",{className:"defenses-grouped-layout",children:[(0,r.jsx)("div",{className:"defense-group-row",children:a.zv.filter(e=>e.name.includes("Sandcaster")).map(s=>{const n=e.find(e=>e.defense_type===s.type),a=n?.quantity||0;return(0,r.jsxs)("div",{className:"component-item",children:[(0,r.jsx)("div",{className:"component-info",children:(0,r.jsxs)("h4",{children:[s.name,", ",s.mass," tons, ",s.cost," MCr"]})}),(0,r.jsx)("div",{className:"quantity-control",children:(0,r.jsxs)("label",{children:["Quantity:",(0,r.jsx)("input",{type:"number",min:"0",value:a,onChange:e=>v(s,parseInt(e.target.value)||0),style:{width:"60px",marginLeft:"0.5rem"}})]})})]},s.type)})}),(0,r.jsx)("div",{className:"defense-group-row",children:a.zv.filter(e=>e.name.includes("Point Defense")).map(s=>{const n=e.find(e=>e.defense_type===s.type),a=n?.quantity||0;return(0,r.jsxs)("div",{className:"component-item",children:[(0,r.jsx)("div",{className:"component-info",children:(0,r.jsxs)("h4",{children:[s.name,", ",s.mass," tons, ",s.cost," MCr"]})}),(0,r.jsx)("div",{className:"quantity-control",children:(0,r.jsxs)("label",{children:["Quantity:",(0,r.jsx)("input",{type:"number",min:"0",value:a,onChange:e=>v(s,parseInt(e.target.value)||0),style:{width:"60px",marginLeft:"0.5rem"}})]})})]},s.type)})})]}),(0,r.jsxs)("div",{className:"armor-section",children:[(0,r.jsx)("h3",{children:"Armor"}),(0,r.jsxs)("p",{children:["Tech Level ",n," armor provides AF-",(0,a.n7)(n)," per 5% of ship tonnage.",4===(0,a.n7)(n)?" (Crystaliron)":" (Advanced Armor)"]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{htmlFor:"armor-percentage",children:"Armor Coverage"}),(0,r.jsxs)("select",{id:"armor-percentage",value:i||0,onChange:e=>m(parseInt(e.target.value)),children:[(0,r.jsx)("option",{value:"0",children:"No Armor (AF-0)"}),(0,a.py)(n).map(e=>(0,r.jsx)("option",{value:e.percentage,children:e.label},e.percentage))]}),i>0&&(0,r.jsxs)("small",{children:["Mass: ",(0,a.SD)(s,i).toFixed(1)," tons, Cost: ",(0,a.BV)((0,a.SD)(s,i)).toFixed(2)," MCr"]})]})]}),x&&(0,r.jsxs)("div",{className:"sand-reloads-section",children:[(0,r.jsx)("h3",{children:"Sand Reloads"}),(0,r.jsx)("p",{children:"Sandcaster turrets detected. You can allocate tonnage for sand reloads."}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{htmlFor:"sand-reloads",children:"Sand Reload Tonnage"}),(0,r.jsx)("input",{id:"sand-reloads",type:"number",min:"0",max:j+t,value:t,onChange:e=>o(Math.max(0,parseInt(e.target.value)||0))}),(0,r.jsxs)("small",{children:["0 - ",j+t," tons available. Cost: ",(.1*t).toFixed(1)," MCr (0.1 MCr per ton)"]})]}),t>0&&(0,r.jsxs)("div",{className:"sand-summary",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Sand Reloads:"})," ",t," tons (",(.1*t).toFixed(1)," MCr)"]}),(0,r.jsx)("p",{children:(0,r.jsx)("small",{children:"Provides additional sand ammunition for sandcaster turrets"})})]})]}),(0,r.jsxs)("div",{className:"screens-section",children:[(0,r.jsx)("h3",{children:"Defensive Screens"}),(0,r.jsx)("p",{children:"Advanced defensive systems for capital ships. Availability depends on tech level and hull size."}),(()=>{const l=(0,a.u6)("nuclear_damper",n),t=(0,a.lk)("nuclear_damper",s),i=e.find(e=>"nuclear_damper"===e.defense_type)?.quantity||0;return 0!==l&&t?(0,r.jsxs)("div",{className:"screen-item",children:[(0,r.jsx)("h4",{children:"Nuclear Dampers"}),(0,r.jsxs)("p",{children:["Max allowed: ",l," | Per screen: ",t.mass," tons, ",t.cost," MCr"]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{htmlFor:"nuclear-dampers",children:"Number of Nuclear Dampers"}),(0,r.jsx)("input",{id:"nuclear-dampers",type:"number",min:"0",max:l,value:i,onChange:e=>f("nuclear_damper",Math.min(l,Math.max(0,parseInt(e.target.value)||0)))}),i>0&&(0,r.jsxs)("small",{children:["Total: ",t.mass*i," tons, ",t.cost*i," MCr"]})]})]}):(0,r.jsxs)("div",{className:"screen-item",children:[(0,r.jsx)("h4",{children:"Nuclear Dampers"}),(0,r.jsx)("p",{className:"info-message",children:"Not available (requires TL 12+ and hull code CA+)"})]})})(),(()=>{const l=(0,a.u6)("meson_screen",n),t=(0,a.lk)("meson_screen",s),i=e.find(e=>"meson_screen"===e.defense_type)?.quantity||0;return 0!==l&&t?(0,r.jsxs)("div",{className:"screen-item",children:[(0,r.jsx)("h4",{children:"Meson Screens"}),(0,r.jsxs)("p",{children:["Max allowed: ",l," | Per screen: ",t.mass," tons, ",t.cost," MCr"]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{htmlFor:"meson-screens",children:"Number of Meson Screens"}),(0,r.jsx)("input",{id:"meson-screens",type:"number",min:"0",max:l,value:i,onChange:e=>f("meson_screen",Math.min(l,Math.max(0,parseInt(e.target.value)||0)))}),i>0&&(0,r.jsxs)("small",{children:["Total: ",t.mass*i," tons, ",t.cost*i," MCr"]})]})]}):(0,r.jsxs)("div",{className:"screen-item",children:[(0,r.jsx)("h4",{children:"Meson Screens"}),(0,r.jsx)("p",{className:"info-message",children:"Not available (requires TL 12+ and hull code CA+)"})]})})(),(()=>{const l=(0,a.u6)("black_globe",n),t=(0,a.lk)("black_globe",s),i=e.find(e=>"black_globe"===e.defense_type)?.quantity||0;return 0!==l&&t?(0,r.jsxs)("div",{className:"screen-item",children:[(0,r.jsx)("h4",{children:"Black Globes (Force Fields)"}),(0,r.jsxs)("p",{children:["Max allowed: ",l," | Per field: ",t.mass," tons, ",t.cost," MCr"]}),(0,r.jsxs)("div",{className:"form-group",children:[(0,r.jsx)("label",{htmlFor:"black-globes",children:"Number of Black Globes"}),(0,r.jsx)("input",{id:"black-globes",type:"number",min:"0",max:l,value:i,onChange:e=>f("black_globe",Math.min(l,Math.max(0,parseInt(e.target.value)||0)))}),i>0&&(0,r.jsxs)("small",{children:["Total: ",t.mass*i," tons, ",t.cost*i," MCr"]})]})]}):(0,r.jsxs)("div",{className:"screen-item",children:[(0,r.jsx)("h4",{children:"Black Globes (Force Fields)"}),(0,r.jsx)("p",{className:"info-message",children:"Not available (requires TL 15+ and hull code CA+)"})]})})()]})]})}}}]);
//# sourceMappingURL=619.a18c460da1cd0f55aeee.js.map