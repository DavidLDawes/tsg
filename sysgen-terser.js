starTypes=Array("Type A","Type F","Type G","Type K","Type M","Type L"),orbitTypes=Array("Tight orbit","Close orbit","Moderate orbit","Distant orbit"),planetTypes=Array("Asteroid Belt","Dwarf Planet","Terrestrial Planet","Helian Planet","Jovian Planet","Companion Star"),starportTypes=Array("X","E","D","C","B","A"),starportDetails=Array("No Starport. No provision is made for any ship landings. ","Frontier Installation. Essentially a marked spot of\nbedrock with no fuel, facilities, or bases present.","Poor Quality. Only unrefined fuel available. No repair\nfacilities present.","Routine Quality. Only unrefined fuel available. Reasonable\nrepair facilities present.","Good Quality. Refined fuel available. Annual maintenance\noverhaul available. Shipyard capable of constructing non-starships present.","Excellent Quality. Refined fuel available. Annual\nmaintenance overhaul available. Shipyard capable of constructing starships and\nnon-starships present."),sizeDetails=Array("800 km","1,600 km","3,200 km","4,800 km","6,400 km","8,000 km","9,600 km","11,200 km","12,800 km","14,400 km","16,000 km"),gravDetails=Array("Negligible","0.05G","0.15G","0.25G","0.35G","0.45G","0.7G","0.9G","1.0G","1.25G","1.4G"),gDetails=Array(0,.05,.15,.25,.35,.45,.7,.9,1,1.25,1.4),tl=Array("0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","J","K","L","M","N","P","Q","R","S","T","U","V","W","X","Y","Z"),atmosphereDetails=Array("None","Trace","Very Thin, Tainted","Very Thin","Thin, Tainted","Thin","Standard","Standard, Tainted","Dense","Dense, Tainted","Exotic","Corrosive","Insidious","Dense","Thin","Unusual"),atmospherePressureDetails=Array("0.00","0.001 to 0.09","0.1 to 0.42","0.1 to 0.42","0.43 to 0.7","0.43 to 0.7","0.71 to 1.49","0.71 to 1.49","1.5 to 2.5","1.5 to 2.5","Varies","Varies","Varies","High","Low","Varies","Varies"),atmosphereEquipmentDetails=Array("Vacc Suit","Vacc Suit","Respirator, Filter","Respirator","Respirator, Filter","Respirator","","Filter","","Filter","Air Supply","Vacc Suit","Vacc Suit","Pressure Suit","Vacc Suit","Varies"),hydroDetails=Array("Desert World","Dry World","A few small seas","Small to medium seas","Wet World","Large Oceans","Small seas and oceans.","Earth-like world","Water World","A few small islands and archipelagos","Almost Entirely Water"),hydroRangeDetails=Array("0% - 5%","6% - 15%","16% - 25%","26% - 35%","36% - 45%","46% - 55%","56% - 65%","66% - 75%","76% - 85%","86% - 95%","96% - 100%",100,"Almost Entirely Water"),populationDetail=Array(10,100,1e3," 10,000 "," 100,000 "," 1,000,000 "," 10,000,000 "," 100,000,000 "," 1,000,000,000 "," 10,000,000,000 "),govDetails=Array("None","Company/Corporation ","Participating Democracy ","Self-Perpetuating Oligarchy ","Representative Democracy ","Feudal Technocracy ","Captive Government ","Balkanization ","Civil Service Bureaucracy ","Impersonal Bureaucracy ","Charismatic Dictator ","Non-Charistmatic Dictator ","Charismatic Oligarchy ","Religious Dictatorship "),lawDetails=Array("No Restrictions","No poison gas, explosives, undetectable weapons, or WMD","No portable energy weapons (except ship-mounted weapons)","No heavy weapons","No light assault weapons or submachine guns","No personal concealable weapons","No firearms except shotguns and stunners; carrying weapons discouraged","Only stunners allowed; carrying weapons discouraged","Bladed weapons allowed, no firearms at all","No weapons of any sort"),techDetails=Array("No technology","Roughly on a par with Bronze or Iron age technology.","Renaissance technology.","The germ of industrial revolution and steam power.","The transition to industrial revolution is complete, bringing plastics, radio and other such inventions.","Widespread electrification, telecommunications and internal combustion.","Fission power and more advanced computing.","A pre-stellar society can reach orbit reliably and has telecommunications satellites.","At TL 8, it is possible to reach other worlds in the same system, although\nterraforming or full colonisation are not within reach.","Gravity manipulation, which makes space travel vastly safer and faster.","With the advent of Jump, nearby systems are opened up.","The first true artificial intelligences become possible, as computers are\nable to model synaptic networks.","Weather control revolutionizes terraforming and agriculture.","The battle dress appears on the battlefield in response to the new\nweapons.","Fusion weapons become man-portable.","Black globe generators suggest a new direction for\ndefensive technologies, while the development\nof synthetic anagathics means that the human lifespan is\nnow vastly increased. Higher Technology Levels exist\nand may appear in other settings or be discovered\nby pioneering scientists.","Antimatter engines allow much longer jumps (J-8) with reasonable cargo, counter weapons and shields improve,\npowered/active armor increases durability, communications equivalent to\npersonal telepathy and good shielding","All engines are compact, take fewer engineers, and perform extremely well,\nup to J-12 and M-16, P-18, human multiplicity physically and virtually is\ncommon, super-intelligent AI, low berths are 0 risk and cure\nalmost all cancers and diseases, forms are mutable.","Speculative, J-16, M-20, P-24, extremely good armor, black globe with\ncomplete variability control and huge storage, capital ships can use black\nglobes to power outrageous arsenals.","J-20, J-30 when not near massive objects, J-40 with obscure psionics\nintegrated into production and operation of engines and ships. Resurections,\nbackups, robo/physical/virtual multi-embodiement with merged\nconsciousness, meta-human groupings with others for even larger merged consciousnesses.\nImmunity to pretty much every form of death."),techRange=Array("Primitive","Primitive","Primitive","Primitive","Industrial","Industrial","Industrial","Pre-Stellar","Pre-Stellar","Pre-Stellar","Early Stellar","Early Stellar","Average Stellar","Average Stellar","Average Stellar","High Stellar","High Stellar","Low Sector","Average Sector","High Sector"),tradeCode=Array("Ag","As","De","Fl","Ga","Hi","Ht","Ic","In","Lo","Lt","Na","Ni","Po","Ri","St","Wa","Va","Gg","Wr"),tradeDescription=Array("Agricultural","Asteroid Belt","Desert","Fluid Oceans","Garden","High Population","High Technology","Ice-Capped","Industrial","Low Population","Low Technology","Non-Agricultural","Non-Industrial","Poor","Rich","Sterile","Water World","Vacuum","Gas Giant","Wilderness Refueling"),currentSubsector=0,subsectorData=Array(16);for(let e=0;e<16;e++)subsectorData[e]={column:[],row:[],numStars:[],Moderate_Companion:[],Distant_Companion:[],Close_Companion:[],starsDescription:[],num_GasGiants:[],num_AsteroidBelts:[],planetsDescription:[],currentSystem:0,starport:[],starportCode:[],uwp:[],systemTradeCodes:[],systemTradeDescriptions:[],size:[],atmos:[],hydro:[],pop:[],factor:[],law:[],gov:[],splinters:[],tech:[],allTradeCodes:[]};function drawSubsectorGrid(){const e=document.getElementById("SubsectorGrid"),t=e.getContext("2d"),a=100;t.clearRect(0,0,e.width,e.height),t.font="20px Arial",t.textAlign="center",t.textBaseline="middle";for(let e=0;e<4;e++)for(let s=0;s<4;s++){const r=4*e+s,n=s*a,o=e*a;t.strokeStyle="black",t.lineWidth=2,t.strokeRect(n,o,a,a),r===currentSubsector&&(t.fillStyle="lightblue",t.fillRect(n,o,a,a),t.strokeRect(n,o,a,a)),t.fillStyle="black",t.fillText((r+1).toString(),n+50,o+50)}}function drawAllUWPs(){const e=document.getElementById("Sector").getContext("2d"),t=document.getElementById("filterSelect").value;e.font="13px Arial";for(let a=0;a<4;a++)for(let s=0;s<10;s++)i2=a+a,i21=i2+1,e.fillStyle="black",e.fillText(" "+s+i2,38+119*a,26+68.8*s),snum=matchRC(s,i2),snum>-1&&(snum===currentSystem?e.fillStyle="green":t&&systemTradeCodes[snum].includes(t)?e.fillStyle="red":e.fillStyle="black",e.fillText(uwp[snum],14+119*a,50+68.8*s)),e.fillStyle="black",e.fillText("  "+s+i21,94+120*a,59.7+68.8*s),snum=matchRC(s,i21),snum>-1&&(snum===currentSystem?e.fillStyle="green":t&&systemTradeCodes[snum].includes(t)?e.fillStyle="red":e.fillStyle="black",e.fillText(uwp[snum],72+119*a,85+68.8*s))}function updateCanvasColors(){const e=document.getElementById("Sector").getContext("2d");drawing=new Image,drawing.src="hexagons.png",drawing.onload=function(){e.drawImage(drawing,0,0),drawAllUWPs()}}function loadSubsectorData(e){currentSubsector=e;const t=subsectorData[e];column=t.column,row=t.row,numStars=t.numStars,Moderate_Companion=t.Moderate_Companion,Distant_Companion=t.Distant_Companion,Close_Companion=t.Close_Companion,starsDescription=t.starsDescription,num_GasGiants=t.num_GasGiants,num_AsteroidBelts=t.num_AsteroidBelts,planetsDescription=t.planetsDescription,currentSystem=t.currentSystem,starport=t.starport,starportCode=t.starportCode,uwp=t.uwp,systemTradeCodes=t.systemTradeCodes,systemTradeDescriptions=t.systemTradeDescriptions,size=t.size,atmos=t.atmos,hydro=t.hydro,pop=t.pop,factor=t.factor,law=t.law,gov=t.gov,splinters=t.splinters,tech=t.tech,allTradeCodes=t.allTradeCodes,document.getElementById("SubsectorNum").innerText="Subsector "+(e+1)+" of 16"}function saveSubsectorData(e){const t=subsectorData[e];t.column=column,t.row=row,t.numStars=numStars,t.Moderate_Companion=Moderate_Companion,t.Distant_Companion=Distant_Companion,t.Close_Companion=Close_Companion,t.starsDescription=starsDescription,t.num_GasGiants=num_GasGiants,t.num_AsteroidBelts=num_AsteroidBelts,t.planetsDescription=planetsDescription,t.currentSystem=currentSystem,t.starport=starport,t.starportCode=starportCode,t.uwp=uwp,t.systemTradeCodes=systemTradeCodes,t.systemTradeDescriptions=systemTradeDescriptions,t.size=size,t.atmos=atmos,t.hydro=hydro,t.pop=pop,t.factor=factor,t.law=law,t.gov=gov,t.splinters=splinters,t.tech=tech,t.allTradeCodes=allTradeCodes}function generateSystem(e){!function(e){switch(z15=function(){return Math.floor(6*Math.random())+Math.floor(6*Math.random())+Math.floor(6*Math.random())}(),!0){case z15>12:numStars[e]=3;break;case z15>7:numStars[e]=2;break;case z15<8:numStars[e]=1;default:numStars[e]=1}}(e),function(e){switch(starsDescription[e]="",z10=zero2ten(),!0){case 0==z10:starsDescription[e]+=starTypes[0];break;case 1==z10:starsDescription[e]+=starTypes[1];break;case 2==z10:starsDescription[e]+=starTypes[2];break;case 3==z10:starsDescription[e]+=starTypes[3];break;case z10>3:starsDescription[e]+=starTypes[4];break;default:starsDescription[e]+=starTypes[3]}if(numStars[e]>1)for(nextOrbit="",i=1;i<numStars[e];i++){switch(z5=zero2five(),!0){case z5<2:Close_Companion=!0,nextOrbit=orbitTypes[0];break;case z5<4:Close_Companion=!0,nextOrbit=orbitTypes[1];break;case 4==z5:Moderate_Companion=!0,nextOrbit=orbitTypes[2];break;case z5>4:Distant_Companion=!0,nextOrbit=orbitTypes[3];break;default:Close_Companion=!0,nextOrbit=orbitTypes[0]}switch(zero2five()){case 0:starsDescription[e]+=", secondary "+starTypes[0]+" in "+nextOrbit;break;case 1:starsDescription[e]+=", secondary "+starTypes[1]+" in "+nextOrbit;break;case 2:starsDescription[e]+=", secondary "+starTypes[2]+" in "+nextOrbit;break;case 3:default:starsDescription[e]+=", secondary "+starTypes[3]+" in "+nextOrbit;break;case 4:case 5:case 6:starsDescription[e]+=", secondary "+starTypes[4]+" in "+nextOrbit}}}(e),function(e){if(num_AsteroidBelts[e]=0,num_GasGiants[e]=0,planetsDescription[e]="",Epistellar_Planets=0,Inner_Planets=0,Outer_Planet=0,Close_Companion)Epistellar_Planets=0;else if(Epistellar_Planets=zero2five()-2,Epistellar_Planets<0&&(Epistellar_Planets=0),Epistellar_Planets>2&&(Epistellar_Planets=2),Epistellar_Planets>0)for(planetsDescription[e]+="Epistellar planets:\n",i=0;i<Epistellar_Planets;i++)getPlanet(e);Inner_Planets=zero2five(),Inner_Planets<0&&(Inner_Planets=0);if(Inner_Planets>0)for(planetsDescription[e]+="Inner planets:\n",i=0;i<Inner_Planets;i++)getPlanet(e);Outer_Planets=zero2five(),Moderate_Companion&&Outer_Planet--;Outer_Planets<0&&(Outer_Planets=0);if(Outer_Planets>0)for(planetsDescription[e]=planetsDescription[e]+"Outer planets:\n",i=0;i<Outer_Planets;i++)getPlanet(e)}(e),function(e){(function(e){switch(zero2ten()){case 0:starport[e]=0;case 1:case 2:starport[e]=1;case 3:case 4:starport[e]=2;break;case 5:case 6:starport[e]=3;break;case 7:case 8:starport[e]=4;break;case 9:case 10:case 11:starport[e]=5;break;default:starport[e]=3}starportCode=starTypes[starport[e]]})(e),function(e){size[e]=zero2ten()}(e),function(e){atmos[e]=zero2ten()+size[e]-5,atmos[e]<0&&(atmos[e]=0);atmos[e]>15&&(atmos[e]=15)}(e),function(e){if(size<2)hydro[e]=0;else{switch(hydro[e]=zero2ten()-5+size[e],atmos[e]){case 0:case 1:case 10:case 11:case 12:hydro[e]=hydro[e]-4}hydro[e]<0&&(hydro[e]=0),hydro[e]>10&&(hydro[e]=10)}}(e),function(e){pop[e]=zero2ten(),pop[e]>0&&(factor[e]=Math.floor(8*Math.random()+1))}(e),function(e){gov[e]=zero2ten()-5+pop[e],gov[e]<0?gov[e]=0:gov[e]>13&&(gov[e]=13)}(e),function(e){law[e]=zero2ten()-7+gov[e],law[e]<0&&(law[e]=0)}(e),function(e){switch(tech[e]=zero2five()+1,starport[e]){case 0:tech[e]-=4;break;case 3:tech[e]+=2;break;case 4:tech[e]+=4;break;case 5:tech[e]+=6}size[e]<2?tech[e]+=2:size[e]<5&&(tech[e]+=1);(atmos[e]<4||atmos[e]>9)&&(tech[e]+=1);0==hydro[e]||9==hydro[e]?tech[e]++:10==hydro[e]&&(tech[e]+=2);pop[e]<6||9==pop[e]?tech[e]++:10==pop[e]?tech[e]+=2:11==pop[e]?tech[e]+=3:12==pop[e]?tech[e]+=4:13==pop[e]?tech[e]+=5:14==pop[e]&&(tech[e]+=6);0==gov[e]||5==gov[e]?tech[e]++:7==gov[e]?tech[e]+=2:13!=gov[e]&&14!=gov[e]||(tech[e]-=2);tech[e]<0&&(tech[e]=0)}(e),function(e){systemTradeCodes[e]="",systemTradeDescriptions[e]="",atmos[e]>3&&atmos[e]<10&&hydro[e]>3&&hydro[e]<9&&pop[e]>4&&pop[e]<8&&(systemTradeCodes[e]+=tradeCode[0]+" ",systemTradeDescriptions[e]+=tradeCode[0]+" "+tradeDescription[0]+"\n");num_AsteroidBelts[e]>0&&(systemTradeCodes[e]+=tradeCode[1]+" ",systemTradeDescriptions[e]+=tradeCode[1]+" "+tradeDescription[1]+"\n");atmos[e]>1&&atmos[e]<14&&0==hydro[e]&&(systemTradeCodes[e]+=tradeCode[2]+" ",systemTradeDescriptions[e]+=tradeCode[2]+" "+tradeDescription[2]+"\n");(atmos[e]>9||hydro[e]>0&&hydro[e]<12)&&(systemTradeCodes[e]+=tradeCode[3]+" ",systemTradeDescriptions[e]+=tradeCode[3]+" "+tradeDescription[3]+"\n");size[e]>4&&size[e]<11&&atmos[e]>3&&atmos[e]<10&&hydro[e]>3&&hydro[e]<9&&(systemTradeCodes[e]+=tradeCode[4]+" ",systemTradeDescriptions[e]+=tradeCode[4]+" "+tradeDescription[4]+"\n");pop[e]>8&&(systemTradeCodes[e]+=tradeCode[5]+" ",systemTradeDescriptions[e]+=tradeCode[5]+" "+tradeDescription[5]+"\n");tech[e]>9&&(systemTradeCodes[e]+=tradeCode[6]+" ",systemTradeDescriptions[e]+=tradeCode[6]+" "+tradeDescription[6]+"\n");atmos[e]<2&&hydro[e]>0&&(systemTradeCodes[e]+=tradeCode[7]+" ",systemTradeDescriptions[e]+=tradeCode[7]+" "+tradeDescription[7]+"\n");pop[e]>8&&tech[e]>6&&(systemTradeCodes[e]+=tradeCode[8]+" ",systemTradeDescriptions[e]+=tradeCode[8]+" "+tradeDescription[8]+"\n");pop[e]<4&&(systemTradeCodes[e]+=tradeCode[9]+" ",systemTradeDescriptions[e]+=tradeCode[9]+" "+tradeDescription[9]+"\n");tech[e]<6&&(systemTradeCodes[e]+=tradeCode[10]+" ",systemTradeDescriptions[e]+=tradeCode[10]+" "+tradeDescription[10]+"\n");(atmos[e]<4||atmos[e]>10||hydro[e]<4||hydro[e]>10)&&pop[e]>5&&(systemTradeCodes[e]+=tradeCode[11]+" ",systemTradeDescriptions[e]+=tradeCode[11]+" "+tradeDescription[11]+"\n");pop[e]>3&&pop[e]<7&&(systemTradeCodes[e]+=tradeCode[12]+" ",systemTradeDescriptions[e]+=tradeCode[12]+" "+tradeDescription[12]+"\n");atmos[e]>1&&atmos[e]<6&&hydro[e]<4&&(systemTradeCodes[e]+=tradeCode[13]+" ",systemTradeDescriptions[e]+=tradeCode[13]+" "+tradeDescription[13]+"\n");(6==atmos[e]||8==atmos[e])&&pop[e]>5&&pop[e]<9&&(systemTradeCodes[e]+=tradeCode[14]+" ",systemTradeDescriptions[e]+=tradeCode[14]+" "+tradeDescription[14]+"\n");0==atmos[e]&&0==hydro[e]&&(systemTradeCodes[e]+=tradeCode[15]+" ",systemTradeDescriptions[e]+=tradeCode[15]+" "+tradeDescription[15]+"\n");(10==hydro[e]||11==hydro[e])&&atmos[e]>1&&(systemTradeCodes[e]+=tradeCode[16]+" ",systemTradeDescriptions[e]+=tradeCode[16]+" "+tradeDescription[16]+"\n");0==atmos[e]&&(systemTradeCodes[e]+=tradeCode[17]+" ",systemTradeDescriptions[e]+=tradeCode[17]+" "+tradeDescription[17]+"\n");num_GasGiants[e]>0&&(systemTradeCodes[e]+=tradeCode[18]+" ",systemTradeDescriptions[e]+=tradeCode[18]+" "+tradeDescription[18]+"\n");(num_GasGiants[e]>0||hydro[e]>3)&&(systemTradeCodes[e]+=tradeCode[19]+" ",systemTradeDescriptions[e]+=tradeCode[19]+" "+tradeDescription[19]+"\n")}(e),function(e){uwp[e]=starportTypes[starport[e]]+tl[size[e]]+tl[atmos[e]]+tl[hydro[e]]+tl[pop[e]]+tl[gov[e]]+tl[law[e]]+"-"+tl[tech[e]]}(e)}(e)}function setSystem(e){currentSystem=e,function(e){1==numStars[e]?document.getElementById("Stars").innerHTML="Single Star System, ":2==numStars[e]?document.getElementById("Stars").innerHTML="Dual Star System, ":document.getElementById("Stars").innerHTML="Triple Star System, "}(e),function(e){document.getElementById("Stars").innerHTML+=starsDescription[e]}(e),function(e){document.getElementById("Planets").innerHTML=planetsDescription[e]}(e),function(e){(function(e){document.getElementById("Location").innerHTML="Location row "+row[e]+", column "+column[e]})(e),function(e){document.getElementById("Port").innerHTML="Starport type "+starportTypes[starport[e]]+", "+starportDetails[starport[e]]}(e),function(e){document.getElementById("Size").innerHTML="Size "+tl[size[e]]+", "+sizeDetails[size[e]]+", gravity "+gravDetails[size[e]]}(e),function(e){document.getElementById("Atmos").innerText="Atmosphere "+tl[atmos[e]]+", "+atmosphereDetails[atmos[e]]+", pressure "+atmospherePressureDetails[atmos[e]]+", equipment required: "+atmosphereEquipmentDetails[atmos[e]]}(e),function(e){document.getElementById("Hydro").innerText="Hydrology "+tl[hydro[e]]+", "+hydroDetails[hydro[e]]+", covering "+hydroRangeDetails[hydro[e]]+" of the surface"}(e),function(e){0==pop[e]?document.getElementById("Pop").innerText="Population "+tl[pop[e]]+" - Unpopulated":document.getElementById("Pop").innerText="Population "+tl[pop[e]]+" - "+populationDetail[pop[e]-1]+" times "+factor[e]}(e),function(e){document.getElementById("Gov").innerText="Government "+tl[gov[e]]+" - "+govDetails[gov[e]]}(e),function(e){document.getElementById("Law").innerText="Law Level "+tl[law[e]]+" - "+lawDetails[law[e]]}(e),function(e){document.getElementById("Tech").innerText="Tech Level "+tl[tech[e]]+" ("+techRange[tech[e]]+") - "+techDetails[tech[e]]}(e),function(e){document.getElementById("Codes").innerText=systemTradeDescriptions[e]}(e),function(e){document.getElementById("UWP").innerText="UWP "+uwp[e]+"\nTrade codes: "+systemTradeCodes[e]}(e)}(e)}function getPlanet(e){switch(delta=0,firstpass=!0,z2d=zero2five(),!0){case z2d<1:zero2five()>3?(planetsDescription[e]+=planetTypes[0]+" Mostly Dwarf planetoids, one "+planetTypes[1]+";",num_AsteroidBelts[e]++):(planetsDescription[e]+=planetTypes[0]+";",num_AsteroidBelts[e]++);break;case 1==z2d:zero2five()>4?(planetsDescription[e]+=planetTypes[1],planetTypes[1]):planetsDescription[e]+=planetTypes[1]+";";break;case 2==z2d:zero2five()>3?planetsDescription[e]+=planetTypes[2]+" Satellite "+planetTypes[1]+";":planetsDescription[e]+=planetTypes[2]+";";break;case 3==z2d:numSat=zero2five()-2,numSat<0&&(numSat=0),numSat>0?zero2five()<5?1==numSat?planetsDescription[e]+=planetTypes[3]+" Satelite "+planetTypes[1]+";":planetsDescription[e]+=planetTypes[3]+" Satelite "+planetTypes[1]+numSat+"x "+planetTypes[1]+";":1==numSat?planetsDescription[e]+=planetTypes[3]+" Satellite "+planetTypes[1]+";":2==numSat?planetsDescription[e]+=planetTypes[3]+" Satellite "+planetTypes[2]+" & "+planetTypes[1]+";":planetsDescription[e]+=planetTypes[3]+" Satellite "+planetTypes[2]+numSat+"x "+planetTypes[1]+";":planetsDescription[e]+=planetTypes[3]+";";break;case z2d<7:numSat=zero2five()+1,zero2five()<5?1==numSat?(planetsDescription[e]+=planetTypes[4]+" Satelite "+planetTypes[1]+";",num_GasGiants[e]++):(planetsDescription[e]+=planetTypes[4]+" Satellite "+numSat+"x "+planetTypes[1]+";",num_GasGiants[e]++):1==numSat?(planetsDescription[e]+=planetTypes[4]+" Satellite "+planetTypes[2]+";",num_GasGiants[e]++):2==numSat?(planetsDescription[e]+=planetTypes[4]+" Satellites "+planetTypes[2]+" & "+planetTypes[1]+";",num_GasGiants[e]++):(planetsDescription[e]+=planetTypes[4]+" Satelites "+planetTypes[2]+" & "+numSat+"x "+planetTypes[1]+";",num_GasGiants[e]++);break;default:zero2five()>3?(planetsDescription[e]+=planetTypes[2],planetTypes[1]):planetsDescription[e]+=planetTypes[2]+";"}}function matchRC(e,t){for(i=0;i<row.length;i++)if(row[i]==e&&column[i]==t)return i;return-1}function zero2five(){return Math.floor(6*Math.random())}function zero2ten(){return Math.floor(6*Math.random())+Math.floor(6*Math.random())}function variableOdds(e){return e>Math.floor(100*Math.random())}column=Array(0),row=Array(0),numStars=Array(1),Moderate_Companion=Array(!1),Distant_Companion=Array(!1),Close_Companion=Array(!1),starsDescription=Array(""),num_GasGiants=Array(0),num_AsteroidBelts=Array(0),planetsDescription=Array(""),currentSystem=0,starport=Array(0),starportCode=Array("X"),uwp=Array(""),systemTradeCodes=Array(""),systemTradeDescriptions=Array(""),size=Array(0),atmos=Array(0),hydro=Array(0),pop=Array(0),factor=Array(0),law=Array(0),gov=Array(0),splinters=Array(0),tech=Array(0),allTradeCodes=Array(""),window.onload=function(){!function(e){for(let t=0;t<16;t++){column=[],row=[],numStars=[],Moderate_Companion=[],Distant_Companion=[],Close_Companion=[],starsDescription=[],num_GasGiants=[],num_AsteroidBelts=[],planetsDescription=[],starport=[],starportCode=[],uwp=[],systemTradeCodes=[],systemTradeDescriptions=[],size=[],atmos=[],hydro=[],pop=[],factor=[],law=[],gov=[],splinters=[],tech=[],allTradeCodes=[];let a=0;for(let t=0;t<8;t++)for(let s=0;s<10;s++)variableOdds(e)&&(column[a]=t,row[a]=s,generateSystem(a),a++);saveSubsectorData(t)}currentSubsector=0,loadSubsectorData(0),drawSubsectorGrid();const t=document.getElementById("SubsectorGrid");t.addEventListener("click",function(e){const a=t.getBoundingClientRect(),s=e.clientX-a.left,r=e.clientY-a.top,n=Math.floor(s/100),o=Math.floor(r/100);if(n>=0&&n<4&&o>=0&&o<4){const e=4*o+n;e!==currentSubsector&&(saveSubsectorData(currentSubsector),loadSubsectorData(e),drawSubsectorGrid(),updateCanvasColors(),setSystem(0))}});const a=document.getElementById("Sector");elemLeft=a.offsetLeft+a.clientLeft,elemTop=a.offsetTop+a.clientTop;const s=a.getContext("2d");a.addEventListener("click",function(e){var t=e.pageX-elemLeft,a=e.pageY-elemTop;eCol=Math.floor((t-38)/60),eRow=Math.floor((a-50)/60.4),snum=matchRC(eRow,eCol),snum>-1&&setSystem(snum)}),s.font="13px Arial",s.fillStyle="black",drawing=new Image,drawing.src="hexagons.png",drawing.onload=function(){s.drawImage(drawing,0,0),drawAllUWPs()}}(40),setSystem(0),drawSubsectorGrid(),updateCanvasColors()};
